const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/testingRoute-fLuygcF-.js","assets/expandable-tabs-DNdrBjUJ.js","assets/utils-fPxO0LcY.js","assets/proxy-B4liFZpl.js","assets/calendar-BW4jj_Tu.js","assets/profileComplete-KA1PLpsZ.js","assets/themeToggle-QcGY7WKc.js","assets/button-Ofuu-hip.js","assets/dropdown-menu-kcUle1bL.js","assets/index-DU_qYxQJ.js","assets/index-Cddb2dPA.js","assets/Combination-DT5xrtaV.js","assets/index-BZ2tRrEI.js","assets/check-CQ_oRtnE.js","assets/useQuery-DuyFL5rf.js","assets/useMutation-Bot8Df2Z.js","assets/index.esm-CqFaoi7S.js","assets/avatar-DqJd4sIU.js","assets/card-DclFjytW.js","assets/label-SP6ZKMzq.js","assets/select-CgaZysCq.js","assets/index-C2yBN5Vd.js","assets/user-round-BLd8o4Z7.js","assets/x-CTHWGIDn.js","assets/home-Crb8JMwc.js","assets/error404-3Y2WUO_Z.js","assets/home-CEYRfPuh.js","assets/drawer-rn-oL4m1.js","assets/index-DwB-BBD4.js","assets/separator-D4wQg4-e.js","assets/dollar-sign-CIk4JssZ.js","assets/index-J59Cn4qw.js","assets/Logo-VpfvOtMJ.js","assets/proxy-Cjk3Hb2o.js","assets/SVGVisualElement-DuKlxwyS.js","assets/welcome-CUCIViOX.js","assets/stock-WvRsN62e.js","assets/save-DHzgGk68.js","assets/trash-2-K33p1dR6.js","assets/plus-BSzJwHTu.js","assets/settings-CSHccr2k.js","assets/tabs-DOB0EVNC.js","assets/index-E8DBVr45.js","assets/orders-dTpO549j.js","assets/scroll-area-DTHGTDc2.js","assets/table-DnJEd1eh.js","assets/rotate-ccw-rOwFlfCo.js","assets/employee-Cg1XGRc8.js","assets/dataTable-DnWdtrtb.js","assets/search-hOmGyOV2.js","assets/chevron-right-BeOpu_8Y.js","assets/editMenu-DjKlxGrk.js","assets/dashboard-Dgtz41rn.js","assets/dashboard-CScUeap0.js","assets/popover-C5n0Fkqz.js","assets/calendar-lMR_0Xhf.js"])))=>i.map(i=>d[i]);
var gT=n=>{throw TypeError(n)};var vg=(n,t,e)=>t.has(n)||gT("Cannot "+e);var at=(n,t,e)=>(vg(n,t,"read from private field"),e?e.call(n):t.get(n)),re=(n,t,e)=>t.has(n)?gT("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),Lt=(n,t,e,r)=>(vg(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e),Rn=(n,t,e)=>(vg(n,t,"access private method"),e);var zd=(n,t,e,r)=>({set _(a){Lt(n,t,a,e)},get _(){return at(n,t,r)}});function CC(n,t){for(var e=0;e<t.length;e++){const r=t[e];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();var jU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Eg={exports:{}},mc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function DC(){if(yT)return mc;yT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:l}}return mc.Fragment=t,mc.jsx=e,mc.jsxs=e,mc}var _T;function xC(){return _T||(_T=1,Eg.exports=DC()),Eg.exports}var ut=xC(),Tg={exports:{}},Bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function PC(){if(vT)return Bt;vT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=_&&V[_]||V["@@iterator"],typeof V=="function"?V:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,L={};function k(V,q,ot){this.props=V,this.context=q,this.refs=L,this.updater=ot||R}k.prototype.isReactComponent={},k.prototype.setState=function(V,q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,q,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Y(){}Y.prototype=k.prototype;function Z(V,q,ot){this.props=V,this.context=q,this.refs=L,this.updater=ot||R}var K=Z.prototype=new Y;K.constructor=Z,O(K,k.prototype),K.isPureReactComponent=!0;var st=Array.isArray,et={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function x(V,q,ot,X,ht,vt){return ot=vt.ref,{$$typeof:n,type:V,key:q,ref:ot!==void 0?ot:null,props:vt}}function w(V,q){return x(V.type,q,void 0,void 0,void 0,V.props)}function S(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function D(V){var q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ot){return q[ot]})}var P=/\/+/g;function N(V,q){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):q.toString(36)}function C(){}function Pt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(q){V.status==="pending"&&(V.status="fulfilled",V.value=q)},function(q){V.status==="pending"&&(V.status="rejected",V.reason=q)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function _t(V,q,ot,X,ht){var vt=typeof V;(vt==="undefined"||vt==="boolean")&&(V=null);var dt=!1;if(V===null)dt=!0;else switch(vt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(V.$$typeof){case n:case t:dt=!0;break;case y:return dt=V._init,_t(dt(V._payload),q,ot,X,ht)}}if(dt)return ht=ht(V),dt=X===""?"."+N(V,0):X,st(ht)?(ot="",dt!=null&&(ot=dt.replace(P,"$&/")+"/"),_t(ht,q,ot,"",function(Ft){return Ft})):ht!=null&&(S(ht)&&(ht=w(ht,ot+(ht.key==null||V&&V.key===ht.key?"":(""+ht.key).replace(P,"$&/")+"/")+dt)),q.push(ht)),1;dt=0;var Vt=X===""?".":X+":";if(st(V))for(var Tt=0;Tt<V.length;Tt++)X=V[Tt],vt=Vt+N(X,Tt),dt+=_t(X,q,ot,vt,ht);else if(Tt=b(V),typeof Tt=="function")for(V=Tt.call(V),Tt=0;!(X=V.next()).done;)X=X.value,vt=Vt+N(X,Tt++),dt+=_t(X,q,ot,vt,ht);else if(vt==="object"){if(typeof V.then=="function")return _t(Pt(V),q,ot,X,ht);throw q=String(V),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return dt}function B(V,q,ot){if(V==null)return V;var X=[],ht=0;return _t(V,X,"","",function(vt){return q.call(ot,vt,ht++)}),X}function rt(V){if(V._status===-1){var q=V._result;q=q(),q.then(function(ot){(V._status===0||V._status===-1)&&(V._status=1,V._result=ot)},function(ot){(V._status===0||V._status===-1)&&(V._status=2,V._result=ot)}),V._status===-1&&(V._status=0,V._result=q)}if(V._status===1)return V._result.default;throw V._result}var pt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function At(){}return Bt.Children={map:B,forEach:function(V,q,ot){B(V,function(){q.apply(this,arguments)},ot)},count:function(V){var q=0;return B(V,function(){q++}),q},toArray:function(V){return B(V,function(q){return q})||[]},only:function(V){if(!S(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Bt.Component=k,Bt.Fragment=e,Bt.Profiler=a,Bt.PureComponent=Z,Bt.StrictMode=r,Bt.Suspense=m,Bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et,Bt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return et.H.useMemoCache(V)}},Bt.cache=function(V){return function(){return V.apply(null,arguments)}},Bt.cloneElement=function(V,q,ot){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var X=O({},V.props),ht=V.key,vt=void 0;if(q!=null)for(dt in q.ref!==void 0&&(vt=void 0),q.key!==void 0&&(ht=""+q.key),q)!W.call(q,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&q.ref===void 0||(X[dt]=q[dt]);var dt=arguments.length-2;if(dt===1)X.children=ot;else if(1<dt){for(var Vt=Array(dt),Tt=0;Tt<dt;Tt++)Vt[Tt]=arguments[Tt+2];X.children=Vt}return x(V.type,ht,void 0,void 0,vt,X)},Bt.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Bt.createElement=function(V,q,ot){var X,ht={},vt=null;if(q!=null)for(X in q.key!==void 0&&(vt=""+q.key),q)W.call(q,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ht[X]=q[X]);var dt=arguments.length-2;if(dt===1)ht.children=ot;else if(1<dt){for(var Vt=Array(dt),Tt=0;Tt<dt;Tt++)Vt[Tt]=arguments[Tt+2];ht.children=Vt}if(V&&V.defaultProps)for(X in dt=V.defaultProps,dt)ht[X]===void 0&&(ht[X]=dt[X]);return x(V,vt,void 0,void 0,null,ht)},Bt.createRef=function(){return{current:null}},Bt.forwardRef=function(V){return{$$typeof:d,render:V}},Bt.isValidElement=S,Bt.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:rt}},Bt.memo=function(V,q){return{$$typeof:p,type:V,compare:q===void 0?null:q}},Bt.startTransition=function(V){var q=et.T,ot={};et.T=ot;try{var X=V(),ht=et.S;ht!==null&&ht(ot,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(At,pt)}catch(vt){pt(vt)}finally{et.T=q}},Bt.unstable_useCacheRefresh=function(){return et.H.useCacheRefresh()},Bt.use=function(V){return et.H.use(V)},Bt.useActionState=function(V,q,ot){return et.H.useActionState(V,q,ot)},Bt.useCallback=function(V,q){return et.H.useCallback(V,q)},Bt.useContext=function(V){return et.H.useContext(V)},Bt.useDebugValue=function(){},Bt.useDeferredValue=function(V,q){return et.H.useDeferredValue(V,q)},Bt.useEffect=function(V,q,ot){var X=et.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(V,q)},Bt.useId=function(){return et.H.useId()},Bt.useImperativeHandle=function(V,q,ot){return et.H.useImperativeHandle(V,q,ot)},Bt.useInsertionEffect=function(V,q){return et.H.useInsertionEffect(V,q)},Bt.useLayoutEffect=function(V,q){return et.H.useLayoutEffect(V,q)},Bt.useMemo=function(V,q){return et.H.useMemo(V,q)},Bt.useOptimistic=function(V,q){return et.H.useOptimistic(V,q)},Bt.useReducer=function(V,q,ot){return et.H.useReducer(V,q,ot)},Bt.useRef=function(V){return et.H.useRef(V)},Bt.useState=function(V){return et.H.useState(V)},Bt.useSyncExternalStore=function(V,q,ot){return et.H.useSyncExternalStore(V,q,ot)},Bt.useTransition=function(){return et.H.useTransition()},Bt.version="19.1.0",Bt}var ET;function ih(){return ET||(ET=1,Tg.exports=PC()),Tg.exports}var Et=ih();const ft=Fy(Et),qU=CC({__proto__:null,default:ft},[Et]);var bg={exports:{}},pc={},wg={exports:{}},Sg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT;function OC(){return TT||(TT=1,function(n){function t(B,rt){var pt=B.length;B.push(rt);t:for(;0<pt;){var At=pt-1>>>1,V=B[At];if(0<a(V,rt))B[At]=rt,B[pt]=V,pt=At;else break t}}function e(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var rt=B[0],pt=B.pop();if(pt!==rt){B[0]=pt;t:for(var At=0,V=B.length,q=V>>>1;At<q;){var ot=2*(At+1)-1,X=B[ot],ht=ot+1,vt=B[ht];if(0>a(X,pt))ht<V&&0>a(vt,X)?(B[At]=vt,B[ht]=pt,At=ht):(B[At]=X,B[ot]=pt,At=ot);else if(ht<V&&0>a(vt,pt))B[At]=vt,B[ht]=pt,At=ht;else break t}}return rt}function a(B,rt){var pt=B.sortIndex-rt.sortIndex;return pt!==0?pt:B.id-rt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var m=[],p=[],y=1,_=null,b=3,R=!1,O=!1,L=!1,k=!1,Y=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function st(B){for(var rt=e(p);rt!==null;){if(rt.callback===null)r(p);else if(rt.startTime<=B)r(p),rt.sortIndex=rt.expirationTime,t(m,rt);else break;rt=e(p)}}function et(B){if(L=!1,st(B),!O)if(e(m)!==null)O=!0,W||(W=!0,N());else{var rt=e(p);rt!==null&&_t(et,rt.startTime-B)}}var W=!1,x=-1,w=5,S=-1;function D(){return k?!0:!(n.unstable_now()-S<w)}function P(){if(k=!1,W){var B=n.unstable_now();S=B;var rt=!0;try{t:{O=!1,L&&(L=!1,Z(x),x=-1),R=!0;var pt=b;try{e:{for(st(B),_=e(m);_!==null&&!(_.expirationTime>B&&D());){var At=_.callback;if(typeof At=="function"){_.callback=null,b=_.priorityLevel;var V=At(_.expirationTime<=B);if(B=n.unstable_now(),typeof V=="function"){_.callback=V,st(B),rt=!0;break e}_===e(m)&&r(m),st(B)}else r(m);_=e(m)}if(_!==null)rt=!0;else{var q=e(p);q!==null&&_t(et,q.startTime-B),rt=!1}}break t}finally{_=null,b=pt,R=!1}rt=void 0}}finally{rt?N():W=!1}}}var N;if(typeof K=="function")N=function(){K(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Pt=C.port2;C.port1.onmessage=P,N=function(){Pt.postMessage(null)}}else N=function(){Y(P,0)};function _t(B,rt){x=Y(function(){B(n.unstable_now())},rt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(B){switch(b){case 1:case 2:case 3:var rt=3;break;default:rt=b}var pt=b;b=rt;try{return B()}finally{b=pt}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(B,rt){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var pt=b;b=B;try{return rt()}finally{b=pt}},n.unstable_scheduleCallback=function(B,rt,pt){var At=n.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?At+pt:At):pt=At,B){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=pt+V,B={id:y++,callback:rt,priorityLevel:B,startTime:pt,expirationTime:V,sortIndex:-1},pt>At?(B.sortIndex=pt,t(p,B),e(m)===null&&B===e(p)&&(L?(Z(x),x=-1):L=!0,_t(et,pt-At))):(B.sortIndex=V,t(m,B),O||R||(O=!0,W||(W=!0,N()))),B},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(B){var rt=b;return function(){var pt=b;b=rt;try{return B.apply(this,arguments)}finally{b=pt}}}}(Sg)),Sg}var bT;function NC(){return bT||(bT=1,wg.exports=OC()),wg.exports}var Ag={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function MC(){if(wT)return Cn;wT=1;var n=ih();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Cn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},Cn.flushSync=function(m){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=p,r.p=y,r.d.f()}},Cn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},Cn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Cn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:R}):y==="script"&&r.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Cn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},Cn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Cn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},Cn.requestFormReset=function(m){r.d.r(m)},Cn.unstable_batchedUpdates=function(m,p){return m(p)},Cn.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},Cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Cn.version="19.1.0",Cn}var ST;function Yw(){if(ST)return Ag.exports;ST=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ag.exports=MC(),Ag.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function VC(){if(AT)return pc;AT=1;var n=NC(),t=ih(),e=Yw();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),i;if(g===c)return d(f),s;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=f,c=g;else{for(var T=!1,A=f.child;A;){if(A===o){T=!0,o=f,c=g;break}if(A===c){T=!0,c=f,o=g;break}A=A.sibling}if(!T){for(A=g.child;A;){if(A===o){T=!0,o=g,c=f;break}if(A===c){T=!0,c=g,o=f;break}A=A.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),K=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function N(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var C=Symbol.for("react.client.reference");function Pt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===C?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case k:return"Profiler";case L:return"StrictMode";case et:return"Suspense";case W:return"SuspenseList";case S:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case K:return(i.displayName||"Context")+".Provider";case Z:return(i._context.displayName||"Context")+".Consumer";case st:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case x:return s=i.displayName||null,s!==null?s:Pt(i.type)||"Memo";case w:s=i._payload,i=i._init;try{return Pt(i(s))}catch{}}return null}var _t=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},At=[],V=-1;function q(i){return{current:i}}function ot(i){0>V||(i.current=At[V],At[V]=null,V--)}function X(i,s){V++,At[V]=i.current,i.current=s}var ht=q(null),vt=q(null),dt=q(null),Vt=q(null);function Tt(i,s){switch(X(dt,s),X(vt,i),X(ht,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?HE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=HE(s),i=GE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ot(ht),X(ht,i)}function Ft(){ot(ht),ot(vt),ot(dt)}function Pe(i){i.memoizedState!==null&&X(Vt,i);var s=ht.current,o=GE(s,i.type);s!==o&&(X(vt,i),X(ht,o))}function ze(i){vt.current===i&&(ot(ht),ot(vt)),Vt.current===i&&(ot(Vt),uc._currentValue=pt)}var cn=Object.prototype.hasOwnProperty,Sn=n.unstable_scheduleCallback,Oe=n.unstable_cancelCallback,_e=n.unstable_shouldYield,Ne=n.unstable_requestPaint,$t=n.unstable_now,rr=n.unstable_getCurrentPriorityLevel,$e=n.unstable_ImmediatePriority,ir=n.unstable_UserBlockingPriority,qt=n.unstable_NormalPriority,Ut=n.unstable_LowPriority,je=n.unstable_IdlePriority,Qr=n.log,ds=n.unstable_setDisableYieldValue,le=null,ie=null;function An(i){if(typeof Qr=="function"&&ds(i),ie&&typeof ie.setStrictMode=="function")try{ie.setStrictMode(le,i)}catch{}}var Ye=Math.clz32?Math.clz32:Kn,Mr=Math.log,Oo=Math.LN2;function Kn(i){return i>>>=0,i===0?32:31-(Mr(i)/Oo|0)|0}var Si=256,Ai=4194304;function Qn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ii(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?f=Qn(c):(T&=A,T!==0?f=Qn(T):o||(o=A&~i,o!==0&&(f=Qn(o))))):(A=c&~g,A!==0?f=Qn(A):T!==0?f=Qn(T):o||(o=c&~i,o!==0&&(f=Qn(o)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:f}function Ri(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ci(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $n(){var i=Si;return Si<<=1,(Si&4194048)===0&&(Si=256),i}function _a(){var i=Ai;return Ai<<=1,(Ai&62914560)===0&&(Ai=4194304),i}function Vr(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function _r(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function fs(i,s,o,c,f,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,M=i.expirationTimes,H=i.hiddenUpdates;for(o=T&~o;0<o;){var tt=31-Ye(o),lt=1<<tt;A[tt]=0,M[tt]=-1;var Q=H[tt];if(Q!==null)for(H[tt]=null,tt=0;tt<Q.length;tt++){var $=Q[tt];$!==null&&($.lane&=-536870913)}o&=~lt}c!==0&&Dt(i,c,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~s))}function Dt(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-Ye(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194090}function be(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-Ye(o),f=1<<c;f&s|i[c]&s&&(i[c]|=s),o&=~f}}function Te(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xe(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function sr(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:cT(i.type))}function Me(i,s){var o=rt.p;try{return rt.p=i,s()}finally{rt.p=o}}var Gt=Math.random().toString(36).slice(2),we="__reactFiber$"+Gt,ee="__reactProps$"+Gt,Se="__reactContainer$"+Gt,ms="__reactEvents$"+Gt,kr="__reactListeners$"+Gt,Di="__reactHandles$"+Gt,Th="__reactResources$"+Gt,va="__reactMarker$"+Gt;function ps(i){delete i[we],delete i[ee],delete i[ms],delete i[kr],delete i[Di]}function xi(i){var s=i[we];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Se]||o[we]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=YE(i);i!==null;){if(o=i[we])return o;i=YE(i)}return s}i=o,o=i.parentNode}return null}function $r(i){if(i=i[we]||i[Se]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Yr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Mn(i){var s=i[Th];return s||(s=i[Th]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function qe(i){i[va]=!0}var pu=new Set,No={};function Lr(i,s){Pi(i,s),Pi(i+"Capture",s)}function Pi(i,s){for(No[i]=s,i=0;i<s.length;i++)pu.add(s[i])}var bh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wh={},Ea={};function Sh(i){return cn.call(Ea,i)?!0:cn.call(wh,i)?!1:bh.test(i)?Ea[i]=!0:(wh[i]=!0,!1)}function gs(i,s,o){if(Sh(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Xr(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function yn(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}var Ta,Ah;function Oi(i){if(Ta===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ta=s&&s[1]||"",Ah=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+i+Ah}var Mo=!1;function Vo(i,s){if(!i||Mo)return"";Mo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch($){var Q=$}Reflect.construct(i,[],lt)}else{try{lt.call()}catch($){Q=$}i.call(lt.prototype)}}else{try{throw Error()}catch($){Q=$}(lt=i())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch($){if($&&Q&&typeof $.stack=="string")return[$.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],A=g[1];if(T&&A){var M=T.split(`
`),H=A.split(`
`);for(f=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(c===M.length||f===H.length)for(c=M.length-1,f=H.length-1;1<=c&&0<=f&&M[c]!==H[f];)f--;for(;1<=c&&0<=f;c--,f--)if(M[c]!==H[f]){if(c!==1||f!==1)do if(c--,f--,0>f||M[c]!==H[f]){var tt=`
`+M[c].replace(" at new "," at ");return i.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",i.displayName)),tt}while(1<=c&&0<=f);break}}}finally{Mo=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Oi(o):""}function gu(i){switch(i.tag){case 26:case 27:case 5:return Oi(i.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return Vo(i.type,!1);case 11:return Vo(i.type.render,!1);case 1:return Vo(i.type,!0);case 31:return Oi("Activity");default:return""}}function ko(i){try{var s="";do s+=gu(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Vn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function yu(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function wm(i){var s=yu(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){c=""+T,g.call(this,T)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Lo(i){i._valueTracker||(i._valueTracker=wm(i))}function _u(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=yu(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function ba(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Sm=/[\n"\\]/g;function We(i){return i.replace(Sm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ar(i,s,o,c,f,g,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Vn(s)):i.value!==""+Vn(s)&&(i.value=""+Vn(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?ys(i,T,Vn(s)):o!=null?ys(i,T,Vn(o)):c!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Vn(A):i.removeAttribute("name")}function wa(i,s,o,c,f,g,T,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+Vn(o):"",s=s!=null?""+Vn(s):o,A||s===i.value||(i.value=s),i.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function ys(i,s,o){s==="number"&&ba(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ni(i,s,o,c){if(i=i.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=s.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Vn(o),s=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function de(i,s,o){if(s!=null&&(s=""+Vn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Vn(o):""}function Sa(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(_t(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Vn(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function vr(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ih(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||Aa.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function vu(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&o[f]!==c&&Ih(i,f,c)}else for(var g in s)s.hasOwnProperty(g)&&Ih(i,g,s[g])}function Eu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Am=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Im=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uo(i){return Im.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Mi=null;function Er(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vi=null,ki=null;function Tu(i){var s=$r(i);if(s&&(i=s.stateNode)){var o=i[ee]||null;t:switch(i=s.stateNode,s.type){case"input":if(ar(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+We(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var f=c[ee]||null;if(!f)throw Error(r(90));ar(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&_u(c)}break t;case"textarea":de(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Ni(i,!!o.multiple,s,!1)}}}var Wr=!1;function Rh(i,s,o){if(Wr)return i(s,o);Wr=!0;try{var c=i(s);return c}finally{if(Wr=!1,(Vi!==null||ki!==null)&&(Ed(),Vi&&(s=Vi,i=ki,ki=Vi=null,Tu(s),i)))for(s=0;s<i.length;s++)Tu(i[s])}}function Ia(i,s){var o=i.stateNode;if(o===null)return null;var c=o[ee]||null;if(c===null)return null;o=c[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(Ur)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Tr=!1}var Jr=null,_s=null,Li=null;function bu(){if(Li)return Li;var i,s=_s,o=s.length,c,f="value"in Jr?Jr.value:Jr.textContent,g=f.length;for(i=0;i<o&&s[i]===f[i];i++);var T=o-i;for(c=1;c<=T&&s[o-c]===f[g-c];c++);return Li=f.slice(i,1<c?1-c:void 0)}function Zr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ti(){return!0}function wu(){return!1}function hn(i){function s(o,c,f,g,T){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ti:wu,this.isPropagationStopped=wu,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),s}var ae={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=hn(ae),Ca=y({},ae,{view:0,detail:0}),Ch=hn(Ca),Fo,zo,ei,Da=y({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ei&&(ei&&i.type==="mousemove"?(Fo=i.screenX-ei.screenX,zo=i.screenY-ei.screenY):zo=Fo=0,ei=i),Fo)},movementY:function(i){return"movementY"in i?i.movementY:zo}}),br=hn(Da),Dh=y({},Da,{dataTransfer:0}),Rm=hn(Dh),xa=y({},Ca,{relatedTarget:0}),jo=hn(xa),Su=y({},ae,{animationName:0,elapsedTime:0,pseudoElement:0}),qo=hn(Su),xh=y({},ae,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ho=hn(xh),Cm=y({},ae,{data:0}),Au=hn(Cm),Pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ph={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Oh[i])?!!s[i]:!1}function Oa(){return Iu}var Nh=y({},Ca,{key:function(i){if(i.key){var s=Pa[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Zr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ph[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(i){return i.type==="keypress"?Zr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Zr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Go=hn(Nh),Mh=y({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=hn(Mh),Ui=y({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),Vh=hn(Ui),kh=y({},ae,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lh=hn(kh),Uh=y({},Da,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ko=hn(Uh),kn=y({},ae,{newState:0,oldState:0}),Bh=hn(kn),Fh=[9,13,27,32],ni=Ur&&"CompositionEvent"in window,h=null;Ur&&"documentMode"in document&&(h=document.documentMode);var v=Ur&&"TextEvent"in window&&!h,E=Ur&&(!ni||h&&8<h&&11>=h),I=" ",z=!1;function J(i,s){switch(i){case"keyup":return Fh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Wt=!1;function en(i,s){switch(i){case"compositionend":return mt(s);case"keypress":return s.which!==32?null:(z=!0,I);case"textInput":return i=s.data,i===I&&z?null:i;default:return null}}function Jt(i,s){if(Wt)return i==="compositionend"||!ni&&J(i,s)?(i=bu(),Li=_s=Jr=null,Wt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nn(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!dn[i.type]:s==="textarea"}function Bi(i,s,o,c){Vi?ki?ki.push(c):ki=[c]:Vi=c,s=Id(s,"onChange"),0<s.length&&(o=new Bo("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var _n=null,ri=null;function Cu(i){BE(i,0)}function zh(i){var s=Yr(i);if(_u(s))return i}function av(i,s){if(i==="change")return s}var ov=!1;if(Ur){var Dm;if(Ur){var xm="oninput"in document;if(!xm){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),xm=typeof lv.oninput=="function"}Dm=xm}else Dm=!1;ov=Dm&&(!document.documentMode||9<document.documentMode)}function uv(){_n&&(_n.detachEvent("onpropertychange",cv),ri=_n=null)}function cv(i){if(i.propertyName==="value"&&zh(ri)){var s=[];Bi(s,ri,i,Er(i)),Rh(Cu,s)}}function i1(i,s,o){i==="focusin"?(uv(),_n=s,ri=o,_n.attachEvent("onpropertychange",cv)):i==="focusout"&&uv()}function s1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zh(ri)}function a1(i,s){if(i==="click")return zh(s)}function o1(i,s){if(i==="input"||i==="change")return zh(s)}function l1(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var or=typeof Object.is=="function"?Object.is:l1;function Du(i,s){if(or(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!cn.call(s,f)||!or(i[f],s[f]))return!1}return!0}function hv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function dv(i,s){var o=hv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=hv(o)}}function fv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?fv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function mv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ba(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=ba(i.document)}return s}function Pm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var u1=Ur&&"documentMode"in document&&11>=document.documentMode,Qo=null,Om=null,xu=null,Nm=!1;function pv(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Nm||Qo==null||Qo!==ba(c)||(c=Qo,"selectionStart"in c&&Pm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),xu&&Du(xu,c)||(xu=c,c=Id(Om,"onSelect"),0<c.length&&(s=new Bo("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=Qo)))}function Na(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var $o={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},Mm={},gv={};Ur&&(gv=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Ma(i){if(Mm[i])return Mm[i];if(!$o[i])return i;var s=$o[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in gv)return Mm[i]=s[o];return i}var yv=Ma("animationend"),_v=Ma("animationiteration"),vv=Ma("animationstart"),c1=Ma("transitionrun"),h1=Ma("transitionstart"),d1=Ma("transitioncancel"),Ev=Ma("transitionend"),Tv=new Map,Vm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vm.push("scrollEnd");function Br(i,s){Tv.set(i,s),Lr(s,[i])}var bv=new WeakMap;function wr(i,s){if(typeof i=="object"&&i!==null){var o=bv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:ko(s)},bv.set(i,s),s)}return{value:i,source:s,stack:ko(s)}}var Sr=[],Yo=0,km=0;function jh(){for(var i=Yo,s=km=Yo=0;s<i;){var o=Sr[s];Sr[s++]=null;var c=Sr[s];Sr[s++]=null;var f=Sr[s];Sr[s++]=null;var g=Sr[s];if(Sr[s++]=null,c!==null&&f!==null){var T=c.pending;T===null?f.next=f:(f.next=T.next,T.next=f),c.pending=f}g!==0&&wv(o,f,g)}}function qh(i,s,o,c){Sr[Yo++]=i,Sr[Yo++]=s,Sr[Yo++]=o,Sr[Yo++]=c,km|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Lm(i,s,o,c){return qh(i,s,o,c),Hh(i)}function Xo(i,s){return qh(i,null,null,s),Hh(i)}function wv(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&s!==null&&(f=31-Ye(o),i=g.hiddenUpdates,c=i[f],c===null?i[f]=[s]:c.push(s),s.lane=o|536870912),g):null}function Hh(i){if(50<ec)throw ec=0,qp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Wo={};function f1(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(i,s,o,c){return new f1(i,s,o,c)}function Um(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Fi(i,s){var o=i.alternate;return o===null?(o=lr(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Sv(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Gh(i,s,o,c,f,g){var T=0;if(c=i,typeof i=="function")Um(i)&&(T=1);else if(typeof i=="string")T=pC(i,o,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case S:return i=lr(31,o,s,f),i.elementType=S,i.lanes=g,i;case O:return Va(o.children,f,g,s);case L:T=8,f|=24;break;case k:return i=lr(12,o,s,f|2),i.elementType=k,i.lanes=g,i;case et:return i=lr(13,o,s,f),i.elementType=et,i.lanes=g,i;case W:return i=lr(19,o,s,f),i.elementType=W,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:case K:T=10;break t;case Z:T=9;break t;case st:T=11;break t;case x:T=14;break t;case w:T=16,c=null;break t}T=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=lr(T,o,s,f),s.elementType=i,s.type=c,s.lanes=g,s}function Va(i,s,o,c){return i=lr(7,i,c,s),i.lanes=o,i}function Bm(i,s,o){return i=lr(6,i,null,s),i.lanes=o,i}function Fm(i,s,o){return s=lr(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Jo=[],Zo=0,Kh=null,Qh=0,Ar=[],Ir=0,ka=null,zi=1,ji="";function La(i,s){Jo[Zo++]=Qh,Jo[Zo++]=Kh,Kh=i,Qh=s}function Av(i,s,o){Ar[Ir++]=zi,Ar[Ir++]=ji,Ar[Ir++]=ka,ka=i;var c=zi;i=ji;var f=32-Ye(c)-1;c&=~(1<<f),o+=1;var g=32-Ye(s)+f;if(30<g){var T=f-f%5;g=(c&(1<<T)-1).toString(32),c>>=T,f-=T,zi=1<<32-Ye(s)+f|o<<f|c,ji=g+i}else zi=1<<g|o<<f|c,ji=i}function zm(i){i.return!==null&&(La(i,1),Av(i,1,0))}function jm(i){for(;i===Kh;)Kh=Jo[--Zo],Jo[Zo]=null,Qh=Jo[--Zo],Jo[Zo]=null;for(;i===ka;)ka=Ar[--Ir],Ar[Ir]=null,ji=Ar[--Ir],Ar[Ir]=null,zi=Ar[--Ir],Ar[Ir]=null}var Ln=null,Ve=null,se=!1,Ua=null,ii=!1,qm=Error(r(519));function Ba(i){var s=Error(r(418,""));throw Nu(wr(s,i)),qm}function Iv(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[we]=i,s[ee]=c,o){case"dialog":Qt("cancel",s),Qt("close",s);break;case"iframe":case"object":case"embed":Qt("load",s);break;case"video":case"audio":for(o=0;o<rc.length;o++)Qt(rc[o],s);break;case"source":Qt("error",s);break;case"img":case"image":case"link":Qt("error",s),Qt("load",s);break;case"details":Qt("toggle",s);break;case"input":Qt("invalid",s),wa(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Lo(s);break;case"select":Qt("invalid",s);break;case"textarea":Qt("invalid",s),Sa(s,c.value,c.defaultValue,c.children),Lo(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||qE(s.textContent,o)?(c.popover!=null&&(Qt("beforetoggle",s),Qt("toggle",s)),c.onScroll!=null&&Qt("scroll",s),c.onScrollEnd!=null&&Qt("scrollend",s),c.onClick!=null&&(s.onclick=Rd),s=!0):s=!1,s||Ba(i)}function Rv(i){for(Ln=i.return;Ln;)switch(Ln.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:Ln=Ln.return}}function Pu(i){if(i!==Ln)return!1;if(!se)return Rv(i),se=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||sg(i.type,i.memoizedProps)),o=!o),o&&Ve&&Ba(i),Rv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){Ve=zr(i.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}Ve=null}}else s===27?(s=Ve,Ms(i.type)?(i=ug,ug=null,Ve=i):Ve=s):Ve=Ln?zr(i.stateNode.nextSibling):null;return!0}function Ou(){Ve=Ln=null,se=!1}function Cv(){var i=Ua;return i!==null&&(Wn===null?Wn=i:Wn.push.apply(Wn,i),Ua=null),i}function Nu(i){Ua===null?Ua=[i]:Ua.push(i)}var Hm=q(null),Fa=null,qi=null;function vs(i,s,o){X(Hm,s._currentValue),s._currentValue=o}function Hi(i){i._currentValue=Hm.current,ot(Hm)}function Gm(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function Km(i,s,o,c){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var T=f.child;g=g.firstContext;t:for(;g!==null;){var A=g;g=f;for(var M=0;M<s.length;M++)if(A.context===s[M]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Gm(g.return,o,i),c||(T=null);break t}g=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Gm(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Mu(i,s,o,c){i=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var A=f.type;or(f.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(f===Vt.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(uc):i=[uc])}f=f.return}i!==null&&Km(s,i,o,c),s.flags|=262144}function $h(i){for(i=i.firstContext;i!==null;){if(!or(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function za(i){Fa=i,qi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function In(i){return Dv(Fa,i)}function Yh(i,s){return Fa===null&&za(i),Dv(i,s)}function Dv(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},qi===null){if(i===null)throw Error(r(308));qi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else qi=qi.next=s;return o}var m1=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},p1=n.unstable_scheduleCallback,g1=n.unstable_NormalPriority,rn={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qm(){return{controller:new m1,data:new Map,refCount:0}}function Vu(i){i.refCount--,i.refCount===0&&p1(g1,function(){i.controller.abort()})}var ku=null,$m=0,tl=0,el=null;function y1(i,s){if(ku===null){var o=ku=[];$m=0,tl=Xp(),el={status:"pending",value:void 0,then:function(c){o.push(c)}}}return $m++,s.then(xv,xv),s}function xv(){if(--$m===0&&ku!==null){el!==null&&(el.status="fulfilled");var i=ku;ku=null,tl=0,el=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function _1(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Pv=B.S;B.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&y1(i,s),Pv!==null&&Pv(i,s)};var ja=q(null);function Ym(){var i=ja.current;return i!==null?i:ve.pooledCache}function Xh(i,s){s===null?X(ja,ja.current):X(ja,s.pool)}function Ov(){var i=Ym();return i===null?null:{parent:rn._currentValue,pool:i}}var Lu=Error(r(460)),Nv=Error(r(474)),Wh=Error(r(542)),Xm={then:function(){}};function Mv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Jh(){}function Vv(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Jh,Jh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Lv(i),i;default:if(typeof s.status=="string")s.then(Jh,Jh);else{if(i=ve,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Lv(i),i}throw Uu=s,Lu}}var Uu=null;function kv(){if(Uu===null)throw Error(r(459));var i=Uu;return Uu=null,i}function Lv(i){if(i===Lu||i===Wh)throw Error(r(483))}var Es=!1;function Wm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ts(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function bs(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ue&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=Hh(i),wv(i,null,o),s}return qh(i,c,s,o),Hh(i)}function Bu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,be(i,o)}}function Zm(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var tp=!1;function Fu(){if(tp){var i=el;if(i!==null)throw i}}function zu(i,s,o,c){tp=!1;var f=i.updateQueue;Es=!1;var g=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var M=A,H=M.next;M.next=null,T===null?g=H:T.next=H,T=M;var tt=i.alternate;tt!==null&&(tt=tt.updateQueue,A=tt.lastBaseUpdate,A!==T&&(A===null?tt.firstBaseUpdate=H:A.next=H,tt.lastBaseUpdate=M))}if(g!==null){var lt=f.baseState;T=0,tt=H=M=null,A=g;do{var Q=A.lane&-536870913,$=Q!==A.lane;if($?(Zt&Q)===Q:(c&Q)===Q){Q!==0&&Q===tl&&(tp=!0),tt!==null&&(tt=tt.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Nt=i,xt=A;Q=s;var pe=o;switch(xt.tag){case 1:if(Nt=xt.payload,typeof Nt=="function"){lt=Nt.call(pe,lt,Q);break t}lt=Nt;break t;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=xt.payload,Q=typeof Nt=="function"?Nt.call(pe,lt,Q):Nt,Q==null)break t;lt=y({},lt,Q);break t;case 2:Es=!0}}Q=A.callback,Q!==null&&(i.flags|=64,$&&(i.flags|=8192),$=f.callbacks,$===null?f.callbacks=[Q]:$.push(Q))}else $={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},tt===null?(H=tt=$,M=lt):tt=tt.next=$,T|=Q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;$=A,A=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);tt===null&&(M=lt),f.baseState=M,f.firstBaseUpdate=H,f.lastBaseUpdate=tt,g===null&&(f.shared.lanes=0),xs|=T,i.lanes=T,i.memoizedState=lt}}function Uv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Bv(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Uv(o[i],s)}var nl=q(null),Zh=q(0);function Fv(i,s){i=Wi,X(Zh,i),X(nl,s),Wi=i|s.baseLanes}function ep(){X(Zh,Wi),X(nl,nl.current)}function np(){Wi=Zh.current,ot(nl),ot(Zh)}var ws=0,zt=null,fe=null,Je=null,td=!1,rl=!1,qa=!1,ed=0,ju=0,il=null,v1=0;function He(){throw Error(r(321))}function rp(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!or(i[o],s[o]))return!1;return!0}function ip(i,s,o,c,f,g){return ws=g,zt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=i===null||i.memoizedState===null?w0:S0,qa=!1,g=o(c,f),qa=!1,rl&&(g=jv(s,o,c,f)),zv(i),g}function zv(i){B.H=od;var s=fe!==null&&fe.next!==null;if(ws=0,Je=fe=zt=null,td=!1,ju=0,il=null,s)throw Error(r(300));i===null||fn||(i=i.dependencies,i!==null&&$h(i)&&(fn=!0))}function jv(i,s,o,c){zt=i;var f=0;do{if(rl&&(il=null),ju=0,rl=!1,25<=f)throw Error(r(301));if(f+=1,Je=fe=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=I1,g=s(o,c)}while(rl);return g}function E1(){var i=B.H,s=i.useState()[0];return s=typeof s.then=="function"?qu(s):s,i=i.useState()[0],(fe!==null?fe.memoizedState:null)!==i&&(zt.flags|=1024),s}function sp(){var i=ed!==0;return ed=0,i}function ap(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function op(i){if(td){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}td=!1}ws=0,Je=fe=zt=null,rl=!1,ju=ed=0,il=null}function Yn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?zt.memoizedState=Je=i:Je=Je.next=i,Je}function Ze(){if(fe===null){var i=zt.alternate;i=i!==null?i.memoizedState:null}else i=fe.next;var s=Je===null?zt.memoizedState:Je.next;if(s!==null)Je=s,fe=i;else{if(i===null)throw zt.alternate===null?Error(r(467)):Error(r(310));fe=i,i={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},Je===null?zt.memoizedState=Je=i:Je=Je.next=i}return Je}function lp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qu(i){var s=ju;return ju+=1,il===null&&(il=[]),i=Vv(il,i,s),s=zt,(Je===null?s.memoizedState:Je.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?w0:S0),i}function nd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return qu(i);if(i.$$typeof===K)return In(i)}throw Error(r(438,String(i)))}function up(i){var s=null,o=zt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=zt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=lp(),zt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=D;return s.index++,o}function Gi(i,s){return typeof s=="function"?s(i):s}function rd(i){var s=Ze();return cp(s,fe,i)}function cp(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var f=i.baseQueue,g=c.pending;if(g!==null){if(f!==null){var T=f.next;f.next=g.next,g.next=T}s.baseQueue=f=g,c.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{s=f.next;var A=T=null,M=null,H=s,tt=!1;do{var lt=H.lane&-536870913;if(lt!==H.lane?(Zt&lt)===lt:(ws&lt)===lt){var Q=H.revertLane;if(Q===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),lt===tl&&(tt=!0);else if((ws&Q)===Q){H=H.next,Q===tl&&(tt=!0);continue}else lt={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(A=M=lt,T=g):M=M.next=lt,zt.lanes|=Q,xs|=Q;lt=H.action,qa&&o(g,lt),g=H.hasEagerState?H.eagerState:o(g,lt)}else Q={lane:lt,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(A=M=Q,T=g):M=M.next=Q,zt.lanes|=lt,xs|=lt;H=H.next}while(H!==null&&H!==s);if(M===null?T=g:M.next=A,!or(g,i.memoizedState)&&(fn=!0,tt&&(o=el,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=M,c.lastRenderedState=g}return f===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function hp(i){var s=Ze(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do g=i(g,T.action),T=T.next;while(T!==f);or(g,s.memoizedState)||(fn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function qv(i,s,o){var c=zt,f=Ze(),g=se;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var T=!or((fe||f).memoizedState,o);T&&(f.memoizedState=o,fn=!0),f=f.queue;var A=Kv.bind(null,c,f,i);if(Hu(2048,8,A,[i]),f.getSnapshot!==s||T||Je!==null&&Je.memoizedState.tag&1){if(c.flags|=2048,sl(9,id(),Gv.bind(null,c,f,o,s),null),ve===null)throw Error(r(349));g||(ws&124)!==0||Hv(c,s,o)}return o}function Hv(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=zt.updateQueue,s===null?(s=lp(),zt.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function Gv(i,s,o,c){s.value=o,s.getSnapshot=c,Qv(s)&&$v(i)}function Kv(i,s,o){return o(function(){Qv(s)&&$v(i)})}function Qv(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!or(i,o)}catch{return!0}}function $v(i){var s=Xo(i,2);s!==null&&fr(s,i,2)}function dp(i){var s=Yn();if(typeof i=="function"){var o=i;if(i=o(),qa){An(!0);try{o()}finally{An(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:i},s}function Yv(i,s,o,c){return i.baseState=o,cp(i,fe,typeof c=="function"?c:Gi)}function T1(i,s,o,c,f){if(ad(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};B.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,Xv(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Xv(i,s){var o=s.action,c=s.payload,f=i.state;if(s.isTransition){var g=B.T,T={};B.T=T;try{var A=o(f,c),M=B.S;M!==null&&M(T,A),Wv(i,s,A)}catch(H){fp(i,s,H)}finally{B.T=g}}else try{g=o(f,c),Wv(i,s,g)}catch(H){fp(i,s,H)}}function Wv(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Jv(i,s,c)},function(c){return fp(i,s,c)}):Jv(i,s,o)}function Jv(i,s,o){s.status="fulfilled",s.value=o,Zv(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Xv(i,o)))}function fp(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,Zv(s),s=s.next;while(s!==c)}i.action=null}function Zv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function t0(i,s){return s}function e0(i,s){if(se){var o=ve.formState;if(o!==null){t:{var c=zt;if(se){if(Ve){e:{for(var f=Ve,g=ii;f.nodeType!==8;){if(!g){f=null;break e}if(f=zr(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Ve=zr(f.nextSibling),c=f.data==="F!";break t}}Ba(c)}c=!1}c&&(s=o[0])}}return o=Yn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t0,lastRenderedState:s},o.queue=c,o=E0.bind(null,zt,c),c.dispatch=o,c=dp(!1),g=_p.bind(null,zt,!1,c.queue),c=Yn(),f={state:s,dispatch:null,action:i,pending:null},c.queue=f,o=T1.bind(null,zt,f,g,o),f.dispatch=o,c.memoizedState=i,[s,o,!1]}function n0(i){var s=Ze();return r0(s,fe,i)}function r0(i,s,o){if(s=cp(i,s,t0)[0],i=rd(Gi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=qu(s)}catch(T){throw T===Lu?Wh:T}else c=s;s=Ze();var f=s.queue,g=f.dispatch;return o!==s.memoizedState&&(zt.flags|=2048,sl(9,id(),b1.bind(null,f,o),null)),[c,g,i]}function b1(i,s){i.action=s}function i0(i){var s=Ze(),o=fe;if(o!==null)return r0(s,o,i);Ze(),s=s.memoizedState,o=Ze();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function sl(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=zt.updateQueue,s===null&&(s=lp(),zt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function id(){return{destroy:void 0,resource:void 0}}function s0(){return Ze().memoizedState}function sd(i,s,o,c){var f=Yn();c=c===void 0?null:c,zt.flags|=i,f.memoizedState=sl(1|s,id(),o,c)}function Hu(i,s,o,c){var f=Ze();c=c===void 0?null:c;var g=f.memoizedState.inst;fe!==null&&c!==null&&rp(c,fe.memoizedState.deps)?f.memoizedState=sl(s,g,o,c):(zt.flags|=i,f.memoizedState=sl(1|s,g,o,c))}function a0(i,s){sd(8390656,8,i,s)}function o0(i,s){Hu(2048,8,i,s)}function l0(i,s){return Hu(4,2,i,s)}function u0(i,s){return Hu(4,4,i,s)}function c0(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function h0(i,s,o){o=o!=null?o.concat([i]):null,Hu(4,4,c0.bind(null,s,i),o)}function mp(){}function d0(i,s){var o=Ze();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&rp(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function f0(i,s){var o=Ze();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&rp(s,c[1]))return c[0];if(c=i(),qa){An(!0);try{i()}finally{An(!1)}}return o.memoizedState=[c,s],c}function pp(i,s,o){return o===void 0||(ws&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=gE(),zt.lanes|=i,xs|=i,o)}function m0(i,s,o,c){return or(o,s)?o:nl.current!==null?(i=pp(i,o,c),or(i,s)||(fn=!0),i):(ws&42)===0?(fn=!0,i.memoizedState=o):(i=gE(),zt.lanes|=i,xs|=i,s)}function p0(i,s,o,c,f){var g=rt.p;rt.p=g!==0&&8>g?g:8;var T=B.T,A={};B.T=A,_p(i,!1,s,o);try{var M=f(),H=B.S;if(H!==null&&H(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var tt=_1(M,c);Gu(i,s,tt,dr(i))}else Gu(i,s,c,dr(i))}catch(lt){Gu(i,s,{then:function(){},status:"rejected",reason:lt},dr())}finally{rt.p=g,B.T=T}}function w1(){}function gp(i,s,o,c){if(i.tag!==5)throw Error(r(476));var f=g0(i).queue;p0(i,f,s,pt,o===null?w1:function(){return y0(i),o(c)})}function g0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:pt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function y0(i){var s=g0(i).next.queue;Gu(i,s,{},dr())}function yp(){return In(uc)}function _0(){return Ze().memoizedState}function v0(){return Ze().memoizedState}function S1(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=dr();i=Ts(o);var c=bs(s,i,o);c!==null&&(fr(c,s,o),Bu(c,s,o)),s={cache:Qm()},i.payload=s;return}s=s.return}}function A1(i,s,o){var c=dr();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ad(i)?T0(s,o):(o=Lm(i,s,o,c),o!==null&&(fr(o,i,c),b0(o,s,c)))}function E0(i,s,o){var c=dr();Gu(i,s,o,c)}function Gu(i,s,o,c){var f={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ad(i))T0(s,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,A=g(T,o);if(f.hasEagerState=!0,f.eagerState=A,or(A,T))return qh(i,s,f,0),ve===null&&jh(),!1}catch{}finally{}if(o=Lm(i,s,f,c),o!==null)return fr(o,i,c),b0(o,s,c),!0}return!1}function _p(i,s,o,c){if(c={lane:2,revertLane:Xp(),action:c,hasEagerState:!1,eagerState:null,next:null},ad(i)){if(s)throw Error(r(479))}else s=Lm(i,o,c,2),s!==null&&fr(s,i,2)}function ad(i){var s=i.alternate;return i===zt||s!==null&&s===zt}function T0(i,s){rl=td=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function b0(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,be(i,o)}}var od={readContext:In,use:nd,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He},w0={readContext:In,use:nd,useCallback:function(i,s){return Yn().memoizedState=[i,s===void 0?null:s],i},useContext:In,useEffect:a0,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,sd(4194308,4,c0.bind(null,s,i),o)},useLayoutEffect:function(i,s){return sd(4194308,4,i,s)},useInsertionEffect:function(i,s){sd(4,2,i,s)},useMemo:function(i,s){var o=Yn();s=s===void 0?null:s;var c=i();if(qa){An(!0);try{i()}finally{An(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=Yn();if(o!==void 0){var f=o(s);if(qa){An(!0);try{o(s)}finally{An(!1)}}}else f=s;return c.memoizedState=c.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},c.queue=i,i=i.dispatch=A1.bind(null,zt,i),[c.memoizedState,i]},useRef:function(i){var s=Yn();return i={current:i},s.memoizedState=i},useState:function(i){i=dp(i);var s=i.queue,o=E0.bind(null,zt,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:mp,useDeferredValue:function(i,s){var o=Yn();return pp(o,i,s)},useTransition:function(){var i=dp(!1);return i=p0.bind(null,zt,i.queue,!0,!1),Yn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=zt,f=Yn();if(se){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ve===null)throw Error(r(349));(Zt&124)!==0||Hv(c,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,a0(Kv.bind(null,c,g,i),[i]),c.flags|=2048,sl(9,id(),Gv.bind(null,c,g,o,s),null),o},useId:function(){var i=Yn(),s=ve.identifierPrefix;if(se){var o=ji,c=zi;o=(c&~(1<<32-Ye(c)-1)).toString(32)+o,s=""+s+"R"+o,o=ed++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=v1++,s=""+s+"r"+o.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:yp,useFormState:e0,useActionState:e0,useOptimistic:function(i){var s=Yn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=_p.bind(null,zt,!0,o),o.dispatch=s,[i,s]},useMemoCache:up,useCacheRefresh:function(){return Yn().memoizedState=S1.bind(null,zt)}},S0={readContext:In,use:nd,useCallback:d0,useContext:In,useEffect:o0,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:u0,useMemo:f0,useReducer:rd,useRef:s0,useState:function(){return rd(Gi)},useDebugValue:mp,useDeferredValue:function(i,s){var o=Ze();return m0(o,fe.memoizedState,i,s)},useTransition:function(){var i=rd(Gi)[0],s=Ze().memoizedState;return[typeof i=="boolean"?i:qu(i),s]},useSyncExternalStore:qv,useId:_0,useHostTransitionStatus:yp,useFormState:n0,useActionState:n0,useOptimistic:function(i,s){var o=Ze();return Yv(o,fe,i,s)},useMemoCache:up,useCacheRefresh:v0},I1={readContext:In,use:nd,useCallback:d0,useContext:In,useEffect:o0,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:u0,useMemo:f0,useReducer:hp,useRef:s0,useState:function(){return hp(Gi)},useDebugValue:mp,useDeferredValue:function(i,s){var o=Ze();return fe===null?pp(o,i,s):m0(o,fe.memoizedState,i,s)},useTransition:function(){var i=hp(Gi)[0],s=Ze().memoizedState;return[typeof i=="boolean"?i:qu(i),s]},useSyncExternalStore:qv,useId:_0,useHostTransitionStatus:yp,useFormState:i0,useActionState:i0,useOptimistic:function(i,s){var o=Ze();return fe!==null?Yv(o,fe,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:up,useCacheRefresh:v0},al=null,Ku=0;function ld(i){var s=Ku;return Ku+=1,al===null&&(al=[]),Vv(al,i,s)}function Qu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ud(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function A0(i){var s=i._init;return s(i._payload)}function I0(i){function s(F,U){if(i){var j=F.deletions;j===null?(F.deletions=[U],F.flags|=16):j.push(U)}}function o(F,U){if(!i)return null;for(;U!==null;)s(F,U),U=U.sibling;return null}function c(F){for(var U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function f(F,U){return F=Fi(F,U),F.index=0,F.sibling=null,F}function g(F,U,j){return F.index=j,i?(j=F.alternate,j!==null?(j=j.index,j<U?(F.flags|=67108866,U):j):(F.flags|=67108866,U)):(F.flags|=1048576,U)}function T(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function A(F,U,j,it){return U===null||U.tag!==6?(U=Bm(j,F.mode,it),U.return=F,U):(U=f(U,j),U.return=F,U)}function M(F,U,j,it){var bt=j.type;return bt===O?tt(F,U,j.props.children,it,j.key):U!==null&&(U.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===w&&A0(bt)===U.type)?(U=f(U,j.props),Qu(U,j),U.return=F,U):(U=Gh(j.type,j.key,j.props,null,F.mode,it),Qu(U,j),U.return=F,U)}function H(F,U,j,it){return U===null||U.tag!==4||U.stateNode.containerInfo!==j.containerInfo||U.stateNode.implementation!==j.implementation?(U=Fm(j,F.mode,it),U.return=F,U):(U=f(U,j.children||[]),U.return=F,U)}function tt(F,U,j,it,bt){return U===null||U.tag!==7?(U=Va(j,F.mode,it,bt),U.return=F,U):(U=f(U,j),U.return=F,U)}function lt(F,U,j){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Bm(""+U,F.mode,j),U.return=F,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return j=Gh(U.type,U.key,U.props,null,F.mode,j),Qu(j,U),j.return=F,j;case R:return U=Fm(U,F.mode,j),U.return=F,U;case w:var it=U._init;return U=it(U._payload),lt(F,U,j)}if(_t(U)||N(U))return U=Va(U,F.mode,j,null),U.return=F,U;if(typeof U.then=="function")return lt(F,ld(U),j);if(U.$$typeof===K)return lt(F,Yh(F,U),j);ud(F,U)}return null}function Q(F,U,j,it){var bt=U!==null?U.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return bt!==null?null:A(F,U,""+j,it);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return j.key===bt?M(F,U,j,it):null;case R:return j.key===bt?H(F,U,j,it):null;case w:return bt=j._init,j=bt(j._payload),Q(F,U,j,it)}if(_t(j)||N(j))return bt!==null?null:tt(F,U,j,it,null);if(typeof j.then=="function")return Q(F,U,ld(j),it);if(j.$$typeof===K)return Q(F,U,Yh(F,j),it);ud(F,j)}return null}function $(F,U,j,it,bt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return F=F.get(j)||null,A(U,F,""+it,bt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case b:return F=F.get(it.key===null?j:it.key)||null,M(U,F,it,bt);case R:return F=F.get(it.key===null?j:it.key)||null,H(U,F,it,bt);case w:var Ht=it._init;return it=Ht(it._payload),$(F,U,j,it,bt)}if(_t(it)||N(it))return F=F.get(j)||null,tt(U,F,it,bt,null);if(typeof it.then=="function")return $(F,U,j,ld(it),bt);if(it.$$typeof===K)return $(F,U,j,Yh(U,it),bt);ud(U,it)}return null}function Nt(F,U,j,it){for(var bt=null,Ht=null,Rt=U,Ot=U=0,pn=null;Rt!==null&&Ot<j.length;Ot++){Rt.index>Ot?(pn=Rt,Rt=null):pn=Rt.sibling;var ne=Q(F,Rt,j[Ot],it);if(ne===null){Rt===null&&(Rt=pn);break}i&&Rt&&ne.alternate===null&&s(F,Rt),U=g(ne,U,Ot),Ht===null?bt=ne:Ht.sibling=ne,Ht=ne,Rt=pn}if(Ot===j.length)return o(F,Rt),se&&La(F,Ot),bt;if(Rt===null){for(;Ot<j.length;Ot++)Rt=lt(F,j[Ot],it),Rt!==null&&(U=g(Rt,U,Ot),Ht===null?bt=Rt:Ht.sibling=Rt,Ht=Rt);return se&&La(F,Ot),bt}for(Rt=c(Rt);Ot<j.length;Ot++)pn=$(Rt,F,Ot,j[Ot],it),pn!==null&&(i&&pn.alternate!==null&&Rt.delete(pn.key===null?Ot:pn.key),U=g(pn,U,Ot),Ht===null?bt=pn:Ht.sibling=pn,Ht=pn);return i&&Rt.forEach(function(Bs){return s(F,Bs)}),se&&La(F,Ot),bt}function xt(F,U,j,it){if(j==null)throw Error(r(151));for(var bt=null,Ht=null,Rt=U,Ot=U=0,pn=null,ne=j.next();Rt!==null&&!ne.done;Ot++,ne=j.next()){Rt.index>Ot?(pn=Rt,Rt=null):pn=Rt.sibling;var Bs=Q(F,Rt,ne.value,it);if(Bs===null){Rt===null&&(Rt=pn);break}i&&Rt&&Bs.alternate===null&&s(F,Rt),U=g(Bs,U,Ot),Ht===null?bt=Bs:Ht.sibling=Bs,Ht=Bs,Rt=pn}if(ne.done)return o(F,Rt),se&&La(F,Ot),bt;if(Rt===null){for(;!ne.done;Ot++,ne=j.next())ne=lt(F,ne.value,it),ne!==null&&(U=g(ne,U,Ot),Ht===null?bt=ne:Ht.sibling=ne,Ht=ne);return se&&La(F,Ot),bt}for(Rt=c(Rt);!ne.done;Ot++,ne=j.next())ne=$(Rt,F,Ot,ne.value,it),ne!==null&&(i&&ne.alternate!==null&&Rt.delete(ne.key===null?Ot:ne.key),U=g(ne,U,Ot),Ht===null?bt=ne:Ht.sibling=ne,Ht=ne);return i&&Rt.forEach(function(RC){return s(F,RC)}),se&&La(F,Ot),bt}function pe(F,U,j,it){if(typeof j=="object"&&j!==null&&j.type===O&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case b:t:{for(var bt=j.key;U!==null;){if(U.key===bt){if(bt=j.type,bt===O){if(U.tag===7){o(F,U.sibling),it=f(U,j.props.children),it.return=F,F=it;break t}}else if(U.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===w&&A0(bt)===U.type){o(F,U.sibling),it=f(U,j.props),Qu(it,j),it.return=F,F=it;break t}o(F,U);break}else s(F,U);U=U.sibling}j.type===O?(it=Va(j.props.children,F.mode,it,j.key),it.return=F,F=it):(it=Gh(j.type,j.key,j.props,null,F.mode,it),Qu(it,j),it.return=F,F=it)}return T(F);case R:t:{for(bt=j.key;U!==null;){if(U.key===bt)if(U.tag===4&&U.stateNode.containerInfo===j.containerInfo&&U.stateNode.implementation===j.implementation){o(F,U.sibling),it=f(U,j.children||[]),it.return=F,F=it;break t}else{o(F,U);break}else s(F,U);U=U.sibling}it=Fm(j,F.mode,it),it.return=F,F=it}return T(F);case w:return bt=j._init,j=bt(j._payload),pe(F,U,j,it)}if(_t(j))return Nt(F,U,j,it);if(N(j)){if(bt=N(j),typeof bt!="function")throw Error(r(150));return j=bt.call(j),xt(F,U,j,it)}if(typeof j.then=="function")return pe(F,U,ld(j),it);if(j.$$typeof===K)return pe(F,U,Yh(F,j),it);ud(F,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,U!==null&&U.tag===6?(o(F,U.sibling),it=f(U,j),it.return=F,F=it):(o(F,U),it=Bm(j,F.mode,it),it.return=F,F=it),T(F)):o(F,U)}return function(F,U,j,it){try{Ku=0;var bt=pe(F,U,j,it);return al=null,bt}catch(Rt){if(Rt===Lu||Rt===Wh)throw Rt;var Ht=lr(29,Rt,null,F.mode);return Ht.lanes=it,Ht.return=F,Ht}finally{}}}var ol=I0(!0),R0=I0(!1),Rr=q(null),si=null;function Ss(i){var s=i.alternate;X(sn,sn.current&1),X(Rr,i),si===null&&(s===null||nl.current!==null||s.memoizedState!==null)&&(si=i)}function C0(i){if(i.tag===22){if(X(sn,sn.current),X(Rr,i),si===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(si=i)}}else As()}function As(){X(sn,sn.current),X(Rr,Rr.current)}function Ki(i){ot(Rr),si===i&&(si=null),ot(sn)}var sn=q(0);function cd(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||lg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function vp(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Ep={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=dr(),f=Ts(c);f.payload=s,o!=null&&(f.callback=o),s=bs(i,f,c),s!==null&&(fr(s,i,c),Bu(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=dr(),f=Ts(c);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=bs(i,f,c),s!==null&&(fr(s,i,c),Bu(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=dr(),c=Ts(o);c.tag=2,s!=null&&(c.callback=s),s=bs(i,c,o),s!==null&&(fr(s,i,o),Bu(s,i,o))}};function D0(i,s,o,c,f,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):s.prototype&&s.prototype.isPureReactComponent?!Du(o,c)||!Du(f,g):!0}function x0(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&Ep.enqueueReplaceState(s,s.state,null)}function Ha(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var hd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function P0(i){hd(i)}function O0(i){console.error(i)}function N0(i){hd(i)}function dd(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function M0(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Tp(i,s,o){return o=Ts(o),o.tag=3,o.payload={element:null},o.callback=function(){dd(i,s)},o}function V0(i){return i=Ts(i),i.tag=3,i}function k0(i,s,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=c.value;i.payload=function(){return f(g)},i.callback=function(){M0(s,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){M0(s,o,c),typeof f!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function R1(i,s,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Mu(s,o,f,!0),o=Rr.current,o!==null){switch(o.tag){case 13:return si===null?Gp():o.alternate===null&&ke===0&&(ke=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Xm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Qp(i,c,f)),!1;case 22:return o.flags|=65536,c===Xm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Qp(i,c,f)),!1}throw Error(r(435,o.tag))}return Qp(i,c,f),Gp(),!1}if(se)return s=Rr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==qm&&(i=Error(r(422),{cause:c}),Nu(wr(i,o)))):(c!==qm&&(s=Error(r(423),{cause:c}),Nu(wr(s,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,c=wr(c,o),f=Tp(i.stateNode,c,f),Zm(i,f),ke!==4&&(ke=2)),!1;var g=Error(r(520),{cause:c});if(g=wr(g,o),tc===null?tc=[g]:tc.push(g),ke!==4&&(ke=2),s===null)return!0;c=wr(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Tp(o.stateNode,c,i),Zm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ps===null||!Ps.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=V0(f),k0(f,i,o,c),Zm(o,f),!1}o=o.return}while(o!==null);return!1}var L0=Error(r(461)),fn=!1;function vn(i,s,o,c){s.child=i===null?R0(s,null,o,c):ol(s,i.child,o,c)}function U0(i,s,o,c,f){o=o.render;var g=s.ref;if("ref"in c){var T={};for(var A in c)A!=="ref"&&(T[A]=c[A])}else T=c;return za(s),c=ip(i,s,o,T,g,f),A=sp(),i!==null&&!fn?(ap(i,s,f),Qi(i,s,f)):(se&&A&&zm(s),s.flags|=1,vn(i,s,c,f),s.child)}function B0(i,s,o,c,f){if(i===null){var g=o.type;return typeof g=="function"&&!Um(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,F0(i,s,g,c,f)):(i=Gh(o.type,null,c,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Dp(i,f)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Du,o(T,c)&&i.ref===s.ref)return Qi(i,s,f)}return s.flags|=1,i=Fi(g,c),i.ref=s.ref,i.return=s,s.child=i}function F0(i,s,o,c,f){if(i!==null){var g=i.memoizedProps;if(Du(g,c)&&i.ref===s.ref)if(fn=!1,s.pendingProps=c=g,Dp(i,f))(i.flags&131072)!==0&&(fn=!0);else return s.lanes=i.lanes,Qi(i,s,f)}return bp(i,s,o,c,f)}function z0(i,s,o){var c=s.pendingProps,f=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,i!==null){for(f=s.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return j0(i,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Xh(s,g!==null?g.cachePool:null),g!==null?Fv(s,g):ep(),C0(s);else return s.lanes=s.childLanes=536870912,j0(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Xh(s,g.cachePool),Fv(s,g),As(),s.memoizedState=null):(i!==null&&Xh(s,null),ep(),As());return vn(i,s,f,o),s.child}function j0(i,s,o,c){var f=Ym();return f=f===null?null:{parent:rn._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},i!==null&&Xh(s,null),ep(),C0(s),i!==null&&Mu(i,s,c,!0),null}function fd(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function bp(i,s,o,c,f){return za(s),o=ip(i,s,o,c,void 0,f),c=sp(),i!==null&&!fn?(ap(i,s,f),Qi(i,s,f)):(se&&c&&zm(s),s.flags|=1,vn(i,s,o,f),s.child)}function q0(i,s,o,c,f,g){return za(s),s.updateQueue=null,o=jv(s,c,o,f),zv(i),c=sp(),i!==null&&!fn?(ap(i,s,g),Qi(i,s,g)):(se&&c&&zm(s),s.flags|=1,vn(i,s,o,g),s.child)}function H0(i,s,o,c,f){if(za(s),s.stateNode===null){var g=Wo,T=o.contextType;typeof T=="object"&&T!==null&&(g=In(T)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ep,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Wm(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?In(T):Wo,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(vp(s,o,T,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Ep.enqueueReplaceState(g,g.state,null),zu(s,c,g,f),Fu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var A=s.memoizedProps,M=Ha(o,A);g.props=M;var H=g.context,tt=o.contextType;T=Wo,typeof tt=="object"&&tt!==null&&(T=In(tt));var lt=o.getDerivedStateFromProps;tt=typeof lt=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,tt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||H!==T)&&x0(s,g,c,T),Es=!1;var Q=s.memoizedState;g.state=Q,zu(s,c,g,f),Fu(),H=s.memoizedState,A||Q!==H||Es?(typeof lt=="function"&&(vp(s,o,lt,c),H=s.memoizedState),(M=Es||D0(s,o,M,c,Q,H,T))?(tt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=H),g.props=c,g.state=H,g.context=T,c=M):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Jm(i,s),T=s.memoizedProps,tt=Ha(o,T),g.props=tt,lt=s.pendingProps,Q=g.context,H=o.contextType,M=Wo,typeof H=="object"&&H!==null&&(M=In(H)),A=o.getDerivedStateFromProps,(H=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==lt||Q!==M)&&x0(s,g,c,M),Es=!1,Q=s.memoizedState,g.state=Q,zu(s,c,g,f),Fu();var $=s.memoizedState;T!==lt||Q!==$||Es||i!==null&&i.dependencies!==null&&$h(i.dependencies)?(typeof A=="function"&&(vp(s,o,A,c),$=s.memoizedState),(tt=Es||D0(s,o,tt,c,Q,$,M)||i!==null&&i.dependencies!==null&&$h(i.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,$,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,$,M)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=$),g.props=c,g.state=$,g.context=M,c=tt):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,fd(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=ol(s,i.child,null,f),s.child=ol(s,null,o,f)):vn(i,s,o,f),s.memoizedState=g.state,i=s.child):i=Qi(i,s,f),i}function G0(i,s,o,c){return Ou(),s.flags|=256,vn(i,s,o,c),s.child}var wp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sp(i){return{baseLanes:i,cachePool:Ov()}}function Ap(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Cr),i}function K0(i,s,o){var c=s.pendingProps,f=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(sn.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(se){if(f?Ss(s):As(),se){var A=Ve,M;if(M=A){t:{for(M=A,A=ii;M.nodeType!==8;){if(!A){A=null;break t}if(M=zr(M.nextSibling),M===null){A=null;break t}}A=M}A!==null?(s.memoizedState={dehydrated:A,treeContext:ka!==null?{id:zi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},M=lr(18,null,null,0),M.stateNode=A,M.return=s,s.child=M,Ln=s,Ve=null,M=!0):M=!1}M||Ba(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return lg(A)?s.lanes=32:s.lanes=536870912,null;Ki(s)}return A=c.children,c=c.fallback,f?(As(),f=s.mode,A=md({mode:"hidden",children:A},f),c=Va(c,f,o,null),A.return=s,c.return=s,A.sibling=c,s.child=A,f=s.child,f.memoizedState=Sp(o),f.childLanes=Ap(i,T,o),s.memoizedState=wp,c):(Ss(s),Ip(s,A))}if(M=i.memoizedState,M!==null&&(A=M.dehydrated,A!==null)){if(g)s.flags&256?(Ss(s),s.flags&=-257,s=Rp(i,s,o)):s.memoizedState!==null?(As(),s.child=i.child,s.flags|=128,s=null):(As(),f=c.fallback,A=s.mode,c=md({mode:"visible",children:c.children},A),f=Va(f,A,o,null),f.flags|=2,c.return=s,f.return=s,c.sibling=f,s.child=c,ol(s,i.child,null,o),c=s.child,c.memoizedState=Sp(o),c.childLanes=Ap(i,T,o),s.memoizedState=wp,s=f);else if(Ss(s),lg(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var H=T.dgst;T=H,c=Error(r(419)),c.stack="",c.digest=T,Nu({value:c,source:null,stack:null}),s=Rp(i,s,o)}else if(fn||Mu(i,s,o,!1),T=(o&i.childLanes)!==0,fn||T){if(T=ve,T!==null&&(c=o&-o,c=(c&42)!==0?1:Te(c),c=(c&(T.suspendedLanes|o))!==0?0:c,c!==0&&c!==M.retryLane))throw M.retryLane=c,Xo(i,c),fr(T,i,c),L0;A.data==="$?"||Gp(),s=Rp(i,s,o)}else A.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=M.treeContext,Ve=zr(A.nextSibling),Ln=s,se=!0,Ua=null,ii=!1,i!==null&&(Ar[Ir++]=zi,Ar[Ir++]=ji,Ar[Ir++]=ka,zi=i.id,ji=i.overflow,ka=s),s=Ip(s,c.children),s.flags|=4096);return s}return f?(As(),f=c.fallback,A=s.mode,M=i.child,H=M.sibling,c=Fi(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,H!==null?f=Fi(H,f):(f=Va(f,A,o,null),f.flags|=2),f.return=s,c.return=s,c.sibling=f,s.child=c,c=f,f=s.child,A=i.child.memoizedState,A===null?A=Sp(o):(M=A.cachePool,M!==null?(H=rn._currentValue,M=M.parent!==H?{parent:H,pool:H}:M):M=Ov(),A={baseLanes:A.baseLanes|o,cachePool:M}),f.memoizedState=A,f.childLanes=Ap(i,T,o),s.memoizedState=wp,c):(Ss(s),o=i.child,i=o.sibling,o=Fi(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=o,s.memoizedState=null,o)}function Ip(i,s){return s=md({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function md(i,s){return i=lr(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Rp(i,s,o){return ol(s,i.child,null,o),i=Ip(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Q0(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Gm(i.return,s,o)}function Cp(i,s,o,c,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=f)}function $0(i,s,o){var c=s.pendingProps,f=c.revealOrder,g=c.tail;if(vn(i,s,c.children,o),c=sn.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Q0(i,o,s);else if(i.tag===19)Q0(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(X(sn,c),f){case"forwards":for(o=s.child,f=null;o!==null;)i=o.alternate,i!==null&&cd(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Cp(s,!1,f,o,g);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&cd(i)===null){s.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Cp(s,!0,o,null,g);break;case"together":Cp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Qi(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),xs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Mu(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Fi(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Fi(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Dp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&$h(i)))}function C1(i,s,o){switch(s.tag){case 3:Tt(s,s.stateNode.containerInfo),vs(s,rn,i.memoizedState.cache),Ou();break;case 27:case 5:Pe(s);break;case 4:Tt(s,s.stateNode.containerInfo);break;case 10:vs(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ss(s),s.flags|=128,null):(o&s.child.childLanes)!==0?K0(i,s,o):(Ss(s),i=Qi(i,s,o),i!==null?i.sibling:null);Ss(s);break;case 19:var f=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Mu(i,s,o,!1),c=(o&s.childLanes)!==0),f){if(c)return $0(i,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),X(sn,sn.current),c)break;return null;case 22:case 23:return s.lanes=0,z0(i,s,o);case 24:vs(s,rn,i.memoizedState.cache)}return Qi(i,s,o)}function Y0(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)fn=!0;else{if(!Dp(i,o)&&(s.flags&128)===0)return fn=!1,C1(i,s,o);fn=(i.flags&131072)!==0}else fn=!1,se&&(s.flags&1048576)!==0&&Av(s,Qh,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var c=s.elementType,f=c._init;if(c=f(c._payload),s.type=c,typeof c=="function")Um(c)?(i=Ha(c,i),s.tag=1,s=H0(null,s,c,i,o)):(s.tag=0,s=bp(null,s,c,i,o));else{if(c!=null){if(f=c.$$typeof,f===st){s.tag=11,s=U0(null,s,c,i,o);break t}else if(f===x){s.tag=14,s=B0(null,s,c,i,o);break t}}throw s=Pt(c)||c,Error(r(306,s,""))}}return s;case 0:return bp(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,f=Ha(c,s.pendingProps),H0(i,s,c,f,o);case 3:t:{if(Tt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;f=g.element,Jm(i,s),zu(s,c,null,o);var T=s.memoizedState;if(c=T.cache,vs(s,rn,c),c!==g.cache&&Km(s,[rn],o,!0),Fu(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=G0(i,s,c,o);break t}else if(c!==f){f=wr(Error(r(424)),s),Nu(f),s=G0(i,s,c,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ve=zr(i.firstChild),Ln=s,se=!0,Ua=null,ii=!0,o=R0(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ou(),c===f){s=Qi(i,s,o);break t}vn(i,s,c,o)}s=s.child}return s;case 26:return fd(i,s),i===null?(o=ZE(s.type,null,s.pendingProps,null))?s.memoizedState=o:se||(o=s.type,i=s.pendingProps,c=Cd(dt.current).createElement(o),c[we]=s,c[ee]=i,Tn(c,o,i),qe(c),s.stateNode=c):s.memoizedState=ZE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Pe(s),i===null&&se&&(c=s.stateNode=XE(s.type,s.pendingProps,dt.current),Ln=s,ii=!0,f=Ve,Ms(s.type)?(ug=f,Ve=zr(c.firstChild)):Ve=f),vn(i,s,s.pendingProps.children,o),fd(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&se&&((f=c=Ve)&&(c=nC(c,s.type,s.pendingProps,ii),c!==null?(s.stateNode=c,Ln=s,Ve=zr(c.firstChild),ii=!1,f=!0):f=!1),f||Ba(s)),Pe(s),f=s.type,g=s.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,sg(f,g)?c=null:T!==null&&sg(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=ip(i,s,E1,null,null,o),uc._currentValue=f),fd(i,s),vn(i,s,c,o),s.child;case 6:return i===null&&se&&((i=o=Ve)&&(o=rC(o,s.pendingProps,ii),o!==null?(s.stateNode=o,Ln=s,Ve=null,i=!0):i=!1),i||Ba(s)),null;case 13:return K0(i,s,o);case 4:return Tt(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=ol(s,null,c,o):vn(i,s,c,o),s.child;case 11:return U0(i,s,s.type,s.pendingProps,o);case 7:return vn(i,s,s.pendingProps,o),s.child;case 8:return vn(i,s,s.pendingProps.children,o),s.child;case 12:return vn(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,vs(s,s.type,c.value),vn(i,s,c.children,o),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,za(s),f=In(f),c=c(f),s.flags|=1,vn(i,s,c,o),s.child;case 14:return B0(i,s,s.type,s.pendingProps,o);case 15:return F0(i,s,s.type,s.pendingProps,o);case 19:return $0(i,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},i===null?(o=md(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Fi(i.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return z0(i,s,o);case 24:return za(s),c=In(rn),i===null?(f=Ym(),f===null&&(f=ve,g=Qm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:c,cache:f},Wm(s),vs(s,rn,f)):((i.lanes&o)!==0&&(Jm(i,s),zu(s,null,null,o),Fu()),f=i.memoizedState,g=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),vs(s,rn,c)):(c=g.cache,vs(s,rn,c),c!==f.cache&&Km(s,[rn],o,!0))),vn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function $i(i){i.flags|=4}function X0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!iT(s)){if(s=Rr.current,s!==null&&((Zt&4194048)===Zt?si!==null:(Zt&62914560)!==Zt&&(Zt&536870912)===0||s!==si))throw Uu=Xm,Nv;i.flags|=8192}}function pd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?_a():536870912,i.lanes|=s,hl|=s)}function $u(i,s){if(!se)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Re(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function D1(i,s,o){var c=s.pendingProps;switch(jm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(s),null;case 1:return Re(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Hi(rn),Ft(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Pu(s)?$i(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Cv())),Re(s),null;case 26:return o=s.memoizedState,i===null?($i(s),o!==null?(Re(s),X0(s,o)):(Re(s),s.flags&=-16777217)):o?o!==i.memoizedState?($i(s),Re(s),X0(s,o)):(Re(s),s.flags&=-16777217):(i.memoizedProps!==c&&$i(s),Re(s),s.flags&=-16777217),null;case 27:ze(s),o=dt.current;var f=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&$i(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Re(s),null}i=ht.current,Pu(s)?Iv(s):(i=XE(f,c,o),s.stateNode=i,$i(s))}return Re(s),null;case 5:if(ze(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&$i(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Re(s),null}if(i=ht.current,Pu(s))Iv(s);else{switch(f=Cd(dt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?f.createElement(o,{is:c.is}):f.createElement(o)}}i[we]=s,i[ee]=c;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=i;t:switch(Tn(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&$i(s)}}return Re(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&$i(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=dt.current,Pu(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,f=Ln,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}i[we]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||qE(i.nodeValue,o)),i||Ba(s)}else i=Cd(i).createTextNode(c),i[we]=s,s.stateNode=i}return Re(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Pu(s),c!==null&&c.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[we]=s}else Ou(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Re(s),f=!1}else f=Cv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Ki(s),s):(Ki(s),null)}if(Ki(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),pd(s,s.updateQueue),Re(s),null;case 4:return Ft(),i===null&&tg(s.stateNode.containerInfo),Re(s),null;case 10:return Hi(s.type),Re(s),null;case 19:if(ot(sn),f=s.memoizedState,f===null)return Re(s),null;if(c=(s.flags&128)!==0,g=f.rendering,g===null)if(c)$u(f,!1);else{if(ke!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=cd(i),g!==null){for(s.flags|=128,$u(f,!1),i=g.updateQueue,s.updateQueue=i,pd(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Sv(o,i),o=o.sibling;return X(sn,sn.current&1|2),s.child}i=i.sibling}f.tail!==null&&$t()>_d&&(s.flags|=128,c=!0,$u(f,!1),s.lanes=4194304)}else{if(!c)if(i=cd(g),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,pd(s,i),$u(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!se)return Re(s),null}else 2*$t()-f.renderingStartTime>_d&&o!==536870912&&(s.flags|=128,c=!0,$u(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(i=f.last,i!==null?i.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=$t(),s.sibling=null,i=sn.current,X(sn,c?i&1|2:i&1),s):(Re(s),null);case 22:case 23:return Ki(s),np(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(Re(s),s.subtreeFlags&6&&(s.flags|=8192)):Re(s),o=s.updateQueue,o!==null&&pd(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&ot(ja),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Hi(rn),Re(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function x1(i,s){switch(jm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Hi(rn),Ft(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ze(s),null;case 13:if(Ki(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ou()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ot(sn),null;case 4:return Ft(),null;case 10:return Hi(s.type),null;case 22:case 23:return Ki(s),np(),i!==null&&ot(ja),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Hi(rn),null;case 25:return null;default:return null}}function W0(i,s){switch(jm(s),s.tag){case 3:Hi(rn),Ft();break;case 26:case 27:case 5:ze(s);break;case 4:Ft();break;case 13:Ki(s);break;case 19:ot(sn);break;case 10:Hi(s.type);break;case 22:case 23:Ki(s),np(),i!==null&&ot(ja);break;case 24:Hi(rn)}}function Yu(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&i)===i){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==f)}}catch(A){ye(s,s.return,A)}}function Is(i,s,o){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&i)===i){var T=c.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=s;var M=o,H=A;try{H()}catch(tt){ye(f,M,tt)}}}c=c.next}while(c!==g)}}catch(tt){ye(s,s.return,tt)}}function J0(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Bv(s,o)}catch(c){ye(i,i.return,c)}}}function Z0(i,s,o){o.props=Ha(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){ye(i,s,c)}}function Xu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(f){ye(i,s,f)}}function ai(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){ye(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ye(i,s,f)}else o.current=null}function tE(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){ye(i,i.return,f)}}function xp(i,s,o){try{var c=i.stateNode;W1(c,i.type,o,s),c[ee]=s}catch(f){ye(i,i.return,f)}}function eE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ms(i.type)||i.tag===4}function Pp(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||eE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ms(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Op(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Rd));else if(c!==4&&(c===27&&Ms(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Op(i,s,o),i=i.sibling;i!==null;)Op(i,s,o),i=i.sibling}function gd(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&Ms(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(gd(i,s,o),i=i.sibling;i!==null;)gd(i,s,o),i=i.sibling}function nE(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Tn(s,c,o),s[we]=i,s[ee]=o}catch(g){ye(i,i.return,g)}}var Yi=!1,Ge=!1,Np=!1,rE=typeof WeakSet=="function"?WeakSet:Set,mn=null;function P1(i,s){if(i=i.containerInfo,rg=Md,i=mv(i),Pm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,A=-1,M=-1,H=0,tt=0,lt=i,Q=null;e:for(;;){for(var $;lt!==o||f!==0&&lt.nodeType!==3||(A=T+f),lt!==g||c!==0&&lt.nodeType!==3||(M=T+c),lt.nodeType===3&&(T+=lt.nodeValue.length),($=lt.firstChild)!==null;)Q=lt,lt=$;for(;;){if(lt===i)break e;if(Q===o&&++H===f&&(A=T),Q===g&&++tt===c&&(M=T),($=lt.nextSibling)!==null)break;lt=Q,Q=lt.parentNode}lt=$}o=A===-1||M===-1?null:{start:A,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(ig={focusedElem:i,selectionRange:o},Md=!1,mn=s;mn!==null;)if(s=mn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,mn=i;else for(;mn!==null;){switch(s=mn,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Nt=Ha(o.type,f,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(Nt,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(xt){ye(o,o.return,xt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)og(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":og(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,mn=i;break}mn=s.return}}function iE(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Rs(i,o),c&4&&Yu(5,o);break;case 1:if(Rs(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(T){ye(o,o.return,T)}else{var f=Ha(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){ye(o,o.return,T)}}c&64&&J0(o),c&512&&Xu(o,o.return);break;case 3:if(Rs(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Bv(i,s)}catch(T){ye(o,o.return,T)}}break;case 27:s===null&&c&4&&nE(o);case 26:case 5:Rs(i,o),s===null&&c&4&&tE(o),c&512&&Xu(o,o.return);break;case 12:Rs(i,o);break;case 13:Rs(i,o),c&4&&oE(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=F1.bind(null,o),iC(i,o))));break;case 22:if(c=o.memoizedState!==null||Yi,!c){s=s!==null&&s.memoizedState!==null||Ge,f=Yi;var g=Ge;Yi=c,(Ge=s)&&!g?Cs(i,o,(o.subtreeFlags&8772)!==0):Rs(i,o),Yi=f,Ge=g}break;case 30:break;default:Rs(i,o)}}function sE(i){var s=i.alternate;s!==null&&(i.alternate=null,sE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ps(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ae=null,Xn=!1;function Xi(i,s,o){for(o=o.child;o!==null;)aE(i,s,o),o=o.sibling}function aE(i,s,o){if(ie&&typeof ie.onCommitFiberUnmount=="function")try{ie.onCommitFiberUnmount(le,o)}catch{}switch(o.tag){case 26:Ge||ai(o,s),Xi(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ge||ai(o,s);var c=Ae,f=Xn;Ms(o.type)&&(Ae=o.stateNode,Xn=!1),Xi(i,s,o),sc(o.stateNode),Ae=c,Xn=f;break;case 5:Ge||ai(o,s);case 6:if(c=Ae,f=Xn,Ae=null,Xi(i,s,o),Ae=c,Xn=f,Ae!==null)if(Xn)try{(Ae.nodeType===9?Ae.body:Ae.nodeName==="HTML"?Ae.ownerDocument.body:Ae).removeChild(o.stateNode)}catch(g){ye(o,s,g)}else try{Ae.removeChild(o.stateNode)}catch(g){ye(o,s,g)}break;case 18:Ae!==null&&(Xn?(i=Ae,$E(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),fc(i)):$E(Ae,o.stateNode));break;case 4:c=Ae,f=Xn,Ae=o.stateNode.containerInfo,Xn=!0,Xi(i,s,o),Ae=c,Xn=f;break;case 0:case 11:case 14:case 15:Ge||Is(2,o,s),Ge||Is(4,o,s),Xi(i,s,o);break;case 1:Ge||(ai(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Z0(o,s,c)),Xi(i,s,o);break;case 21:Xi(i,s,o);break;case 22:Ge=(c=Ge)||o.memoizedState!==null,Xi(i,s,o),Ge=c;break;default:Xi(i,s,o)}}function oE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{fc(i)}catch(o){ye(s,s.return,o)}}function O1(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new rE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new rE),s;default:throw Error(r(435,i.tag))}}function Mp(i,s){var o=O1(i);s.forEach(function(c){var f=z1.bind(null,i,c);o.has(c)||(o.add(c),c.then(f,f))})}function ur(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],g=i,T=s,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(Ms(A.type)){Ae=A.stateNode,Xn=!1;break t}break;case 5:Ae=A.stateNode,Xn=!1;break t;case 3:case 4:Ae=A.stateNode.containerInfo,Xn=!0;break t}A=A.return}if(Ae===null)throw Error(r(160));aE(g,T,f),Ae=null,Xn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)lE(s,i),s=s.sibling}var Fr=null;function lE(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ur(s,i),cr(i),c&4&&(Is(3,i,i.return),Yu(3,i),Is(5,i,i.return));break;case 1:ur(s,i),cr(i),c&512&&(Ge||o===null||ai(o,o.return)),c&64&&Yi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=Fr;if(ur(s,i),cr(i),c&512&&(Ge||o===null||ai(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){t:{c=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(c){case"title":g=f.getElementsByTagName("title")[0],(!g||g[va]||g[we]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(c),f.head.insertBefore(g,f.querySelector("head > title"))),Tn(g,c,o),g[we]=i,qe(g),c=g;break t;case"link":var T=nT("link","href",f).get(c+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(g=T[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break e}}g=f.createElement(c),Tn(g,c,o),f.head.appendChild(g);break;case"meta":if(T=nT("meta","content",f).get(c+(o.content||""))){for(A=0;A<T.length;A++)if(g=T[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break e}}g=f.createElement(c),Tn(g,c,o),f.head.appendChild(g);break;default:throw Error(r(468,c))}g[we]=i,qe(g),c=g}i.stateNode=c}else rT(f,i.type,i.stateNode);else i.stateNode=eT(f,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?rT(f,i.type,i.stateNode):eT(f,c,i.memoizedProps)):c===null&&i.stateNode!==null&&xp(i,i.memoizedProps,o.memoizedProps)}break;case 27:ur(s,i),cr(i),c&512&&(Ge||o===null||ai(o,o.return)),o!==null&&c&4&&xp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(ur(s,i),cr(i),c&512&&(Ge||o===null||ai(o,o.return)),i.flags&32){f=i.stateNode;try{vr(f,"")}catch($){ye(i,i.return,$)}}c&4&&i.stateNode!=null&&(f=i.memoizedProps,xp(i,f,o!==null?o.memoizedProps:f)),c&1024&&(Np=!0);break;case 6:if(ur(s,i),cr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch($){ye(i,i.return,$)}}break;case 3:if(Pd=null,f=Fr,Fr=Dd(s.containerInfo),ur(s,i),Fr=f,cr(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{fc(s.containerInfo)}catch($){ye(i,i.return,$)}Np&&(Np=!1,uE(i));break;case 4:c=Fr,Fr=Dd(i.stateNode.containerInfo),ur(s,i),cr(i),Fr=c;break;case 12:ur(s,i),cr(i);break;case 13:ur(s,i),cr(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Fp=$t()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mp(i,c)));break;case 22:f=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,H=Yi,tt=Ge;if(Yi=H||f,Ge=tt||M,ur(s,i),Ge=tt,Yi=H,cr(i),c&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||M||Yi||Ge||Ga(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){M=o=s;try{if(g=M.stateNode,f)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=M.stateNode;var lt=M.memoizedProps.style,Q=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch($){ye(M,M.return,$)}}}else if(s.tag===6){if(o===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch($){ye(M,M.return,$)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Mp(i,o))));break;case 19:ur(s,i),cr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mp(i,c)));break;case 30:break;case 21:break;default:ur(s,i),cr(i)}}function cr(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(eE(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,g=Pp(i);gd(i,g,f);break;case 5:var T=o.stateNode;o.flags&32&&(vr(T,""),o.flags&=-33);var A=Pp(i);gd(i,A,T);break;case 3:case 4:var M=o.stateNode.containerInfo,H=Pp(i);Op(i,H,M);break;default:throw Error(r(161))}}catch(tt){ye(i,i.return,tt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function uE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;uE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Rs(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)iE(i,s.alternate,s),s=s.sibling}function Ga(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Is(4,s,s.return),Ga(s);break;case 1:ai(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Z0(s,s.return,o),Ga(s);break;case 27:sc(s.stateNode);case 26:case 5:ai(s,s.return),Ga(s);break;case 22:s.memoizedState===null&&Ga(s);break;case 30:Ga(s);break;default:Ga(s)}i=i.sibling}}function Cs(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=i,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:Cs(f,g,o),Yu(4,g);break;case 1:if(Cs(f,g,o),c=g,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){ye(c,c.return,H)}if(c=g,f=c.updateQueue,f!==null){var A=c.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Uv(M[f],A)}catch(H){ye(c,c.return,H)}}o&&T&64&&J0(g),Xu(g,g.return);break;case 27:nE(g);case 26:case 5:Cs(f,g,o),o&&c===null&&T&4&&tE(g),Xu(g,g.return);break;case 12:Cs(f,g,o);break;case 13:Cs(f,g,o),o&&T&4&&oE(f,g);break;case 22:g.memoizedState===null&&Cs(f,g,o),Xu(g,g.return);break;case 30:break;default:Cs(f,g,o)}s=s.sibling}}function Vp(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Vu(o))}function kp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Vu(i))}function oi(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cE(i,s,o,c),s=s.sibling}function cE(i,s,o,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:oi(i,s,o,c),f&2048&&Yu(9,s);break;case 1:oi(i,s,o,c);break;case 3:oi(i,s,o,c),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Vu(i)));break;case 12:if(f&2048){oi(i,s,o,c),i=s.stateNode;try{var g=s.memoizedProps,T=g.id,A=g.onPostCommit;typeof A=="function"&&A(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){ye(s,s.return,M)}}else oi(i,s,o,c);break;case 13:oi(i,s,o,c);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?oi(i,s,o,c):Wu(i,s):g._visibility&2?oi(i,s,o,c):(g._visibility|=2,ll(i,s,o,c,(s.subtreeFlags&10256)!==0)),f&2048&&Vp(T,s);break;case 24:oi(i,s,o,c),f&2048&&kp(s.alternate,s);break;default:oi(i,s,o,c)}}function ll(i,s,o,c,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,T=s,A=o,M=c,H=T.flags;switch(T.tag){case 0:case 11:case 15:ll(g,T,A,M,f),Yu(8,T);break;case 23:break;case 22:var tt=T.stateNode;T.memoizedState!==null?tt._visibility&2?ll(g,T,A,M,f):Wu(g,T):(tt._visibility|=2,ll(g,T,A,M,f)),f&&H&2048&&Vp(T.alternate,T);break;case 24:ll(g,T,A,M,f),f&&H&2048&&kp(T.alternate,T);break;default:ll(g,T,A,M,f)}s=s.sibling}}function Wu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,f=c.flags;switch(c.tag){case 22:Wu(o,c),f&2048&&Vp(c.alternate,c);break;case 24:Wu(o,c),f&2048&&kp(c.alternate,c);break;default:Wu(o,c)}s=s.sibling}}var Ju=8192;function ul(i){if(i.subtreeFlags&Ju)for(i=i.child;i!==null;)hE(i),i=i.sibling}function hE(i){switch(i.tag){case 26:ul(i),i.flags&Ju&&i.memoizedState!==null&&yC(Fr,i.memoizedState,i.memoizedProps);break;case 5:ul(i);break;case 3:case 4:var s=Fr;Fr=Dd(i.stateNode.containerInfo),ul(i),Fr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Ju,Ju=16777216,ul(i),Ju=s):ul(i));break;default:ul(i)}}function dE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Zu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];mn=c,mE(c,i)}dE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fE(i),i=i.sibling}function fE(i){switch(i.tag){case 0:case 11:case 15:Zu(i),i.flags&2048&&Is(9,i,i.return);break;case 3:Zu(i);break;case 12:Zu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,yd(i)):Zu(i);break;default:Zu(i)}}function yd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];mn=c,mE(c,i)}dE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Is(8,s,s.return),yd(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,yd(s));break;default:yd(s)}i=i.sibling}}function mE(i,s){for(;mn!==null;){var o=mn;switch(o.tag){case 0:case 11:case 15:Is(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Vu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,mn=c;else t:for(o=i;mn!==null;){c=mn;var f=c.sibling,g=c.return;if(sE(c),c===o){mn=null;break t}if(f!==null){f.return=g,mn=f;break t}mn=g}}}var N1={getCacheForType:function(i){var s=In(rn),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},M1=typeof WeakMap=="function"?WeakMap:Map,ue=0,ve=null,Kt=null,Zt=0,ce=0,hr=null,Ds=!1,cl=!1,Lp=!1,Wi=0,ke=0,xs=0,Ka=0,Up=0,Cr=0,hl=0,tc=null,Wn=null,Bp=!1,Fp=0,_d=1/0,vd=null,Ps=null,En=0,Os=null,dl=null,fl=0,zp=0,jp=null,pE=null,ec=0,qp=null;function dr(){if((ue&2)!==0&&Zt!==0)return Zt&-Zt;if(B.T!==null){var i=tl;return i!==0?i:Xp()}return sr()}function gE(){Cr===0&&(Cr=(Zt&536870912)===0||se?$n():536870912);var i=Rr.current;return i!==null&&(i.flags|=32),Cr}function fr(i,s,o){(i===ve&&(ce===2||ce===9)||i.cancelPendingCommit!==null)&&(ml(i,0),Ns(i,Zt,Cr,!1)),_r(i,o),((ue&2)===0||i!==ve)&&(i===ve&&((ue&2)===0&&(Ka|=o),ke===4&&Ns(i,Zt,Cr,!1)),li(i))}function yE(i,s,o){if((ue&6)!==0)throw Error(r(327));var c=!o&&(s&124)===0&&(s&i.expiredLanes)===0||Ri(i,s),f=c?L1(i,s):Kp(i,s,!0),g=c;do{if(f===0){cl&&!c&&Ns(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!V1(o)){f=Kp(i,s,!1),g=!1;continue}if(f===2){if(g=s,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var A=i;f=tc;var M=A.current.memoizedState.isDehydrated;if(M&&(ml(A,T).flags|=256),T=Kp(A,T,!1),T!==2){if(Lp&&!M){A.errorRecoveryDisabledLanes|=g,Ka|=g,f=4;break t}g=Wn,Wn=f,g!==null&&(Wn===null?Wn=g:Wn.push.apply(Wn,g))}f=T}if(g=!1,f!==2)continue}}if(f===1){ml(i,0),Ns(i,s,0,!0);break}t:{switch(c=i,g=f,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ns(c,s,Cr,!Ds);break t;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Fp+300-$t(),10<f)){if(Ns(c,s,Cr,!Ds),Ii(c,0,!0)!==0)break t;c.timeoutHandle=KE(_E.bind(null,c,o,Wn,vd,Bp,s,Cr,Ka,hl,Ds,g,2,-0,0),f);break t}_E(c,o,Wn,vd,Bp,s,Cr,Ka,hl,Ds,g,0,-0,0)}}break}while(!0);li(i)}function _E(i,s,o,c,f,g,T,A,M,H,tt,lt,Q,$){if(i.timeoutHandle=-1,lt=s.subtreeFlags,(lt&8192||(lt&16785408)===16785408)&&(lc={stylesheets:null,count:0,unsuspend:gC},hE(s),lt=_C(),lt!==null)){i.cancelPendingCommit=lt(AE.bind(null,i,s,g,o,c,f,T,A,M,tt,1,Q,$)),Ns(i,g,T,!H);return}AE(i,s,g,o,c,f,T,A,M)}function V1(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],g=f.getSnapshot;f=f.value;try{if(!or(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ns(i,s,o,c){s&=~Up,s&=~Ka,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var f=s;0<f;){var g=31-Ye(f),T=1<<g;c[g]=-1,f&=~T}o!==0&&Dt(i,o,s)}function Ed(){return(ue&6)===0?(nc(0),!1):!0}function Hp(){if(Kt!==null){if(ce===0)var i=Kt.return;else i=Kt,qi=Fa=null,op(i),al=null,Ku=0,i=Kt;for(;i!==null;)W0(i.alternate,i),i=i.return;Kt=null}}function ml(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,Z1(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Hp(),ve=i,Kt=o=Fi(i.current,null),Zt=s,ce=0,hr=null,Ds=!1,cl=Ri(i,s),Lp=!1,hl=Cr=Up=Ka=xs=ke=0,Wn=tc=null,Bp=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var f=31-Ye(c),g=1<<f;s|=i[f],c&=~g}return Wi=s,jh(),o}function vE(i,s){zt=null,B.H=od,s===Lu||s===Wh?(s=kv(),ce=3):s===Nv?(s=kv(),ce=4):ce=s===L0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,hr=s,Kt===null&&(ke=1,dd(i,wr(s,i.current)))}function EE(){var i=B.H;return B.H=od,i===null?od:i}function TE(){var i=B.A;return B.A=N1,i}function Gp(){ke=4,Ds||(Zt&4194048)!==Zt&&Rr.current!==null||(cl=!0),(xs&134217727)===0&&(Ka&134217727)===0||ve===null||Ns(ve,Zt,Cr,!1)}function Kp(i,s,o){var c=ue;ue|=2;var f=EE(),g=TE();(ve!==i||Zt!==s)&&(vd=null,ml(i,s)),s=!1;var T=ke;t:do try{if(ce!==0&&Kt!==null){var A=Kt,M=hr;switch(ce){case 8:Hp(),T=6;break t;case 3:case 2:case 9:case 6:Rr.current===null&&(s=!0);var H=ce;if(ce=0,hr=null,pl(i,A,M,H),o&&cl){T=0;break t}break;default:H=ce,ce=0,hr=null,pl(i,A,M,H)}}k1(),T=ke;break}catch(tt){vE(i,tt)}while(!0);return s&&i.shellSuspendCounter++,qi=Fa=null,ue=c,B.H=f,B.A=g,Kt===null&&(ve=null,Zt=0,jh()),T}function k1(){for(;Kt!==null;)bE(Kt)}function L1(i,s){var o=ue;ue|=2;var c=EE(),f=TE();ve!==i||Zt!==s?(vd=null,_d=$t()+500,ml(i,s)):cl=Ri(i,s);t:do try{if(ce!==0&&Kt!==null){s=Kt;var g=hr;e:switch(ce){case 1:ce=0,hr=null,pl(i,s,g,1);break;case 2:case 9:if(Mv(g)){ce=0,hr=null,wE(s);break}s=function(){ce!==2&&ce!==9||ve!==i||(ce=7),li(i)},g.then(s,s);break t;case 3:ce=7;break t;case 4:ce=5;break t;case 7:Mv(g)?(ce=0,hr=null,wE(s)):(ce=0,hr=null,pl(i,s,g,7));break;case 5:var T=null;switch(Kt.tag){case 26:T=Kt.memoizedState;case 5:case 27:var A=Kt;if(!T||iT(T)){ce=0,hr=null;var M=A.sibling;if(M!==null)Kt=M;else{var H=A.return;H!==null?(Kt=H,Td(H)):Kt=null}break e}}ce=0,hr=null,pl(i,s,g,5);break;case 6:ce=0,hr=null,pl(i,s,g,6);break;case 8:Hp(),ke=6;break t;default:throw Error(r(462))}}U1();break}catch(tt){vE(i,tt)}while(!0);return qi=Fa=null,B.H=c,B.A=f,ue=o,Kt!==null?0:(ve=null,Zt=0,jh(),ke)}function U1(){for(;Kt!==null&&!_e();)bE(Kt)}function bE(i){var s=Y0(i.alternate,i,Wi);i.memoizedProps=i.pendingProps,s===null?Td(i):Kt=s}function wE(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=q0(o,s,s.pendingProps,s.type,void 0,Zt);break;case 11:s=q0(o,s,s.pendingProps,s.type.render,s.ref,Zt);break;case 5:op(s);default:W0(o,s),s=Kt=Sv(s,Wi),s=Y0(o,s,Wi)}i.memoizedProps=i.pendingProps,s===null?Td(i):Kt=s}function pl(i,s,o,c){qi=Fa=null,op(s),al=null,Ku=0;var f=s.return;try{if(R1(i,f,s,o,Zt)){ke=1,dd(i,wr(o,i.current)),Kt=null;return}}catch(g){if(f!==null)throw Kt=f,g;ke=1,dd(i,wr(o,i.current)),Kt=null;return}s.flags&32768?(se||c===1?i=!0:cl||(Zt&536870912)!==0?i=!1:(Ds=i=!0,(c===2||c===9||c===3||c===6)&&(c=Rr.current,c!==null&&c.tag===13&&(c.flags|=16384))),SE(s,i)):Td(s)}function Td(i){var s=i;do{if((s.flags&32768)!==0){SE(s,Ds);return}i=s.return;var o=D1(s.alternate,s,Wi);if(o!==null){Kt=o;return}if(s=s.sibling,s!==null){Kt=s;return}Kt=s=i}while(s!==null);ke===0&&(ke=5)}function SE(i,s){do{var o=x1(i.alternate,i);if(o!==null){o.flags&=32767,Kt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Kt=i;return}Kt=i=o}while(i!==null);ke=6,Kt=null}function AE(i,s,o,c,f,g,T,A,M){i.cancelPendingCommit=null;do bd();while(En!==0);if((ue&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=km,fs(i,o,g,T,A,M),i===ve&&(Kt=ve=null,Zt=0),dl=s,Os=i,fl=o,zp=g,jp=f,pE=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,j1(qt,function(){return xE(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,f=rt.p,rt.p=2,T=ue,ue|=4;try{P1(i,s,o)}finally{ue=T,rt.p=f,B.T=c}}En=1,IE(),RE(),CE()}}function IE(){if(En===1){En=0;var i=Os,s=dl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var c=rt.p;rt.p=2;var f=ue;ue|=4;try{lE(s,i);var g=ig,T=mv(i.containerInfo),A=g.focusedElem,M=g.selectionRange;if(T!==A&&A&&A.ownerDocument&&fv(A.ownerDocument.documentElement,A)){if(M!==null&&Pm(A)){var H=M.start,tt=M.end;if(tt===void 0&&(tt=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min(tt,A.value.length);else{var lt=A.ownerDocument||document,Q=lt&&lt.defaultView||window;if(Q.getSelection){var $=Q.getSelection(),Nt=A.textContent.length,xt=Math.min(M.start,Nt),pe=M.end===void 0?xt:Math.min(M.end,Nt);!$.extend&&xt>pe&&(T=pe,pe=xt,xt=T);var F=dv(A,xt),U=dv(A,pe);if(F&&U&&($.rangeCount!==1||$.anchorNode!==F.node||$.anchorOffset!==F.offset||$.focusNode!==U.node||$.focusOffset!==U.offset)){var j=lt.createRange();j.setStart(F.node,F.offset),$.removeAllRanges(),xt>pe?($.addRange(j),$.extend(U.node,U.offset)):(j.setEnd(U.node,U.offset),$.addRange(j))}}}}for(lt=[],$=A;$=$.parentNode;)$.nodeType===1&&lt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<lt.length;A++){var it=lt[A];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}Md=!!rg,ig=rg=null}finally{ue=f,rt.p=c,B.T=o}}i.current=s,En=2}}function RE(){if(En===2){En=0;var i=Os,s=dl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var c=rt.p;rt.p=2;var f=ue;ue|=4;try{iE(i,s.alternate,s)}finally{ue=f,rt.p=c,B.T=o}}En=3}}function CE(){if(En===4||En===3){En=0,Ne();var i=Os,s=dl,o=fl,c=pE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?En=5:(En=0,dl=Os=null,DE(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Ps=null),Xe(o),s=s.stateNode,ie&&typeof ie.onCommitFiberRoot=="function")try{ie.onCommitFiberRoot(le,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=B.T,f=rt.p,rt.p=2,B.T=null;try{for(var g=i.onRecoverableError,T=0;T<c.length;T++){var A=c[T];g(A.value,{componentStack:A.stack})}}finally{B.T=s,rt.p=f}}(fl&3)!==0&&bd(),li(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===qp?ec++:(ec=0,qp=i):ec=0,nc(0)}}function DE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Vu(s)))}function bd(i){return IE(),RE(),CE(),xE()}function xE(){if(En!==5)return!1;var i=Os,s=zp;zp=0;var o=Xe(fl),c=B.T,f=rt.p;try{rt.p=32>o?32:o,B.T=null,o=jp,jp=null;var g=Os,T=fl;if(En=0,dl=Os=null,fl=0,(ue&6)!==0)throw Error(r(331));var A=ue;if(ue|=4,fE(g.current),cE(g,g.current,T,o),ue=A,nc(0,!1),ie&&typeof ie.onPostCommitFiberRoot=="function")try{ie.onPostCommitFiberRoot(le,g)}catch{}return!0}finally{rt.p=f,B.T=c,DE(i,s)}}function PE(i,s,o){s=wr(o,s),s=Tp(i.stateNode,s,2),i=bs(i,s,2),i!==null&&(_r(i,2),li(i))}function ye(i,s,o){if(i.tag===3)PE(i,i,o);else for(;s!==null;){if(s.tag===3){PE(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ps===null||!Ps.has(c))){i=wr(o,i),o=V0(2),c=bs(s,o,2),c!==null&&(k0(o,c,s,i),_r(c,2),li(c));break}}s=s.return}}function Qp(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new M1;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(o)||(Lp=!0,f.add(o),i=B1.bind(null,i,s,o),s.then(i,i))}function B1(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ve===i&&(Zt&o)===o&&(ke===4||ke===3&&(Zt&62914560)===Zt&&300>$t()-Fp?(ue&2)===0&&ml(i,0):Up|=o,hl===Zt&&(hl=0)),li(i)}function OE(i,s){s===0&&(s=_a()),i=Xo(i,s),i!==null&&(_r(i,s),li(i))}function F1(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),OE(i,o)}function z1(i,s){var o=0;switch(i.tag){case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),OE(i,o)}function j1(i,s){return Sn(i,s)}var wd=null,gl=null,$p=!1,Sd=!1,Yp=!1,Qa=0;function li(i){i!==gl&&i.next===null&&(gl===null?wd=gl=i:gl=gl.next=i),Sd=!0,$p||($p=!0,H1())}function nc(i,s){if(!Yp&&Sd){Yp=!0;do for(var o=!1,c=wd;c!==null;){if(i!==0){var f=c.pendingLanes;if(f===0)var g=0;else{var T=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-Ye(42|i)+1)-1,g&=f&~(T&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,kE(c,g))}else g=Zt,g=Ii(c,c===ve?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Ri(c,g)||(o=!0,kE(c,g));c=c.next}while(o);Yp=!1}}function q1(){NE()}function NE(){Sd=$p=!1;var i=0;Qa!==0&&(J1()&&(i=Qa),Qa=0);for(var s=$t(),o=null,c=wd;c!==null;){var f=c.next,g=ME(c,s);g===0?(c.next=null,o===null?wd=f:o.next=f,f===null&&(gl=o)):(o=c,(i!==0||(g&3)!==0)&&(Sd=!0)),c=f}nc(i)}function ME(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-Ye(g),A=1<<T,M=f[T];M===-1?((A&o)===0||(A&c)!==0)&&(f[T]=Ci(A,s)):M<=s&&(i.expiredLanes|=A),g&=~A}if(s=ve,o=Zt,o=Ii(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(ce===2||ce===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Oe(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ri(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&Oe(c),Xe(o)){case 2:case 8:o=ir;break;case 32:o=qt;break;case 268435456:o=je;break;default:o=qt}return c=VE.bind(null,i),o=Sn(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&Oe(c),i.callbackPriority=2,i.callbackNode=null,2}function VE(i,s){if(En!==0&&En!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(bd()&&i.callbackNode!==o)return null;var c=Zt;return c=Ii(i,i===ve?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(yE(i,c,s),ME(i,$t()),i.callbackNode!=null&&i.callbackNode===o?VE.bind(null,i):null)}function kE(i,s){if(bd())return null;yE(i,s,!0)}function H1(){tC(function(){(ue&6)!==0?Sn($e,q1):NE()})}function Xp(){return Qa===0&&(Qa=$n()),Qa}function LE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Uo(""+i)}function UE(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function G1(i,s,o,c,f){if(s==="submit"&&o&&o.stateNode===f){var g=LE((f[ee]||null).action),T=c.submitter;T&&(s=(s=T[ee]||null)?LE(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var A=new Bo("action","action",null,c,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Qa!==0){var M=T?UE(f,T):new FormData(f);gp(o,{pending:!0,data:M,method:f.method,action:g},null,M)}}else typeof g=="function"&&(A.preventDefault(),M=T?UE(f,T):new FormData(f),gp(o,{pending:!0,data:M,method:f.method,action:g},g,M))},currentTarget:f}]})}}for(var Wp=0;Wp<Vm.length;Wp++){var Jp=Vm[Wp],K1=Jp.toLowerCase(),Q1=Jp[0].toUpperCase()+Jp.slice(1);Br(K1,"on"+Q1)}Br(yv,"onAnimationEnd"),Br(_v,"onAnimationIteration"),Br(vv,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(c1,"onTransitionRun"),Br(h1,"onTransitionStart"),Br(d1,"onTransitionCancel"),Br(Ev,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rc));function BE(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],f=c.event;c=c.listeners;t:{var g=void 0;if(s)for(var T=c.length-1;0<=T;T--){var A=c[T],M=A.instance,H=A.currentTarget;if(A=A.listener,M!==g&&f.isPropagationStopped())break t;g=A,f.currentTarget=H;try{g(f)}catch(tt){hd(tt)}f.currentTarget=null,g=M}else for(T=0;T<c.length;T++){if(A=c[T],M=A.instance,H=A.currentTarget,A=A.listener,M!==g&&f.isPropagationStopped())break t;g=A,f.currentTarget=H;try{g(f)}catch(tt){hd(tt)}f.currentTarget=null,g=M}}}}function Qt(i,s){var o=s[ms];o===void 0&&(o=s[ms]=new Set);var c=i+"__bubble";o.has(c)||(FE(s,i,2,!1),o.add(c))}function Zp(i,s,o){var c=0;s&&(c|=4),FE(o,i,c,s)}var Ad="_reactListening"+Math.random().toString(36).slice(2);function tg(i){if(!i[Ad]){i[Ad]=!0,pu.forEach(function(o){o!=="selectionchange"&&($1.has(o)||Zp(o,!1,i),Zp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ad]||(s[Ad]=!0,Zp("selectionchange",!1,s))}}function FE(i,s,o,c){switch(cT(s)){case 2:var f=TC;break;case 8:f=bC;break;default:f=mg}o=f.bind(null,s,o,i),f=void 0,!Tr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(s,o,{capture:!0,passive:f}):i.addEventListener(s,o,!0):f!==void 0?i.addEventListener(s,o,{passive:f}):i.addEventListener(s,o,!1)}function eg(i,s,o,c,f){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var A=c.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=c.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=xi(A),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){c=g=T;continue t}A=A.parentNode}}c=c.return}Rh(function(){var H=g,tt=Er(o),lt=[];t:{var Q=Tv.get(i);if(Q!==void 0){var $=Bo,Nt=i;switch(i){case"keypress":if(Zr(o)===0)break t;case"keydown":case"keyup":$=Go;break;case"focusin":Nt="focus",$=jo;break;case"focusout":Nt="blur",$=jo;break;case"beforeblur":case"afterblur":$=jo;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=br;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Rm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Vh;break;case yv:case _v:case vv:$=qo;break;case Ev:$=Lh;break;case"scroll":case"scrollend":$=Ch;break;case"wheel":$=Ko;break;case"copy":case"cut":case"paste":$=Ho;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Ru;break;case"toggle":case"beforetoggle":$=Bh}var xt=(s&4)!==0,pe=!xt&&(i==="scroll"||i==="scrollend"),F=xt?Q!==null?Q+"Capture":null:Q;xt=[];for(var U=H,j;U!==null;){var it=U;if(j=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||j===null||F===null||(it=Ia(U,F),it!=null&&xt.push(ic(U,it,j))),pe)break;U=U.return}0<xt.length&&(Q=new $(Q,Nt,null,o,tt),lt.push({event:Q,listeners:xt}))}}if((s&7)===0){t:{if(Q=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",Q&&o!==Mi&&(Nt=o.relatedTarget||o.fromElement)&&(xi(Nt)||Nt[Se]))break t;if(($||Q)&&(Q=tt.window===tt?tt:(Q=tt.ownerDocument)?Q.defaultView||Q.parentWindow:window,$?(Nt=o.relatedTarget||o.toElement,$=H,Nt=Nt?xi(Nt):null,Nt!==null&&(pe=l(Nt),xt=Nt.tag,Nt!==pe||xt!==5&&xt!==27&&xt!==6)&&(Nt=null)):($=null,Nt=H),$!==Nt)){if(xt=br,it="onMouseLeave",F="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(xt=Ru,it="onPointerLeave",F="onPointerEnter",U="pointer"),pe=$==null?Q:Yr($),j=Nt==null?Q:Yr(Nt),Q=new xt(it,U+"leave",$,o,tt),Q.target=pe,Q.relatedTarget=j,it=null,xi(tt)===H&&(xt=new xt(F,U+"enter",Nt,o,tt),xt.target=j,xt.relatedTarget=pe,it=xt),pe=it,$&&Nt)e:{for(xt=$,F=Nt,U=0,j=xt;j;j=yl(j))U++;for(j=0,it=F;it;it=yl(it))j++;for(;0<U-j;)xt=yl(xt),U--;for(;0<j-U;)F=yl(F),j--;for(;U--;){if(xt===F||F!==null&&xt===F.alternate)break e;xt=yl(xt),F=yl(F)}xt=null}else xt=null;$!==null&&zE(lt,Q,$,xt,!1),Nt!==null&&pe!==null&&zE(lt,pe,Nt,xt,!0)}}t:{if(Q=H?Yr(H):window,$=Q.nodeName&&Q.nodeName.toLowerCase(),$==="select"||$==="input"&&Q.type==="file")var bt=av;else if(nn(Q))if(ov)bt=o1;else{bt=s1;var Ht=i1}else $=Q.nodeName,!$||$.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?H&&Eu(H.elementType)&&(bt=av):bt=a1;if(bt&&(bt=bt(i,H))){Bi(lt,bt,o,tt);break t}Ht&&Ht(i,Q,H),i==="focusout"&&H&&Q.type==="number"&&H.memoizedProps.value!=null&&ys(Q,"number",Q.value)}switch(Ht=H?Yr(H):window,i){case"focusin":(nn(Ht)||Ht.contentEditable==="true")&&(Qo=Ht,Om=H,xu=null);break;case"focusout":xu=Om=Qo=null;break;case"mousedown":Nm=!0;break;case"contextmenu":case"mouseup":case"dragend":Nm=!1,pv(lt,o,tt);break;case"selectionchange":if(u1)break;case"keydown":case"keyup":pv(lt,o,tt)}var Rt;if(ni)t:{switch(i){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else Wt?J(i,o)&&(Ot="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ot="onCompositionStart");Ot&&(E&&o.locale!=="ko"&&(Wt||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Wt&&(Rt=bu()):(Jr=tt,_s="value"in Jr?Jr.value:Jr.textContent,Wt=!0)),Ht=Id(H,Ot),0<Ht.length&&(Ot=new Au(Ot,i,null,o,tt),lt.push({event:Ot,listeners:Ht}),Rt?Ot.data=Rt:(Rt=mt(o),Rt!==null&&(Ot.data=Rt)))),(Rt=v?en(i,o):Jt(i,o))&&(Ot=Id(H,"onBeforeInput"),0<Ot.length&&(Ht=new Au("onBeforeInput","beforeinput",null,o,tt),lt.push({event:Ht,listeners:Ot}),Ht.data=Rt)),G1(lt,i,H,o,tt)}BE(lt,s)})}function ic(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Id(i,s){for(var o=s+"Capture",c=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Ia(i,o),f!=null&&c.unshift(ic(i,f,g)),f=Ia(i,s),f!=null&&c.push(ic(i,f,g))),i.tag===3)return c;i=i.return}return[]}function yl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function zE(i,s,o,c,f){for(var g=s._reactName,T=[];o!==null&&o!==c;){var A=o,M=A.alternate,H=A.stateNode;if(A=A.tag,M!==null&&M===c)break;A!==5&&A!==26&&A!==27||H===null||(M=H,f?(H=Ia(o,g),H!=null&&T.unshift(ic(o,H,M))):f||(H=Ia(o,g),H!=null&&T.push(ic(o,H,M)))),o=o.return}T.length!==0&&i.push({event:s,listeners:T})}var Y1=/\r\n?/g,X1=/\u0000|\uFFFD/g;function jE(i){return(typeof i=="string"?i:""+i).replace(Y1,`
`).replace(X1,"")}function qE(i,s){return s=jE(s),jE(i)===s}function Rd(){}function me(i,s,o,c,f,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||vr(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&vr(i,""+c);break;case"className":Xr(i,"class",c);break;case"tabIndex":Xr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Xr(i,o,c);break;case"style":vu(i,c,g);break;case"data":if(s!=="object"){Xr(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Uo(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&me(i,s,"name",f.name,f,null),me(i,s,"formEncType",f.formEncType,f,null),me(i,s,"formMethod",f.formMethod,f,null),me(i,s,"formTarget",f.formTarget,f,null)):(me(i,s,"encType",f.encType,f,null),me(i,s,"method",f.method,f,null),me(i,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Uo(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Rd);break;case"onScroll":c!=null&&Qt("scroll",i);break;case"onScrollEnd":c!=null&&Qt("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Uo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Qt("beforetoggle",i),Qt("toggle",i),gs(i,"popover",c);break;case"xlinkActuate":yn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":yn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":yn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":yn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":yn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":yn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":yn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":yn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":yn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":gs(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Am.get(o)||o,gs(i,o,c))}}function ng(i,s,o,c,f,g){switch(o){case"style":vu(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?vr(i,c):(typeof c=="number"||typeof c=="bigint")&&vr(i,""+c);break;case"onScroll":c!=null&&Qt("scroll",i);break;case"onScrollEnd":c!=null&&Qt("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Rd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=i[ee]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,f),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,f);break t}o in i?i[o]=c:c===!0?i.setAttribute(o,""):gs(i,o,c)}}}function Tn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",i),Qt("load",i);var c=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:me(i,s,g,T,o,null)}}f&&me(i,s,"srcSet",o.srcSet,o,null),c&&me(i,s,"src",o.src,o,null);return;case"input":Qt("invalid",i);var A=g=T=f=null,M=null,H=null;for(c in o)if(o.hasOwnProperty(c)){var tt=o[c];if(tt!=null)switch(c){case"name":f=tt;break;case"type":T=tt;break;case"checked":M=tt;break;case"defaultChecked":H=tt;break;case"value":g=tt;break;case"defaultValue":A=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,s));break;default:me(i,s,c,tt,o,null)}}wa(i,g,A,M,H,T,f,!1),Lo(i);return;case"select":Qt("invalid",i),c=T=g=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":g=A;break;case"defaultValue":T=A;break;case"multiple":c=A;default:me(i,s,f,A,o,null)}s=g,o=T,i.multiple=!!c,s!=null?Ni(i,!!c,s,!1):o!=null&&Ni(i,!!c,o,!0);return;case"textarea":Qt("invalid",i),g=f=c=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":c=A;break;case"defaultValue":f=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:me(i,s,T,A,o,null)}Sa(i,c,f,g),Lo(i);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(c=o[M],c!=null))switch(M){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:me(i,s,M,c,o,null)}return;case"dialog":Qt("beforetoggle",i),Qt("toggle",i),Qt("cancel",i),Qt("close",i);break;case"iframe":case"object":Qt("load",i);break;case"video":case"audio":for(c=0;c<rc.length;c++)Qt(rc[c],i);break;case"image":Qt("error",i),Qt("load",i);break;case"details":Qt("toggle",i);break;case"embed":case"source":case"link":Qt("error",i),Qt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:me(i,s,H,c,o,null)}return;default:if(Eu(s)){for(tt in o)o.hasOwnProperty(tt)&&(c=o[tt],c!==void 0&&ng(i,s,tt,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&me(i,s,A,c,o,null))}function W1(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,T=null,A=null,M=null,H=null,tt=null;for($ in o){var lt=o[$];if(o.hasOwnProperty($)&&lt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":M=lt;default:c.hasOwnProperty($)||me(i,s,$,null,c,lt)}}for(var Q in c){var $=c[Q];if(lt=o[Q],c.hasOwnProperty(Q)&&($!=null||lt!=null))switch(Q){case"type":g=$;break;case"name":f=$;break;case"checked":H=$;break;case"defaultChecked":tt=$;break;case"value":T=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:$!==lt&&me(i,s,Q,$,c,lt)}}ar(i,T,A,M,H,tt,g,f);return;case"select":$=T=A=Q=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":$=M;default:c.hasOwnProperty(g)||me(i,s,g,null,c,M)}for(f in c)if(g=c[f],M=o[f],c.hasOwnProperty(f)&&(g!=null||M!=null))switch(f){case"value":Q=g;break;case"defaultValue":A=g;break;case"multiple":T=g;default:g!==M&&me(i,s,f,g,c,M)}s=A,o=T,c=$,Q!=null?Ni(i,!!o,Q,!1):!!c!=!!o&&(s!=null?Ni(i,!!o,s,!0):Ni(i,!!o,o?[]:"",!1));return;case"textarea":$=Q=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:me(i,s,A,null,c,f)}for(T in c)if(f=c[T],g=o[T],c.hasOwnProperty(T)&&(f!=null||g!=null))switch(T){case"value":Q=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&me(i,s,T,f,c,g)}de(i,Q,$);return;case"option":for(var Nt in o)if(Q=o[Nt],o.hasOwnProperty(Nt)&&Q!=null&&!c.hasOwnProperty(Nt))switch(Nt){case"selected":i.selected=!1;break;default:me(i,s,Nt,null,c,Q)}for(M in c)if(Q=c[M],$=o[M],c.hasOwnProperty(M)&&Q!==$&&(Q!=null||$!=null))switch(M){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:me(i,s,M,Q,c,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in o)Q=o[xt],o.hasOwnProperty(xt)&&Q!=null&&!c.hasOwnProperty(xt)&&me(i,s,xt,null,c,Q);for(H in c)if(Q=c[H],$=o[H],c.hasOwnProperty(H)&&Q!==$&&(Q!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:me(i,s,H,Q,c,$)}return;default:if(Eu(s)){for(var pe in o)Q=o[pe],o.hasOwnProperty(pe)&&Q!==void 0&&!c.hasOwnProperty(pe)&&ng(i,s,pe,void 0,c,Q);for(tt in c)Q=c[tt],$=o[tt],!c.hasOwnProperty(tt)||Q===$||Q===void 0&&$===void 0||ng(i,s,tt,Q,c,$);return}}for(var F in o)Q=o[F],o.hasOwnProperty(F)&&Q!=null&&!c.hasOwnProperty(F)&&me(i,s,F,null,c,Q);for(lt in c)Q=c[lt],$=o[lt],!c.hasOwnProperty(lt)||Q===$||Q==null&&$==null||me(i,s,lt,Q,c,$)}var rg=null,ig=null;function Cd(i){return i.nodeType===9?i:i.ownerDocument}function HE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function sg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ag=null;function J1(){var i=window.event;return i&&i.type==="popstate"?i===ag?!1:(ag=i,!0):(ag=null,!1)}var KE=typeof setTimeout=="function"?setTimeout:void 0,Z1=typeof clearTimeout=="function"?clearTimeout:void 0,QE=typeof Promise=="function"?Promise:void 0,tC=typeof queueMicrotask=="function"?queueMicrotask:typeof QE<"u"?function(i){return QE.resolve(null).then(i).catch(eC)}:KE;function eC(i){setTimeout(function(){throw i})}function Ms(i){return i==="head"}function $E(i,s){var o=s,c=0,f=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var T=i.ownerDocument;if(o&1&&sc(T.documentElement),o&2&&sc(T.body),o&4)for(o=T.head,sc(o),T=o.firstChild;T;){var A=T.nextSibling,M=T.nodeName;T[va]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=A}}if(f===0){i.removeChild(g),fc(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);fc(s)}function og(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":og(o),ps(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function nC(i,s,o,c){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[va])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=zr(i.nextSibling),i===null)break}return null}function rC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=zr(i.nextSibling),i===null))return null;return i}function lg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function iC(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function zr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var ug=null;function YE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function XE(i,s,o){switch(s=Cd(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function sc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ps(i)}var Dr=new Map,WE=new Set;function Dd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ji=rt.d;rt.d={f:sC,r:aC,D:oC,C:lC,L:uC,m:cC,X:dC,S:hC,M:fC};function sC(){var i=Ji.f(),s=Ed();return i||s}function aC(i){var s=$r(i);s!==null&&s.tag===5&&s.type==="form"?y0(s):Ji.r(i)}var _l=typeof document>"u"?null:document;function JE(i,s,o){var c=_l;if(c&&typeof s=="string"&&s){var f=We(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),WE.has(f)||(WE.add(f),i={rel:i,crossOrigin:o,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),Tn(s,"link",i),qe(s),c.head.appendChild(s)))}}function oC(i){Ji.D(i),JE("dns-prefetch",i,null)}function lC(i,s){Ji.C(i,s),JE("preconnect",i,s)}function uC(i,s,o){Ji.L(i,s,o);var c=_l;if(c&&i&&s){var f='link[rel="preload"][as="'+We(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+We(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+We(o.imageSizes)+'"]')):f+='[href="'+We(i)+'"]';var g=f;switch(s){case"style":g=vl(i);break;case"script":g=El(i)}Dr.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Dr.set(g,i),c.querySelector(f)!==null||s==="style"&&c.querySelector(ac(g))||s==="script"&&c.querySelector(oc(g))||(s=c.createElement("link"),Tn(s,"link",i),qe(s),c.head.appendChild(s)))}}function cC(i,s){Ji.m(i,s);var o=_l;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+We(c)+'"][href="'+We(i)+'"]',g=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=El(i)}if(!Dr.has(g)&&(i=y({rel:"modulepreload",href:i},s),Dr.set(g,i),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(oc(g)))return}c=o.createElement("link"),Tn(c,"link",i),qe(c),o.head.appendChild(c)}}}function hC(i,s,o){Ji.S(i,s,o);var c=_l;if(c&&i){var f=Mn(c).hoistableStyles,g=vl(i);s=s||"default";var T=f.get(g);if(!T){var A={loading:0,preload:null};if(T=c.querySelector(ac(g)))A.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Dr.get(g))&&cg(i,o);var M=T=c.createElement("link");qe(M),Tn(M,"link",i),M._p=new Promise(function(H,tt){M.onload=H,M.onerror=tt}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,xd(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(g,T)}}}function dC(i,s){Ji.X(i,s);var o=_l;if(o&&i){var c=Mn(o).hoistableScripts,f=El(i),g=c.get(f);g||(g=o.querySelector(oc(f)),g||(i=y({src:i,async:!0},s),(s=Dr.get(f))&&hg(i,s),g=o.createElement("script"),qe(g),Tn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function fC(i,s){Ji.M(i,s);var o=_l;if(o&&i){var c=Mn(o).hoistableScripts,f=El(i),g=c.get(f);g||(g=o.querySelector(oc(f)),g||(i=y({src:i,async:!0,type:"module"},s),(s=Dr.get(f))&&hg(i,s),g=o.createElement("script"),qe(g),Tn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function ZE(i,s,o,c){var f=(f=dt.current)?Dd(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=vl(o.href),o=Mn(f).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=vl(o.href);var g=Mn(f).hoistableStyles,T=g.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=f.querySelector(ac(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Dr.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Dr.set(i,o),g||mC(f,i,o,T.state))),s&&c===null)throw Error(r(528,""));return T}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=El(o),o=Mn(f).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function vl(i){return'href="'+We(i)+'"'}function ac(i){return'link[rel="stylesheet"]['+i+"]"}function tT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function mC(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Tn(s,"link",o),qe(s),i.head.appendChild(s))}function El(i){return'[src="'+We(i)+'"]'}function oc(i){return"script[async]"+i}function eT(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+We(o.href)+'"]');if(c)return s.instance=c,qe(c),c;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),qe(c),Tn(c,"style",f),xd(c,o.precedence,i),s.instance=c;case"stylesheet":f=vl(o.href);var g=i.querySelector(ac(f));if(g)return s.state.loading|=4,s.instance=g,qe(g),g;c=tT(o),(f=Dr.get(f))&&cg(c,f),g=(i.ownerDocument||i).createElement("link"),qe(g);var T=g;return T._p=new Promise(function(A,M){T.onload=A,T.onerror=M}),Tn(g,"link",c),s.state.loading|=4,xd(g,o.precedence,i),s.instance=g;case"script":return g=El(o.src),(f=i.querySelector(oc(g)))?(s.instance=f,qe(f),f):(c=o,(f=Dr.get(g))&&(c=y({},o),hg(c,f)),i=i.ownerDocument||i,f=i.createElement("script"),qe(f),Tn(f,"link",c),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,xd(c,o.precedence,i));return s.instance}function xd(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,g=f,T=0;T<c.length;T++){var A=c[T];if(A.dataset.precedence===s)g=A;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function cg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function hg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Pd=null;function nT(i,s,o){if(Pd===null){var c=new Map,f=Pd=new Map;f.set(o,c)}else f=Pd,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[va]||g[we]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=i+T;var A=c.get(T);A?A.push(g):c.set(T,[g])}}return c}function rT(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function pC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function iT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var lc=null;function gC(){}function yC(i,s,o){if(lc===null)throw Error(r(475));var c=lc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=vl(o.href),g=i.querySelector(ac(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Od.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=g,qe(g);return}g=i.ownerDocument||i,o=tT(o),(f=Dr.get(f))&&cg(o,f),g=g.createElement("link"),qe(g);var T=g;T._p=new Promise(function(A,M){T.onload=A,T.onerror=M}),Tn(g,"link",o),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Od.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function _C(){if(lc===null)throw Error(r(475));var i=lc;return i.stylesheets&&i.count===0&&dg(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&dg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Od(){if(this.count--,this.count===0){if(this.stylesheets)dg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Nd=null;function dg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Nd=new Map,s.forEach(vC,i),Nd=null,Od.call(i))}function vC(i,s){if(!(s.state.loading&4)){var o=Nd.get(i);if(o)var c=o.get(null);else{o=new Map,Nd.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var T=f[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}f=s.instance,T=f.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,f),o.set(T,f),this.count++,c=Od.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var uc={$$typeof:K,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function EC(i,s,o,c,f,g,T,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.hiddenUpdates=Vr(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function sT(i,s,o,c,f,g,T,A,M,H,tt,lt){return i=new EC(i,s,o,T,A,M,H,lt),s=1,g===!0&&(s|=24),g=lr(3,null,null,s),i.current=g,g.stateNode=i,s=Qm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Wm(g),i}function aT(i){return i?(i=Wo,i):Wo}function oT(i,s,o,c,f,g){f=aT(f),c.context===null?c.context=f:c.pendingContext=f,c=Ts(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=bs(i,c,s),o!==null&&(fr(o,i,s),Bu(o,i,s))}function lT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function fg(i,s){lT(i,s),(i=i.alternate)&&lT(i,s)}function uT(i){if(i.tag===13){var s=Xo(i,67108864);s!==null&&fr(s,i,67108864),fg(i,67108864)}}var Md=!0;function TC(i,s,o,c){var f=B.T;B.T=null;var g=rt.p;try{rt.p=2,mg(i,s,o,c)}finally{rt.p=g,B.T=f}}function bC(i,s,o,c){var f=B.T;B.T=null;var g=rt.p;try{rt.p=8,mg(i,s,o,c)}finally{rt.p=g,B.T=f}}function mg(i,s,o,c){if(Md){var f=pg(c);if(f===null)eg(i,s,c,Vd,o),hT(i,c);else if(SC(f,i,s,o,c))c.stopPropagation();else if(hT(i,c),s&4&&-1<wC.indexOf(i)){for(;f!==null;){var g=$r(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Qn(g.pendingLanes);if(T!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var M=1<<31-Ye(T);A.entanglements[1]|=M,T&=~M}li(g),(ue&6)===0&&(_d=$t()+500,nc(0))}}break;case 13:A=Xo(g,2),A!==null&&fr(A,g,2),Ed(),fg(g,2)}if(g=pg(c),g===null&&eg(i,s,c,Vd,o),g===f)break;f=g}f!==null&&c.stopPropagation()}else eg(i,s,c,null,o)}}function pg(i){return i=Er(i),gg(i)}var Vd=null;function gg(i){if(Vd=null,i=xi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Vd=i,null}function cT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rr()){case $e:return 2;case ir:return 8;case qt:case Ut:return 32;case je:return 268435456;default:return 32}default:return 32}}var yg=!1,Vs=null,ks=null,Ls=null,cc=new Map,hc=new Map,Us=[],wC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hT(i,s){switch(i){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":cc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(s.pointerId)}}function dc(i,s,o,c,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},s!==null&&(s=$r(s),s!==null&&uT(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function SC(i,s,o,c,f){switch(s){case"focusin":return Vs=dc(Vs,i,s,o,c,f),!0;case"dragenter":return ks=dc(ks,i,s,o,c,f),!0;case"mouseover":return Ls=dc(Ls,i,s,o,c,f),!0;case"pointerover":var g=f.pointerId;return cc.set(g,dc(cc.get(g)||null,i,s,o,c,f)),!0;case"gotpointercapture":return g=f.pointerId,hc.set(g,dc(hc.get(g)||null,i,s,o,c,f)),!0}return!1}function dT(i){var s=xi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,Me(i.priority,function(){if(o.tag===13){var c=dr();c=Te(c);var f=Xo(o,c);f!==null&&fr(f,o,c),fg(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function kd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=pg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Mi=c,o.target.dispatchEvent(c),Mi=null}else return s=$r(o),s!==null&&uT(s),i.blockedOn=o,!1;s.shift()}return!0}function fT(i,s,o){kd(i)&&o.delete(s)}function AC(){yg=!1,Vs!==null&&kd(Vs)&&(Vs=null),ks!==null&&kd(ks)&&(ks=null),Ls!==null&&kd(Ls)&&(Ls=null),cc.forEach(fT),hc.forEach(fT)}function Ld(i,s){i.blockedOn===s&&(i.blockedOn=null,yg||(yg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,AC)))}var Ud=null;function mT(i){Ud!==i&&(Ud=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ud===i&&(Ud=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],f=i[s+2];if(typeof c!="function"){if(gg(c||o)===null)continue;break}var g=$r(o);g!==null&&(i.splice(s,3),s-=3,gp(g,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function fc(i){function s(M){return Ld(M,i)}Vs!==null&&Ld(Vs,i),ks!==null&&Ld(ks,i),Ls!==null&&Ld(Ls,i),cc.forEach(s),hc.forEach(s);for(var o=0;o<Us.length;o++){var c=Us[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Us.length&&(o=Us[0],o.blockedOn===null);)dT(o),o.blockedOn===null&&Us.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],g=o[c+1],T=f[ee]||null;if(typeof g=="function")T||mT(o);else if(T){var A=null;if(g&&g.hasAttribute("formAction")){if(f=g,T=g[ee]||null)A=T.formAction;else if(gg(f)!==null)continue}else A=T.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),mT(o)}}}function _g(i){this._internalRoot=i}Bd.prototype.render=_g.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=dr();oT(o,c,i,s,null,null)},Bd.prototype.unmount=_g.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;oT(i.current,2,null,i,null,null),Ed(),s[Se]=null}};function Bd(i){this._internalRoot=i}Bd.prototype.unstable_scheduleHydration=function(i){if(i){var s=sr();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Us.length&&s!==0&&s<Us[o].priority;o++);Us.splice(o,0,i),o===0&&dT(i)}};var pT=t.version;if(pT!=="19.1.0")throw Error(r(527,pT,"19.1.0"));rt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var IC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{le=Fd.inject(IC),ie=Fd}catch{}}return pc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,c="",f=P0,g=O0,T=N0,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=sT(i,1,!1,null,null,o,c,f,g,T,A,null),i[Se]=s.current,tg(i),new _g(s)},pc.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var c=!1,f="",g=P0,T=O0,A=N0,M=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),s=sT(i,1,!0,s,o??null,c,f,g,T,A,M,H),s.context=aT(null),o=s.current,c=dr(),c=Te(c),f=Ts(c),f.callback=null,bs(o,f,c),o=c,s.current.lanes=o,_r(s,o),li(s),i[Se]=s.current,tg(i),new Bd(s)},pc.version="19.1.0",pc}var IT;function kC(){if(IT)return bg.exports;IT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),bg.exports=VC(),bg.exports}var LC=kC();const UC=Fy(LC);var Qf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$f=typeof window>"u"||"Deno"in globalThis;function jr(){}function BC(n,t){return typeof n=="function"?n(t):n}function FC(n){return typeof n=="number"&&n>=0&&n!==1/0}function zC(n,t){return Math.max(n+(t||0)-Date.now(),0)}function RT(n,t){return typeof n=="function"?n(t):n}function jC(n,t){return typeof n=="function"?n(t):n}function CT(n,t){const{type:e="all",exact:r,fetchStatus:a,predicate:l,queryKey:u,stale:d}=n;if(u){if(r){if(t.queryHash!==zy(u,t.options))return!1}else if(!Bc(t.queryKey,u))return!1}if(e!=="all"){const m=t.isActive();if(e==="active"&&!m||e==="inactive"&&m)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||a&&a!==t.state.fetchStatus||l&&!l(t))}function DT(n,t){const{exact:e,status:r,predicate:a,mutationKey:l}=n;if(l){if(!t.options.mutationKey)return!1;if(e){if(Uc(t.options.mutationKey)!==Uc(l))return!1}else if(!Bc(t.options.mutationKey,l))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function zy(n,t){return((t==null?void 0:t.queryKeyHashFn)||Uc)(n)}function Uc(n){return JSON.stringify(n,(t,e)=>ty(e)?Object.keys(e).sort().reduce((r,a)=>(r[a]=e[a],r),{}):e)}function Bc(n,t){return n===t?!0:typeof n!=typeof t?!1:n&&t&&typeof n=="object"&&typeof t=="object"?Object.keys(t).every(e=>Bc(n[e],t[e])):!1}function Xw(n,t){if(n===t)return n;const e=xT(n)&&xT(t);if(e||ty(n)&&ty(t)){const r=e?n:Object.keys(n),a=r.length,l=e?t:Object.keys(t),u=l.length,d=e?[]:{};let m=0;for(let p=0;p<u;p++){const y=e?p:l[p];(!e&&r.includes(y)||e)&&n[y]===void 0&&t[y]===void 0?(d[y]=void 0,m++):(d[y]=Xw(n[y],t[y]),d[y]===n[y]&&n[y]!==void 0&&m++)}return a===u&&m===a?n:d}return t}function HU(n,t){if(!t||Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(n[e]!==t[e])return!1;return!0}function xT(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function ty(n){if(!PT(n))return!1;const t=n.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!PT(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function PT(n){return Object.prototype.toString.call(n)==="[object Object]"}function qC(n){return new Promise(t=>{setTimeout(t,n)})}function HC(n,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(n,t):e.structuralSharing!==!1?Xw(n,t):t}function GC(n,t,e=0){const r=[...n,t];return e&&r.length>e?r.slice(1):r}function KC(n,t,e=0){const r=[t,...n];return e&&r.length>e?r.slice(0,-1):r}var jy=Symbol();function Ww(n,t){return!n.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!n.queryFn||n.queryFn===jy?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var so,Xs,Fl,zw,QC=(zw=class extends Qf{constructor(){super();re(this,so);re(this,Xs);re(this,Fl);Lt(this,Fl,t=>{if(!$f&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){at(this,Xs)||this.setEventListener(at(this,Fl))}onUnsubscribe(){var t;this.hasListeners()||((t=at(this,Xs))==null||t.call(this),Lt(this,Xs,void 0))}setEventListener(t){var e;Lt(this,Fl,t),(e=at(this,Xs))==null||e.call(this),Lt(this,Xs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){at(this,so)!==t&&(Lt(this,so,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof at(this,so)=="boolean"?at(this,so):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},so=new WeakMap,Xs=new WeakMap,Fl=new WeakMap,zw),Jw=new QC,zl,Ws,jl,jw,$C=(jw=class extends Qf{constructor(){super();re(this,zl,!0);re(this,Ws);re(this,jl);Lt(this,jl,t=>{if(!$f&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}})}onSubscribe(){at(this,Ws)||this.setEventListener(at(this,jl))}onUnsubscribe(){var t;this.hasListeners()||((t=at(this,Ws))==null||t.call(this),Lt(this,Ws,void 0))}setEventListener(t){var e;Lt(this,jl,t),(e=at(this,Ws))==null||e.call(this),Lt(this,Ws,t(this.setOnline.bind(this)))}setOnline(t){at(this,zl)!==t&&(Lt(this,zl,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return at(this,zl)}},zl=new WeakMap,Ws=new WeakMap,jl=new WeakMap,jw),_f=new $C;function YC(){let n,t;const e=new Promise((a,l)=>{n=a,t=l});e.status="pending",e.catch(()=>{});function r(a){Object.assign(e,a),delete e.resolve,delete e.reject}return e.resolve=a=>{r({status:"fulfilled",value:a}),n(a)},e.reject=a=>{r({status:"rejected",reason:a}),t(a)},e}function XC(n){return Math.min(1e3*2**n,3e4)}function Zw(n){return(n??"online")==="online"?_f.isOnline():!0}var tS=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Ig(n){return n instanceof tS}function eS(n){let t=!1,e=0,r=!1,a;const l=YC(),u=L=>{var k;r||(b(new tS(L)),(k=n.abort)==null||k.call(n))},d=()=>{t=!0},m=()=>{t=!1},p=()=>Jw.isFocused()&&(n.networkMode==="always"||_f.isOnline())&&n.canRun(),y=()=>Zw(n.networkMode)&&n.canRun(),_=L=>{var k;r||(r=!0,(k=n.onSuccess)==null||k.call(n,L),a==null||a(),l.resolve(L))},b=L=>{var k;r||(r=!0,(k=n.onError)==null||k.call(n,L),a==null||a(),l.reject(L))},R=()=>new Promise(L=>{var k;a=Y=>{(r||p())&&L(Y)},(k=n.onPause)==null||k.call(n)}).then(()=>{var L;a=void 0,r||(L=n.onContinue)==null||L.call(n)}),O=()=>{if(r)return;let L;const k=e===0?n.initialPromise:void 0;try{L=k??n.fn()}catch(Y){L=Promise.reject(Y)}Promise.resolve(L).then(_).catch(Y=>{var W;if(r)return;const Z=n.retry??($f?0:3),K=n.retryDelay??XC,st=typeof K=="function"?K(e,Y):K,et=Z===!0||typeof Z=="number"&&e<Z||typeof Z=="function"&&Z(e,Y);if(t||!et){b(Y);return}e++,(W=n.onFail)==null||W.call(n,e,Y),qC(st).then(()=>p()?void 0:R()).then(()=>{t?b(Y):O()})})};return{promise:l,cancel:u,continue:()=>(a==null||a(),l),cancelRetry:d,continueRetry:m,canStart:y,start:()=>(y()?O():R().then(O),l)}}var WC=n=>setTimeout(n,0);function JC(){let n=[],t=0,e=d=>{d()},r=d=>{d()},a=WC;const l=d=>{t?n.push(d):a(()=>{e(d)})},u=()=>{const d=n;n=[],d.length&&a(()=>{r(()=>{d.forEach(m=>{e(m)})})})};return{batch:d=>{let m;t++;try{m=d()}finally{t--,t||u()}return m},batchCalls:d=>(...m)=>{l(()=>{d(...m)})},schedule:l,setNotifyFunction:d=>{e=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{a=d}}}var Fn=JC(),ao,qw,nS=(qw=class{constructor(){re(this,ao)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),FC(this.gcTime)&&Lt(this,ao,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??($f?1/0:5*60*1e3))}clearGcTimeout(){at(this,ao)&&(clearTimeout(at(this,ao)),Lt(this,ao,void 0))}},ao=new WeakMap,qw),ql,Hl,Pr,oo,xn,nh,lo,qr,Zi,Hw,ZC=(Hw=class extends nS{constructor(e){super();re(this,qr);re(this,ql);re(this,Hl);re(this,Pr);re(this,oo);re(this,xn);re(this,nh);re(this,lo);Lt(this,lo,!1),Lt(this,nh,e.defaultOptions),this.setOptions(e.options),this.observers=[],Lt(this,oo,e.client),Lt(this,Pr,at(this,oo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Lt(this,ql,eD(this.options)),this.state=e.state??at(this,ql),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=at(this,xn))==null?void 0:e.promise}setOptions(e){this.options={...at(this,nh),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&at(this,Pr).remove(this)}setData(e,r){const a=HC(this.state.data,e,this.options);return Rn(this,qr,Zi).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(e,r){Rn(this,qr,Zi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var a,l;const r=(a=at(this,xn))==null?void 0:a.promise;return(l=at(this,xn))==null||l.cancel(e),r?r.then(jr).catch(jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(at(this,ql))}isActive(){return this.observers.some(e=>jC(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!zC(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(a=>a.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=at(this,xn))==null||r.continue()}onOnline(){var r;const e=this.observers.find(a=>a.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=at(this,xn))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),at(this,Pr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(at(this,xn)&&(at(this,lo)?at(this,xn).cancel({revert:!0}):at(this,xn).cancelRetry()),this.scheduleGc()),at(this,Pr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Rn(this,qr,Zi).call(this,{type:"invalidate"})}fetch(e,r){var p,y,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(at(this,xn))return at(this,xn).continueRetry(),at(this,xn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(R=>R.options.queryFn);b&&this.setOptions(b.options)}const a=new AbortController,l=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(Lt(this,lo,!0),a.signal)})},u=()=>{const b=Ww(this.options,r),R={client:at(this,oo),queryKey:this.queryKey,meta:this.meta};return l(R),Lt(this,lo,!1),this.options.persister?this.options.persister(b,R,this):b(R)},d={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:at(this,oo),state:this.state,fetchFn:u};l(d),(p=this.options.behavior)==null||p.onFetch(d,this),Lt(this,Hl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=d.fetchOptions)==null?void 0:y.meta))&&Rn(this,qr,Zi).call(this,{type:"fetch",meta:(_=d.fetchOptions)==null?void 0:_.meta});const m=b=>{var R,O,L,k;Ig(b)&&b.silent||Rn(this,qr,Zi).call(this,{type:"error",error:b}),Ig(b)||((O=(R=at(this,Pr).config).onError)==null||O.call(R,b,this),(k=(L=at(this,Pr).config).onSettled)==null||k.call(L,this.state.data,b,this)),this.scheduleGc()};return Lt(this,xn,eS({initialPromise:r==null?void 0:r.initialPromise,fn:d.fetchFn,abort:a.abort.bind(a),onSuccess:b=>{var R,O,L,k;if(b===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(Y){m(Y);return}(O=(R=at(this,Pr).config).onSuccess)==null||O.call(R,b,this),(k=(L=at(this,Pr).config).onSettled)==null||k.call(L,b,this.state.error,this),this.scheduleGc()},onError:m,onFail:(b,R)=>{Rn(this,qr,Zi).call(this,{type:"failed",failureCount:b,error:R})},onPause:()=>{Rn(this,qr,Zi).call(this,{type:"pause"})},onContinue:()=>{Rn(this,qr,Zi).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),at(this,xn).start()}},ql=new WeakMap,Hl=new WeakMap,Pr=new WeakMap,oo=new WeakMap,xn=new WeakMap,nh=new WeakMap,lo=new WeakMap,qr=new WeakSet,Zi=function(e){const r=a=>{switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...tD(a.data,this.options),fetchMeta:e.meta??null};case"success":return{...a,data:e.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const l=e.error;return Ig(l)&&l.revert&&at(this,Hl)?{...at(this,Hl),fetchStatus:"idle"}:{...a,error:l,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=r(this.state),Fn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),at(this,Pr).notify({query:this,type:"updated",action:e})})},Hw);function tD(n,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Zw(t.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function eD(n){const t=typeof n.initialData=="function"?n.initialData():n.initialData,e=t!==void 0,r=e?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var ci,Gw,nD=(Gw=class extends Qf{constructor(t={}){super();re(this,ci);this.config=t,Lt(this,ci,new Map)}build(t,e,r){const a=e.queryKey,l=e.queryHash??zy(a,e);let u=this.get(l);return u||(u=new ZC({client:t,queryKey:a,queryHash:l,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(u)),u}add(t){at(this,ci).has(t.queryHash)||(at(this,ci).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=at(this,ci).get(t.queryHash);e&&(t.destroy(),e===t&&at(this,ci).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Fn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return at(this,ci).get(t)}getAll(){return[...at(this,ci).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>CT(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>CT(t,r)):e}notify(t){Fn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Fn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Fn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ci=new WeakMap,Gw),hi,Bn,uo,di,qs,Kw,rD=(Kw=class extends nS{constructor(e){super();re(this,di);re(this,hi);re(this,Bn);re(this,uo);this.mutationId=e.mutationId,Lt(this,Bn,e.mutationCache),Lt(this,hi,[]),this.state=e.state||iD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){at(this,hi).includes(e)||(at(this,hi).push(e),this.clearGcTimeout(),at(this,Bn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Lt(this,hi,at(this,hi).filter(r=>r!==e)),this.scheduleGc(),at(this,Bn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){at(this,hi).length||(this.state.status==="pending"?this.scheduleGc():at(this,Bn).remove(this))}continue(){var e;return((e=at(this,uo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var u,d,m,p,y,_,b,R,O,L,k,Y,Z,K,st,et,W,x,w,S;const r=()=>{Rn(this,di,qs).call(this,{type:"continue"})};Lt(this,uo,eS({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(D,P)=>{Rn(this,di,qs).call(this,{type:"failed",failureCount:D,error:P})},onPause:()=>{Rn(this,di,qs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>at(this,Bn).canRun(this)}));const a=this.state.status==="pending",l=!at(this,uo).canStart();try{if(a)r();else{Rn(this,di,qs).call(this,{type:"pending",variables:e,isPaused:l}),await((d=(u=at(this,Bn).config).onMutate)==null?void 0:d.call(u,e,this));const P=await((p=(m=this.options).onMutate)==null?void 0:p.call(m,e));P!==this.state.context&&Rn(this,di,qs).call(this,{type:"pending",context:P,variables:e,isPaused:l})}const D=await at(this,uo).start();return await((_=(y=at(this,Bn).config).onSuccess)==null?void 0:_.call(y,D,e,this.state.context,this)),await((R=(b=this.options).onSuccess)==null?void 0:R.call(b,D,e,this.state.context)),await((L=(O=at(this,Bn).config).onSettled)==null?void 0:L.call(O,D,null,this.state.variables,this.state.context,this)),await((Y=(k=this.options).onSettled)==null?void 0:Y.call(k,D,null,e,this.state.context)),Rn(this,di,qs).call(this,{type:"success",data:D}),D}catch(D){try{throw await((K=(Z=at(this,Bn).config).onError)==null?void 0:K.call(Z,D,e,this.state.context,this)),await((et=(st=this.options).onError)==null?void 0:et.call(st,D,e,this.state.context)),await((x=(W=at(this,Bn).config).onSettled)==null?void 0:x.call(W,void 0,D,this.state.variables,this.state.context,this)),await((S=(w=this.options).onSettled)==null?void 0:S.call(w,void 0,D,e,this.state.context)),D}finally{Rn(this,di,qs).call(this,{type:"error",error:D})}}finally{at(this,Bn).runNext(this)}}},hi=new WeakMap,Bn=new WeakMap,uo=new WeakMap,di=new WeakSet,qs=function(e){const r=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Fn.batch(()=>{at(this,hi).forEach(a=>{a.onMutationUpdate(e)}),at(this,Bn).notify({mutation:this,type:"updated",action:e})})},Kw);function iD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ts,Hr,rh,Qw,sD=(Qw=class extends Qf{constructor(t={}){super();re(this,ts);re(this,Hr);re(this,rh);this.config=t,Lt(this,ts,new Set),Lt(this,Hr,new Map),Lt(this,rh,0)}build(t,e,r){const a=new rD({mutationCache:this,mutationId:++zd(this,rh)._,options:t.defaultMutationOptions(e),state:r});return this.add(a),a}add(t){at(this,ts).add(t);const e=jd(t);if(typeof e=="string"){const r=at(this,Hr).get(e);r?r.push(t):at(this,Hr).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(at(this,ts).delete(t)){const e=jd(t);if(typeof e=="string"){const r=at(this,Hr).get(e);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&at(this,Hr).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=jd(t);if(typeof e=="string"){const r=at(this,Hr).get(e),a=r==null?void 0:r.find(l=>l.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const e=jd(t);if(typeof e=="string"){const a=(r=at(this,Hr).get(e))==null?void 0:r.find(l=>l!==t&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Fn.batch(()=>{at(this,ts).forEach(t=>{this.notify({type:"removed",mutation:t})}),at(this,ts).clear(),at(this,Hr).clear()})}getAll(){return Array.from(at(this,ts))}find(t){const e={exact:!0,...t};return this.getAll().find(r=>DT(e,r))}findAll(t={}){return this.getAll().filter(e=>DT(t,e))}notify(t){Fn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Fn.batch(()=>Promise.all(t.map(e=>e.continue().catch(jr))))}},ts=new WeakMap,Hr=new WeakMap,rh=new WeakMap,Qw);function jd(n){var t;return(t=n.options.scope)==null?void 0:t.id}function OT(n){return{onFetch:(t,e)=>{var y,_,b,R,O;const r=t.options,a=(b=(_=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:_.fetchMore)==null?void 0:b.direction,l=((R=t.state.data)==null?void 0:R.pages)||[],u=((O=t.state.data)==null?void 0:O.pageParams)||[];let d={pages:[],pageParams:[]},m=0;const p=async()=>{let L=!1;const k=K=>{Object.defineProperty(K,"signal",{enumerable:!0,get:()=>(t.signal.aborted?L=!0:t.signal.addEventListener("abort",()=>{L=!0}),t.signal)})},Y=Ww(t.options,t.fetchOptions),Z=async(K,st,et)=>{if(L)return Promise.reject();if(st==null&&K.pages.length)return Promise.resolve(K);const W={client:t.client,queryKey:t.queryKey,pageParam:st,direction:et?"backward":"forward",meta:t.options.meta};k(W);const x=await Y(W),{maxPages:w}=t.options,S=et?KC:GC;return{pages:S(K.pages,x,w),pageParams:S(K.pageParams,st,w)}};if(a&&l.length){const K=a==="backward",st=K?aD:NT,et={pages:l,pageParams:u},W=st(r,et);d=await Z(et,W,K)}else{const K=n??l.length;do{const st=m===0?u[0]??r.initialPageParam:NT(r,d);if(m>0&&st==null)break;d=await Z(d,st),m++}while(m<K)}return d};t.options.persister?t.fetchFn=()=>{var L,k;return(k=(L=t.options).persister)==null?void 0:k.call(L,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=p}}}function NT(n,{pages:t,pageParams:e}){const r=t.length-1;return t.length>0?n.getNextPageParam(t[r],t,e[r],e):void 0}function aD(n,{pages:t,pageParams:e}){var r;return t.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,t[0],t,e[0],e):void 0}var Le,Js,Zs,Gl,Kl,ta,Ql,$l,$w,oD=($w=class{constructor(n={}){re(this,Le);re(this,Js);re(this,Zs);re(this,Gl);re(this,Kl);re(this,ta);re(this,Ql);re(this,$l);Lt(this,Le,n.queryCache||new nD),Lt(this,Js,n.mutationCache||new sD),Lt(this,Zs,n.defaultOptions||{}),Lt(this,Gl,new Map),Lt(this,Kl,new Map),Lt(this,ta,0)}mount(){zd(this,ta)._++,at(this,ta)===1&&(Lt(this,Ql,Jw.subscribe(async n=>{n&&(await this.resumePausedMutations(),at(this,Le).onFocus())})),Lt(this,$l,_f.subscribe(async n=>{n&&(await this.resumePausedMutations(),at(this,Le).onOnline())})))}unmount(){var n,t;zd(this,ta)._--,at(this,ta)===0&&((n=at(this,Ql))==null||n.call(this),Lt(this,Ql,void 0),(t=at(this,$l))==null||t.call(this),Lt(this,$l,void 0))}isFetching(n){return at(this,Le).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return at(this,Js).findAll({...n,status:"pending"}).length}getQueryData(n){var e;const t=this.defaultQueryOptions({queryKey:n});return(e=at(this,Le).get(t.queryHash))==null?void 0:e.state.data}ensureQueryData(n){const t=this.defaultQueryOptions(n),e=at(this,Le).build(this,t),r=e.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&e.isStaleByTime(RT(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(n){return at(this,Le).findAll(n).map(({queryKey:t,state:e})=>{const r=e.data;return[t,r]})}setQueryData(n,t,e){const r=this.defaultQueryOptions({queryKey:n}),a=at(this,Le).get(r.queryHash),l=a==null?void 0:a.state.data,u=BC(t,l);if(u!==void 0)return at(this,Le).build(this,r).setData(u,{...e,manual:!0})}setQueriesData(n,t,e){return Fn.batch(()=>at(this,Le).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,t,e)]))}getQueryState(n){var e;const t=this.defaultQueryOptions({queryKey:n});return(e=at(this,Le).get(t.queryHash))==null?void 0:e.state}removeQueries(n){const t=at(this,Le);Fn.batch(()=>{t.findAll(n).forEach(e=>{t.remove(e)})})}resetQueries(n,t){const e=at(this,Le);return Fn.batch(()=>(e.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},t)))}cancelQueries(n,t={}){const e={revert:!0,...t},r=Fn.batch(()=>at(this,Le).findAll(n).map(a=>a.cancel(e)));return Promise.all(r).then(jr).catch(jr)}invalidateQueries(n,t={}){return Fn.batch(()=>(at(this,Le).findAll(n).forEach(e=>{e.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},t)))}refetchQueries(n,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},r=Fn.batch(()=>at(this,Le).findAll(n).filter(a=>!a.isDisabled()).map(a=>{let l=a.fetch(void 0,e);return e.throwOnError||(l=l.catch(jr)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(jr)}fetchQuery(n){const t=this.defaultQueryOptions(n);t.retry===void 0&&(t.retry=!1);const e=at(this,Le).build(this,t);return e.isStaleByTime(RT(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(jr).catch(jr)}fetchInfiniteQuery(n){return n.behavior=OT(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(jr).catch(jr)}ensureInfiniteQueryData(n){return n.behavior=OT(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return _f.isOnline()?at(this,Js).resumePausedMutations():Promise.resolve()}getQueryCache(){return at(this,Le)}getMutationCache(){return at(this,Js)}getDefaultOptions(){return at(this,Zs)}setDefaultOptions(n){Lt(this,Zs,n)}setQueryDefaults(n,t){at(this,Gl).set(Uc(n),{queryKey:n,defaultOptions:t})}getQueryDefaults(n){const t=[...at(this,Gl).values()],e={};return t.forEach(r=>{Bc(n,r.queryKey)&&Object.assign(e,r.defaultOptions)}),e}setMutationDefaults(n,t){at(this,Kl).set(Uc(n),{mutationKey:n,defaultOptions:t})}getMutationDefaults(n){const t=[...at(this,Kl).values()],e={};return t.forEach(r=>{Bc(n,r.mutationKey)&&Object.assign(e,r.defaultOptions)}),e}defaultQueryOptions(n){if(n._defaulted)return n;const t={...at(this,Zs).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return t.queryHash||(t.queryHash=zy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===jy&&(t.enabled=!1),t}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...at(this,Zs).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){at(this,Le).clear(),at(this,Js).clear()}},Le=new WeakMap,Js=new WeakMap,Zs=new WeakMap,Gl=new WeakMap,Kl=new WeakMap,ta=new WeakMap,Ql=new WeakMap,$l=new WeakMap,$w),rS=Et.createContext(void 0),QU=n=>{const t=Et.useContext(rS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},lD=({client:n,children:t})=>(Et.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),ut.jsx(rS.Provider,{value:n,children:t}));var uD="Invariant failed";function es(n,t){if(!n)throw new Error(uD)}const Nl=new WeakMap,nf=new WeakMap,vf={current:[]};let Rg=!1,Dc=0;const bc=new Set,qd=new Map;function iS(n){const t=Array.from(n).sort((e,r)=>e instanceof Ml&&e.options.deps.includes(r)?1:r instanceof Ml&&r.options.deps.includes(e)?-1:0);for(const e of t){if(vf.current.includes(e))continue;vf.current.push(e),e.recompute();const r=nf.get(e);if(r)for(const a of r){const l=Nl.get(a);l&&iS(l)}}}function cD(n){n.listeners.forEach(t=>t({prevVal:n.prevState,currentVal:n.state}))}function hD(n){n.listeners.forEach(t=>t({prevVal:n.prevState,currentVal:n.state}))}function sS(n){if(Dc>0&&!qd.has(n)&&qd.set(n,n.prevState),bc.add(n),!(Dc>0)&&!Rg)try{for(Rg=!0;bc.size>0;){const t=Array.from(bc);bc.clear();for(const e of t){const r=qd.get(e)??e.prevState;e.prevState=r,cD(e)}for(const e of t){const r=Nl.get(e);r&&(vf.current.push(e),iS(r))}for(const e of t){const r=Nl.get(e);if(r)for(const a of r)hD(a)}}}finally{Rg=!1,vf.current=[],qd.clear()}}function Cg(n){Dc++;try{n()}finally{if(Dc--,Dc===0){const t=Array.from(bc)[0];t&&sS(t)}}}class ey{constructor(t,e){this.listeners=new Set,this.subscribe=r=>{var a,l;this.listeners.add(r);const u=(l=(a=this.options)==null?void 0:a.onSubscribe)==null?void 0:l.call(a,r,this);return()=>{this.listeners.delete(r),u==null||u()}},this.setState=r=>{var a,l,u;this.prevState=this.state,this.state=(a=this.options)!=null&&a.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(u=(l=this.options)==null?void 0:l.onUpdate)==null||u.call(l),sS(this)},this.prevState=t,this.state=t,this.options=e}}class Ml{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const e=[],r=[];for(const a of this.options.deps)e.push(a.prevState),r.push(a.state);return this.lastSeenDepValues=r,{prevDepVals:e,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var e,r;this.prevState=this.state;const{prevDepVals:a,currDepVals:l,prevVal:u}=this.getDepVals();this.state=this.options.fn({prevDepVals:a,currDepVals:l,prevVal:u}),(r=(e=this.options).onUpdate)==null||r.call(e)},this.checkIfRecalculationNeededDeeply=()=>{for(const l of this.options.deps)l instanceof Ml&&l.checkIfRecalculationNeededDeeply();let e=!1;const r=this.lastSeenDepValues,{currDepVals:a}=this.getDepVals();for(let l=0;l<a.length;l++)if(a[l]!==r[l]){e=!0;break}e&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const e of this._subscriptions)e()}),this.subscribe=e=>{var r,a;this.listeners.add(e);const l=(a=(r=this.options).onSubscribe)==null?void 0:a.call(r,e,this);return()=>{this.listeners.delete(e),l==null||l()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const e of t)if(e instanceof Ml)e.registerOnGraph(),this.registerOnGraph(e.options.deps);else if(e instanceof ey){let r=Nl.get(e);r||(r=new Set,Nl.set(e,r)),r.add(this);let a=nf.get(this);a||(a=new Set,nf.set(this,a)),a.add(e)}}unregisterFromGraph(t=this.options.deps){for(const e of t)if(e instanceof Ml)this.unregisterFromGraph(e.options.deps);else if(e instanceof ey){const r=Nl.get(e);r&&r.delete(this);const a=nf.get(this);a&&a.delete(e)}}}const na="__TSR_index",MT="popstate",VT="beforeunload";function aS(n){let t=n.getLocation();const e=new Set,r=u=>{t=n.getLocation(),e.forEach(d=>d({location:t,action:u}))},a=u=>{n.notifyOnIndexChange??!0?r(u):t=n.getLocation()},l=async({task:u,navigateOpts:d,...m})=>{var p,y;if((d==null?void 0:d.ignoreBlocker)??!1){u();return}const b=((p=n.getBlockers)==null?void 0:p.call(n))??[],R=m.type==="PUSH"||m.type==="REPLACE";if(typeof document<"u"&&b.length&&R)for(const O of b){const L=Fc(m.path,m.state);if(await O.blockerFn({currentLocation:t,nextLocation:L,action:m.type})){(y=n.onBlocked)==null||y.call(n);return}}u()};return{get location(){return t},get length(){return n.getLength()},subscribers:e,subscribe:u=>(e.add(u),()=>{e.delete(u)}),push:(u,d,m)=>{const p=t.state[na];d=ny(p+1,d),l({task:()=>{n.pushState(u,d),r({type:"PUSH"})},navigateOpts:m,type:"PUSH",path:u,state:d})},replace:(u,d,m)=>{const p=t.state[na];d=ny(p,d),l({task:()=>{n.replaceState(u,d),r({type:"REPLACE"})},navigateOpts:m,type:"REPLACE",path:u,state:d})},go:(u,d)=>{l({task:()=>{n.go(u),a({type:"GO",index:u})},navigateOpts:d,type:"GO"})},back:u=>{l({task:()=>{n.back((u==null?void 0:u.ignoreBlocker)??!1),a({type:"BACK"})},navigateOpts:u,type:"BACK"})},forward:u=>{l({task:()=>{n.forward((u==null?void 0:u.ignoreBlocker)??!1),a({type:"FORWARD"})},navigateOpts:u,type:"FORWARD"})},canGoBack:()=>t.state[na]!==0,createHref:u=>n.createHref(u),block:u=>{var d;if(!n.setBlockers)return()=>{};const m=((d=n.getBlockers)==null?void 0:d.call(n))??[];return n.setBlockers([...m,u]),()=>{var p,y;const _=((p=n.getBlockers)==null?void 0:p.call(n))??[];(y=n.setBlockers)==null||y.call(n,_.filter(b=>b!==u))}},flush:()=>{var u;return(u=n.flush)==null?void 0:u.call(n)},destroy:()=>{var u;return(u=n.destroy)==null?void 0:u.call(n)},notify:r}}function ny(n,t){return t||(t={}),{...t,key:qy(),[na]:n}}function dD(n){var t;const e=typeof document<"u"?window:void 0,r=e.history.pushState,a=e.history.replaceState;let l=[];const u=()=>l,d=S=>l=S,m=S=>S,p=()=>Fc(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);(t=e.history.state)!=null&&t.key||e.history.replaceState({[na]:0,key:qy()},"");let y=p(),_,b=!1,R=!1,O=!1,L=!1;const k=()=>y;let Y,Z;const K=()=>{Y&&(w._ignoreSubscribers=!0,(Y.isPush?e.history.pushState:e.history.replaceState)(Y.state,"",Y.href),w._ignoreSubscribers=!1,Y=void 0,Z=void 0,_=void 0)},st=(S,D,P)=>{const N=m(D);Z||(_=y),y=Fc(D,P),Y={href:N,state:P,isPush:(Y==null?void 0:Y.isPush)||S==="push"},Z||(Z=Promise.resolve().then(()=>K()))},et=S=>{y=p(),w.notify({type:S})},W=async()=>{if(R){R=!1;return}const S=p(),D=S.state[na]-y.state[na],P=D===1,N=D===-1,C=!P&&!N||b;b=!1;const Pt=C?"GO":N?"BACK":"FORWARD",_t=C?{type:"GO",index:D}:{type:N?"BACK":"FORWARD"};if(O)O=!1;else{const B=u();if(typeof document<"u"&&B.length){for(const rt of B)if(await rt.blockerFn({currentLocation:y,nextLocation:S,action:Pt})){R=!0,e.history.go(1),w.notify(_t);return}}}y=p(),w.notify(_t)},x=S=>{if(L){L=!1;return}let D=!1;const P=u();if(typeof document<"u"&&P.length)for(const N of P){const C=N.enableBeforeUnload??!0;if(C===!0){D=!0;break}if(typeof C=="function"&&C()===!0){D=!0;break}}if(D)return S.preventDefault(),S.returnValue=""},w=aS({getLocation:k,getLength:()=>e.history.length,pushState:(S,D)=>st("push",S,D),replaceState:(S,D)=>st("replace",S,D),back:S=>(S&&(O=!0),L=!0,e.history.back()),forward:S=>{S&&(O=!0),L=!0,e.history.forward()},go:S=>{b=!0,e.history.go(S)},createHref:S=>m(S),flush:K,destroy:()=>{e.history.pushState=r,e.history.replaceState=a,e.removeEventListener(VT,x,{capture:!0}),e.removeEventListener(MT,W)},onBlocked:()=>{_&&y!==_&&(y=_)},getBlockers:u,setBlockers:d,notifyOnIndexChange:!1});return e.addEventListener(VT,x,{capture:!0}),e.addEventListener(MT,W),e.history.pushState=function(...S){const D=r.apply(e.history,S);return w._ignoreSubscribers||et("PUSH"),D},e.history.replaceState=function(...S){const D=a.apply(e.history,S);return w._ignoreSubscribers||et("REPLACE"),D},w}function fD(n={initialEntries:["/"]}){const t=n.initialEntries;let e=n.initialIndex?Math.min(Math.max(n.initialIndex,0),t.length-1):t.length-1;const r=t.map((l,u)=>ny(u,void 0));return aS({getLocation:()=>Fc(t[e],r[e]),getLength:()=>t.length,pushState:(l,u)=>{e<t.length-1&&(t.splice(e+1),r.splice(e+1)),r.push(u),t.push(l),e=Math.max(t.length-1,0)},replaceState:(l,u)=>{r[e]=u,t[e]=l},back:()=>{e=Math.max(e-1,0)},forward:()=>{e=Math.min(e+1,t.length-1)},go:l=>{e=Math.min(Math.max(e+l,0),t.length-1)},createHref:l=>l})}function Fc(n,t){const e=n.indexOf("#"),r=n.indexOf("?");return{href:n,pathname:n.substring(0,e>0?r>0?Math.min(e,r):e:r>0?r:n.length),hash:e>-1?n.substring(e):"",search:r>-1?n.slice(r,e===-1?void 0:e):"",state:t||{[na]:0,key:qy()}}}function qy(){return(Math.random()+1).toString(36).substring(7)}function Pl(n){return n[n.length-1]}function mD(n){return typeof n=="function"}function no(n,t){return mD(n)?n(t):n}function ry(n,t){return t.reduce((e,r)=>(e[r]=n[r],e),{})}function xr(n,t){if(n===t)return n;const e=t,r=LT(n)&&LT(e);if(r||Ef(n)&&Ef(e)){const a=r?n:Object.keys(n),l=a.length,u=r?e:Object.keys(e),d=u.length,m=r?[]:{};let p=0;for(let y=0;y<d;y++){const _=r?y:u[y];(!r&&a.includes(_)||r)&&n[_]===void 0&&e[_]===void 0?(m[_]=void 0,p++):(m[_]=xr(n[_],e[_]),m[_]===n[_]&&n[_]!==void 0&&p++)}return l===d&&p===l?n:m}return e}function Ef(n){if(!kT(n))return!1;const t=n.constructor;if(typeof t>"u")return!0;const e=t.prototype;return!(!kT(e)||!e.hasOwnProperty("isPrototypeOf"))}function kT(n){return Object.prototype.toString.call(n)==="[object Object]"}function LT(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function UT(n,t){let e=Object.keys(n);return t&&(e=e.filter(r=>n[r]!==void 0)),e}function Vl(n,t,e){if(n===t)return!0;if(typeof n!=typeof t)return!1;if(Ef(n)&&Ef(t)){const r=(e==null?void 0:e.ignoreUndefined)??!0,a=UT(n,r),l=UT(t,r);return!(e!=null&&e.partial)&&a.length!==l.length?!1:l.every(u=>Vl(n[u],t[u],e))}return Array.isArray(n)&&Array.isArray(t)?n.length!==t.length?!1:!n.some((r,a)=>!Vl(r,t[a],e)):!1}function Al(n){let t,e;const r=new Promise((a,l)=>{t=a,e=l});return r.status="pending",r.resolve=a=>{r.status="resolved",r.value=a,t(a),n==null||n(a)},r.reject=a=>{r.status="rejected",e(a)},r}function pD(n){return/%[0-9A-Fa-f]{2}/.test(n)}function os(n){return Yf(n.filter(t=>t!==void 0).join("/"))}function Yf(n){return n.replace(/\/{2,}/g,"/")}function Hy(n){return n==="/"?n:n.replace(/^\/{1,}/,"")}function ro(n){return n==="/"?n:n.replace(/\/{1,}$/,"")}function gD(n){return ro(Hy(n))}function Tf(n,t){return n!=null&&n.endsWith("/")&&n!=="/"&&n!==`${t}/`?n.slice(0,-1):n}function yD(n,t,e){return Tf(n,e)===Tf(t,e)}function _D({basepath:n,base:t,to:e,trailingSlash:r="never",caseSensitive:a}){var l,u;t=bf(n,t,a),e=bf(n,e,a);let d=Yl(t);const m=Yl(e);d.length>1&&((l=Pl(d))==null?void 0:l.value)==="/"&&d.pop(),m.forEach((y,_)=>{y.value==="/"?_?_===m.length-1&&d.push(y):d=[y]:y.value===".."?d.pop():y.value==="."||d.push(y)}),d.length>1&&(((u=Pl(d))==null?void 0:u.value)==="/"?r==="never"&&d.pop():r==="always"&&d.push({type:"pathname",value:"/"}));const p=os([n,...d.map(y=>y.value)]);return Yf(p)}function Yl(n){if(!n)return[];n=Yf(n);const t=[];if(n.slice(0,1)==="/"&&(n=n.substring(1),t.push({type:"pathname",value:"/"})),!n)return t;const e=n.split("/").filter(Boolean);return t.push(...e.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:r.includes("%25")?r.split("%25").map(a=>decodeURI(a)).join("%25"):decodeURI(r)})),n.slice(-1)==="/"&&(n=n.substring(1),t.push({type:"pathname",value:"/"})),t}function Hd({path:n,params:t,leaveWildcards:e,leaveParams:r,decodeCharMap:a}){const l=Yl(n);function u(p){const y=t[p],_=typeof y=="string";return["*","_splat"].includes(p)?_?encodeURI(y):y:_?vD(y,a):y}const d={},m=os(l.map(p=>{if(p.type==="wildcard"){d._splat=t._splat;const y=u("_splat");return e?`${p.value}${y??""}`:y}if(p.type==="param"){const y=p.value.substring(1);if(d[y]=t[y],r){const _=u(p.value);return`${p.value}${_??""}`}return u(y)??"undefined"}return p.value}));return{usedParams:d,interpolatedPath:m}}function vD(n,t){let e=encodeURIComponent(n);if(t)for(const[r,a]of t)e=e.replaceAll(r,a);return e}function Gd(n,t,e){const r=ED(n,t,e);if(!(e.to&&!r))return r??{}}function bf(n,t,e=!1){const r=e?n:n.toLowerCase(),a=e?t:t.toLowerCase();switch(!0){case r==="/":return t;case a===r:return"";case t.length<n.length:return t;case a[r.length]!=="/":return t;case a.startsWith(r):return t.slice(n.length);default:return t}}function ED(n,t,e){if(n!=="/"&&!t.startsWith(n))return;t=bf(n,t,e.caseSensitive);const r=bf(n,`${e.to??"$"}`,e.caseSensitive),a=Yl(t),l=Yl(r);t.startsWith("/")||a.unshift({type:"pathname",value:"/"}),r.startsWith("/")||l.unshift({type:"pathname",value:"/"});const u={};return(()=>{for(let m=0;m<Math.max(a.length,l.length);m++){const p=a[m],y=l[m],_=m>=a.length-1,b=m>=l.length-1;if(y){if(y.type==="wildcard"){const R=decodeURI(os(a.slice(m).map(O=>O.value)));return u["*"]=R,u._splat=R,!0}if(y.type==="pathname"){if(y.value==="/"&&!(p!=null&&p.value))return!0;if(p){if(e.caseSensitive){if(y.value!==p.value)return!1}else if(y.value.toLowerCase()!==p.value.toLowerCase())return!1}}if(!p)return!1;if(y.type==="param"){if(p.value==="/")return!1;p.value.charAt(0)!=="$"&&(u[y.value.substring(1)]=decodeURIComponent(p.value))}}if(!_&&b)return u["**"]=os(a.slice(m+1).map(R=>R.value)),!!e.fuzzy&&(y==null?void 0:y.value)!=="/"}return!0})()?u:void 0}function Or(n){return!!(n!=null&&n.isNotFound)}const wf="tsr-scroll-restoration-v1_3";let oS=!1;try{oS=typeof window<"u"&&typeof window.sessionStorage=="object"}catch{}const TD=(n,t)=>{let e;return(...r)=>{e||(e=setTimeout(()=>{n(...r),e=null},t))}},Ol=oS?{state:JSON.parse(window.sessionStorage.getItem(wf)||"null")||{},set:t=>(Ol.state=no(t,Ol.state)||Ol.state,window.sessionStorage.setItem(wf,JSON.stringify(Ol.state)))}:void 0,iy=n=>n.state.key||n.href;function bD(n){const t=[];let e;for(;e=n.parentNode;)t.unshift(`${n.tagName}:nth-child(${[].indexOf.call(e.children,n)+1})`),n=e;return`${t.join(" > ")}`.toLowerCase()}let Sf=!1;function lS(n,t,e,r,a){var l;let u;try{u=JSON.parse(sessionStorage.getItem(n)||"{}")}catch(p){console.error(p);return}const d=t||((l=window.history.state)==null?void 0:l.key),m=u[d];Sf=!0,(()=>{if(r&&m){for(const y in m){const _=m[y];if(y==="window")window.scrollTo({top:_.scrollY,left:_.scrollX,behavior:e});else if(y){const b=document.querySelector(y);b&&(b.scrollLeft=_.scrollX,b.scrollTop=_.scrollY)}}return}const p=window.location.hash.split("#")[1];if(p){const y=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(y){const _=document.getElementById(p);_&&_.scrollIntoView(y)}return}["window",...(a==null?void 0:a.filter(y=>y!=="window"))??[]].forEach(y=>{const _=y==="window"?window:document.querySelector(y);_&&_.scrollTo({top:0,left:0,behavior:e})})})(),Sf=!1}function wD(n,t){if((n.options.scrollRestoration??!1)&&(n.isScrollRestoring=!0),typeof document>"u"||n.isScrollRestorationSetup)return;n.isScrollRestorationSetup=!0,Sf=!1;const r=n.options.getScrollRestorationKey||iy;window.history.scrollRestoration="manual";const a=l=>{if(Sf||!n.isScrollRestoring)return;let u="";if(l.target===document||l.target===window)u="window";else{const m=l.target.getAttribute("data-scroll-restoration-id");m?u=`[data-scroll-restoration-id="${m}"]`:u=bD(l.target)}const d=r(n.state.location);Ol.set(m=>{const p=m[d]=m[d]||{},y=p[u]=p[u]||{};if(u==="window")y.scrollX=window.scrollX||0,y.scrollY=window.scrollY||0;else if(u){const _=document.querySelector(u);_&&(y.scrollX=_.scrollLeft||0,y.scrollY=_.scrollTop||0)}return m})};typeof document<"u"&&document.addEventListener("scroll",TD(a,100),!0),n.subscribe("onRendered",l=>{const u=r(l.toLocation);if(!n.resetNextScroll){n.resetNextScroll=!0;return}lS(wf,u,n.options.scrollRestorationBehavior||void 0,n.isScrollRestoring||void 0,n.options.scrollToTopSelectors||void 0),n.isScrollRestoring&&Ol.set(d=>(d[u]=d[u]||{},d))})}function SD(n){if(typeof document<"u"&&document.querySelector){const t=n.state.location.state.__hashScrollIntoViewOptions??!0;if(t&&n.state.location.hash!==""){const e=document.getElementById(n.state.location.hash);e&&e.scrollIntoView(t)}}}function AD(n,t){const e=Object.entries(n).flatMap(([a,l])=>Array.isArray(l)?l.map(u=>[a,String(u)]):[[a,String(l)]]);return""+new URLSearchParams(e).toString()}function Dg(n){if(!n)return"";const t=pD(n)?decodeURIComponent(n):decodeURIComponent(encodeURIComponent(n));return t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t}function ID(n,t){const e=n;return[...new URLSearchParams(e).entries()].reduce((l,[u,d])=>{const m=l[u];return m==null?l[u]=Dg(d):l[u]=Array.isArray(m)?[...m,Dg(d)]:[m,Dg(d)],l},{})}const RD=DD(JSON.parse),CD=xD(JSON.stringify,JSON.parse);function DD(n){return t=>{t.substring(0,1)==="?"&&(t=t.substring(1));const e=ID(t);for(const r in e){const a=e[r];if(typeof a=="string")try{e[r]=n(a)}catch{}}return e}}function xD(n,t){function e(r){if(typeof r=="object"&&r!==null)try{return n(r)}catch{}else if(typeof r=="string"&&typeof t=="function")try{return t(r),n(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(l=>{const u=r[l];typeof u>"u"||u===void 0?delete r[l]:r[l]=e(u)});const a=AD(r).toString();return a?`?${a}`:""}}const Gr="__root__";function go(n){if(n.isRedirect=!0,n.statusCode=n.statusCode||n.code||307,n.headers=n.headers||{},!n.reloadDocument){n.reloadDocument=!1;try{new URL(`${n.href}`),n.reloadDocument=!0}catch{}}if(n.throw)throw n;return n}function Ya(n){return!!(n!=null&&n.isRedirect)}function xg(n){return!!(n!=null&&n.isRedirect)&&n.href}function co(n){const t=n.resolvedLocation,e=n.location,r=(t==null?void 0:t.pathname)!==e.pathname,a=(t==null?void 0:t.href)!==e.href,l=(t==null?void 0:t.hash)!==e.hash;return{fromLocation:t,toLocation:e,pathChanged:r,hrefChanged:a,hashChanged:l}}class PD{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=e=>e(),this.update=e=>{var r;e.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const a=this.options;this.options={...this.options,...e},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(l=>[encodeURIComponent(l),l])):void 0,(!this.basepath||e.basepath&&e.basepath!==a.basepath)&&(e.basepath===void 0||e.basepath===""||e.basepath==="/"?this.basepath="/":this.basepath=`/${gD(e.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?fD({initialEntries:[this.basepath||"/"]}):dD()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new ey(ND(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(l=>!["redirected"].includes(l.status))}}}),wD(this)),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const e=this.options.notFoundRoute;e&&(e.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[e.id]=e);const r=u=>{u.forEach((d,m)=>{d.init({originalIndex:m,defaultSsr:this.options.defaultSsr});const p=this.routesById[d.id];if(es(!p,`Duplicate routes found with id: ${String(d.id)}`),this.routesById[d.id]=d,!d.isRoot&&d.path){const _=ro(d.fullPath);(!this.routesByPath[_]||d.fullPath.endsWith("/"))&&(this.routesByPath[_]=d)}const y=d.children;y!=null&&y.length&&r(y)})};r([this.routeTree]);const a=[];Object.values(this.routesById).forEach((u,d)=>{var m;if(u.isRoot||!u.path)return;const p=Hy(u.fullPath),y=Yl(p);for(;y.length>1&&((m=y[0])==null?void 0:m.value)==="/";)y.shift();const _=y.map(b=>b.value==="/"?.75:b.type==="param"?.5:b.type==="wildcard"?.25:1);a.push({child:u,trimmed:p,parsed:y,index:d,scores:_})}),this.flatRoutes=a.sort((u,d)=>{const m=Math.min(u.scores.length,d.scores.length);for(let p=0;p<m;p++)if(u.scores[p]!==d.scores[p])return d.scores[p]-u.scores[p];if(u.scores.length!==d.scores.length)return d.scores.length-u.scores.length;for(let p=0;p<m;p++)if(u.parsed[p].value!==d.parsed[p].value)return u.parsed[p].value>d.parsed[p].value?1:-1;return u.index-d.index}).map((u,d)=>(u.child.rank=d,u.child))},this.subscribe=(e,r)=>{const a={eventType:e,fn:r};return this.subscribers.add(a),()=>{this.subscribers.delete(a)}},this.emit=e=>{this.subscribers.forEach(r=>{r.eventType===e.type&&r.fn(e)})},this.parseLocation=(e,r)=>{const a=({pathname:m,search:p,hash:y,state:_})=>{const b=this.options.parseSearch(p),R=this.options.stringifySearch(b);return{pathname:m,searchStr:R,search:xr(e==null?void 0:e.search,b),hash:y.split("#").reverse()[0]??"",href:`${m}${R}${y}`,state:xr(e==null?void 0:e.state,_)}},l=a(r??this.history.location),{__tempLocation:u,__tempKey:d}=l.state;if(u&&(!d||d===this.tempLocationKey)){const m=a(u);return m.state.key=l.state.key,delete m.state.__tempLocation,{...m,maskedLocation:l}}return l},this.resolvePathWithBase=(e,r)=>_D({basepath:this.basepath,base:e,to:Yf(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.matchRoutes=(e,r,a)=>typeof e=="string"?this.matchRoutesInternal({pathname:e,search:r},a):this.matchRoutesInternal(e,r),this.getMatchedRoutes=(e,r)=>{let a={};const l=ro(e.pathname),u=y=>Gd(this.basepath,l,{to:y.fullPath,caseSensitive:y.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let d=(r==null?void 0:r.to)!==void 0?this.routesByPath[r.to]:void 0;d?a=u(d):d=this.flatRoutes.find(y=>{const _=u(y);return _?(a=_,!0):!1});let m=d||this.routesById[Gr];const p=[m];for(;m.parentRoute;)m=m.parentRoute,p.unshift(m);return{matchedRoutes:p,routeParams:a,foundRoute:d}},this.cancelMatch=e=>{const r=this.getMatch(e);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var e;(e=this.state.pendingMatches)==null||e.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=e=>{const r=(l={},u)=>{var d,m,p,y,_,b,R;const O=l._fromLocation?this.matchRoutes(l._fromLocation,{_buildLocation:!0}):this.state.matches,L=l.from!=null?O.find(N=>Gd(this.basepath,ro(N.pathname),{to:l.from,caseSensitive:!1,fuzzy:!1})):void 0,k=(L==null?void 0:L.pathname)||this.latestLocation.pathname;es(l.from==null||L!=null,"Could not find match for from: "+l.from);const Y=(d=this.state.pendingMatches)!=null&&d.length?(m=Pl(this.state.pendingMatches))==null?void 0:m.search:((p=Pl(O))==null?void 0:p.search)||this.latestLocation.search,Z=u==null?void 0:u.matchedRoutes.filter(N=>O.find(C=>C.routeId===N.id));let K;if(l.to){const N=(L==null?void 0:L.fullPath)||((y=Pl(O))==null?void 0:y.fullPath)||this.latestLocation.pathname;K=this.resolvePathWithBase(N,`${l.to}`)}else{const N=this.routesById[(_=Z==null?void 0:Z.find(C=>{const Pt=Hd({path:C.fullPath,params:(u==null?void 0:u.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;return os([this.basepath,Pt])===k}))==null?void 0:_.id];K=this.resolvePathWithBase(k,(N==null?void 0:N.to)??k)}const st={...(b=Pl(O))==null?void 0:b.params};let et=(l.params??!0)===!0?st:{...st,...no(l.params,st)};Object.keys(et).length>0&&(u==null||u.matchedRoutes.map(N=>{var C;return((C=N.options.params)==null?void 0:C.stringify)??N.options.stringifyParams}).filter(Boolean).forEach(N=>{et={...et,...N(et)}})),K=Hd({path:K,params:et??{},leaveWildcards:!1,leaveParams:e.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let W=Y;if(e._includeValidateSearch&&((R=this.options.search)!=null&&R.strict)){let N={};u==null||u.matchedRoutes.forEach(C=>{try{C.options.validateSearch&&(N={...N,...Pg(C.options.validateSearch,{...N,...W})??{}})}catch{}}),W=N}W=(N=>{const C=(u==null?void 0:u.matchedRoutes.reduce((B,rt)=>{var pt;const At=[];if("search"in rt.options)(pt=rt.options.search)!=null&&pt.middlewares&&At.push(...rt.options.search.middlewares);else if(rt.options.preSearchFilters||rt.options.postSearchFilters){const V=({search:q,next:ot})=>{let X=q;"preSearchFilters"in rt.options&&rt.options.preSearchFilters&&(X=rt.options.preSearchFilters.reduce((vt,dt)=>dt(vt),q));const ht=ot(X);return"postSearchFilters"in rt.options&&rt.options.postSearchFilters?rt.options.postSearchFilters.reduce((vt,dt)=>dt(vt),ht):ht};At.push(V)}if(e._includeValidateSearch&&rt.options.validateSearch){const V=({search:q,next:ot})=>{const X=ot(q);try{return{...X,...Pg(rt.options.validateSearch,X)??{}}}catch{return X}};At.push(V)}return B.concat(At)},[]))??[],Pt=({search:B})=>l.search?l.search===!0?B:no(l.search,B):{};C.push(Pt);const _t=(B,rt)=>{if(B>=C.length)return rt;const pt=C[B];return pt({search:rt,next:V=>_t(B+1,V)})};return _t(0,N)})(W),W=xr(Y,W);const w=this.options.stringifySearch(W),S=l.hash===!0?this.latestLocation.hash:l.hash?no(l.hash,this.latestLocation.hash):void 0,D=S?`#${S}`:"";let P=l.state===!0?this.latestLocation.state:l.state?no(l.state,this.latestLocation.state):{};return P=xr(this.latestLocation.state,P),{pathname:K,search:W,searchStr:w,state:P,hash:S??"",href:`${K}${w}${D}`,unmaskOnReload:l.unmaskOnReload}},a=(l={},u)=>{var d;const m=r(l);let p=u?r(u):void 0;if(!p){let b={};const R=(d=this.options.routeMasks)==null?void 0:d.find(O=>{const L=Gd(this.basepath,m.pathname,{to:O.from,caseSensitive:!1,fuzzy:!1});return L?(b=L,!0):!1});if(R){const{from:O,...L}=R;u={...ry(e,["from"]),...L,params:b},p=r(u)}}const y=this.getMatchedRoutes(m,l),_=r(l,y);if(p){const b=this.getMatchedRoutes(p,u),R=r(u,b);_.maskedLocation=R}return _};return e.mask?a(e,{...ry(e,["from"]),...e.mask}):a(e)},this.commitLocation=({viewTransition:e,ignoreBlocker:r,...a})=>{const l=()=>{const m=["key","__TSR_index","__hashScrollIntoViewOptions"];m.forEach(y=>{a.state[y]=this.latestLocation.state[y]});const p=Vl(a.state,this.latestLocation.state);return m.forEach(y=>{delete a.state[y]}),p},u=this.latestLocation.href===a.href,d=this.commitLocationPromise;if(this.commitLocationPromise=Al(()=>{d==null||d.resolve()}),u&&l())this.load();else{let{maskedLocation:m,hashScrollIntoView:p,...y}=a;m&&(y={...m,state:{...m.state,__tempKey:void 0,__tempLocation:{...y,search:y.searchStr,state:{...y.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(y.unmaskOnReload??this.options.unmaskOnReload??!1)&&(y.state.__tempKey=this.tempLocationKey)),y.state.__hashScrollIntoViewOptions=p??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=e,this.history[a.replace?"replace":"push"](y.href,y.state,{ignoreBlocker:r})}return this.resetNextScroll=a.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:e,resetScroll:r,hashScrollIntoView:a,viewTransition:l,ignoreBlocker:u,href:d,...m}={})=>{if(d){const y=this.history.location.state.__TSR_index,_=Fc(d,{__TSR_index:e?y:y+1});m.to=_.pathname,m.search=this.options.parseSearch(_.search),m.hash=_.hash.slice(1)}const p=this.buildLocation({...m,_includeValidateSearch:!0});return this.commitLocation({...p,viewTransition:l,replace:e,resetScroll:r,hashScrollIntoView:a,ignoreBlocker:u})},this.navigate=({to:e,reloadDocument:r,href:a,...l})=>{if(r){if(!a){const u=this.buildLocation({to:e,...l});a=this.history.createHref(u.href)}l.replace?window.location.replace(a):window.location.href=a;return}return this.buildAndCommitLocation({...l,href:a,to:e})},this.load=async e=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,a,l;for(l=new Promise(u=>{this.startTransition(async()=>{var d;try{const m=this.latestLocation,p=this.state.resolvedLocation;this.cancelMatches();let y;Cg(()=>{y=this.matchRoutes(m),this.__store.setState(_=>({..._,status:"pending",isLoading:!0,location:m,pendingMatches:y,cachedMatches:_.cachedMatches.filter(b=>!y.find(R=>R.id===b.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",...co({resolvedLocation:p,location:m})}),this.emit({type:"onBeforeLoad",...co({resolvedLocation:p,location:m})}),await this.loadMatches({sync:e==null?void 0:e.sync,matches:y,location:m,onReady:async()=>{this.startViewTransition(async()=>{let _,b,R;Cg(()=>{this.__store.setState(O=>{const L=O.matches,k=O.pendingMatches||O.matches;return _=L.filter(Y=>!k.find(Z=>Z.id===Y.id)),b=k.filter(Y=>!L.find(Z=>Z.id===Y.id)),R=L.filter(Y=>k.find(Z=>Z.id===Y.id)),{...O,isLoading:!1,loadedAt:Date.now(),matches:k,pendingMatches:void 0,cachedMatches:[...O.cachedMatches,..._.filter(Y=>Y.status!=="error")]}}),this.clearExpiredCache()}),[[_,"onLeave"],[b,"onEnter"],[R,"onStay"]].forEach(([O,L])=>{O.forEach(k=>{var Y,Z;(Z=(Y=this.looseRoutesById[k.routeId].options)[L])==null||Z.call(Y,k)})})})}})}catch(m){xg(m)?(r=m,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):Or(m)&&(a=m),this.__store.setState(p=>({...p,statusCode:r?r.statusCode:a?404:p.matches.some(y=>y.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===l&&((d=this.commitLocationPromise)==null||d.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),u()})}),this.latestLoadPromise=l,await l;this.latestLoadPromise&&l!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(u=>({...u,statusCode:404}))},this.startViewTransition=e=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let a;if(typeof r=="object"&&this.isViewTransitionTypesSupported){const l=this.latestLocation,u=this.state.resolvedLocation,d=typeof r.types=="function"?r.types(co({resolvedLocation:u,location:l})):r.types;a={update:e,types:d}}else a=e;document.startViewTransition(a)}else e()},this.updateMatch=(e,r)=>{var a;let l;const u=(a=this.state.pendingMatches)==null?void 0:a.find(y=>y.id===e),d=this.state.matches.find(y=>y.id===e),m=this.state.cachedMatches.find(y=>y.id===e),p=u?"pendingMatches":d?"matches":m?"cachedMatches":"";return p&&this.__store.setState(y=>{var _;return{...y,[p]:(_=y[p])==null?void 0:_.map(b=>b.id===e?l=r(b):b)}}),l},this.getMatch=e=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===e),this.loadMatches=async({location:e,matches:r,preload:a,onReady:l,updateMatch:u=this.updateMatch,sync:d})=>{let m,p=!1;const y=async()=>{p||(p=!0,await(l==null?void 0:l()))},_=R=>!!(a&&!this.state.matches.find(O=>O.id===R)),b=(R,O)=>{var L,k,Y,Z;if(xg(O)&&!O.reloadDocument)throw O;if(Ya(O)||Or(O)){if(u(R.id,K=>({...K,status:Ya(O)?"redirected":Or(O)?"notFound":"error",isFetching:!1,error:O,beforeLoadPromise:void 0,loaderPromise:void 0})),O.routeId||(O.routeId=R.routeId),(L=R.beforeLoadPromise)==null||L.resolve(),(k=R.loaderPromise)==null||k.resolve(),(Y=R.loadPromise)==null||Y.resolve(),Ya(O))throw p=!0,O=this.resolveRedirect({...O,_fromLocation:e}),O;if(Or(O))throw this._handleNotFound(r,O,{updateMatch:u}),(Z=this.serverSsr)==null||Z.onMatchSettled({router:this,match:this.getMatch(R.id)}),O}};try{await new Promise((R,O)=>{(async()=>{var L,k,Y,Z;try{const K=(W,x,w)=>{var S,D;const{id:P,routeId:N}=r[W],C=this.looseRoutesById[N];if(x instanceof Promise)throw x;x.routerCode=w,m=m??W,b(this.getMatch(P),x);try{(D=(S=C.options).onError)==null||D.call(S,x)}catch(Pt){x=Pt,b(this.getMatch(P),x)}u(P,Pt=>{var _t,B;return(_t=Pt.beforeLoadPromise)==null||_t.resolve(),(B=Pt.loadPromise)==null||B.resolve(),{...Pt,error:x,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[W,{id:x,routeId:w}]of r.entries()){const S=this.getMatch(x),D=(L=r[W-1])==null?void 0:L.id,P=this.looseRoutesById[w],N=P.options.pendingMs??this.options.defaultPendingMs,C=!!(l&&!this.isServer&&!_(x)&&(P.options.loader||P.options.beforeLoad||BT(P))&&typeof N=="number"&&N!==1/0&&(P.options.pendingComponent??((k=this.options)==null?void 0:k.defaultPendingComponent)));let Pt=!0;if((S.beforeLoadPromise||S.loaderPromise)&&(C&&setTimeout(()=>{try{y()}catch{}},N),await S.beforeLoadPromise,Pt=this.getMatch(x).status!=="success"),Pt){try{u(x,Vt=>{const Tt=Vt.loadPromise;return{...Vt,loadPromise:Al(()=>{Tt==null||Tt.resolve()}),beforeLoadPromise:Al()}});const _t=new AbortController;let B;C&&(B=setTimeout(()=>{try{y()}catch{}},N));const{paramsError:rt,searchError:pt}=this.getMatch(x);rt&&K(W,rt,"PARSE_PARAMS"),pt&&K(W,pt,"VALIDATE_SEARCH");const At=()=>D?this.getMatch(D).context:this.options.context??{};u(x,Vt=>({...Vt,isFetching:"beforeLoad",fetchCount:Vt.fetchCount+1,abortController:_t,pendingTimeout:B,context:{...At(),...Vt.__routeContext}}));const{search:V,params:q,context:ot,cause:X}=this.getMatch(x),ht=_(x),vt={search:V,abortController:_t,params:q,preload:ht,context:ot,location:e,navigate:Vt=>this.navigate({...Vt,_fromLocation:e}),buildLocation:this.buildLocation,cause:ht?"preload":X,matches:r},dt=await((Z=(Y=P.options).beforeLoad)==null?void 0:Z.call(Y,vt))??{};(Ya(dt)||Or(dt))&&K(W,dt,"BEFORE_LOAD"),u(x,Vt=>({...Vt,__beforeLoadContext:dt,context:{...At(),...Vt.__routeContext,...dt},abortController:_t}))}catch(_t){K(W,_t,"BEFORE_LOAD")}u(x,_t=>{var B;return(B=_t.beforeLoadPromise)==null||B.resolve(),{..._t,beforeLoadPromise:void 0,isFetching:!1}})}}const st=r.slice(0,m),et=[];st.forEach(({id:W,routeId:x},w)=>{et.push((async()=>{const{loaderPromise:S}=this.getMatch(W);let D=!1,P=!1;if(S){await S;const N=this.getMatch(W);N.error&&b(N,N.error)}else{const N=et[w-1],C=this.looseRoutesById[x],Pt=()=>{const{params:X,loaderDeps:ht,abortController:vt,context:dt,cause:Vt}=this.getMatch(W),Tt=_(W);return{params:X,deps:ht,preload:!!Tt,parentMatchPromise:N,abortController:vt,context:dt,location:e,navigate:Ft=>this.navigate({...Ft,_fromLocation:e}),cause:Tt?"preload":Vt,route:C}},_t=Date.now()-this.getMatch(W).updatedAt,B=_(W),rt=B?C.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:C.options.staleTime??this.options.defaultStaleTime??0,pt=C.options.shouldReload,At=typeof pt=="function"?pt(Pt()):pt;u(W,X=>({...X,loaderPromise:Al(),preload:!!B&&!this.state.matches.find(ht=>ht.id===W)}));const V=async()=>{var X,ht,vt,dt,Vt,Tt,Ft,Pe,ze,cn,Sn;try{const Oe=async()=>{const _e=this.getMatch(W);_e.minPendingPromise&&await _e.minPendingPromise};try{this.loadRouteChunk(C),u(W,je=>({...je,isFetching:"loader"}));const _e=await((ht=(X=C.options).loader)==null?void 0:ht.call(X,Pt()));b(this.getMatch(W),_e),await C._lazyPromise,await Oe();const Ne={matches:r,match:this.getMatch(W),params:this.getMatch(W).params,loaderData:_e},$t=(dt=(vt=C.options).head)==null?void 0:dt.call(vt,Ne),rr=$t==null?void 0:$t.meta,$e=$t==null?void 0:$t.links,ir=$t==null?void 0:$t.scripts,qt=(Tt=(Vt=C.options).scripts)==null?void 0:Tt.call(Vt,Ne),Ut=(Pe=(Ft=C.options).headers)==null?void 0:Pe.call(Ft,{loaderData:_e});await C._componentsPromise,u(W,je=>({...je,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:_e,meta:rr,links:$e,headScripts:ir,headers:Ut,scripts:qt}))}catch(_e){let Ne=_e;await Oe(),b(this.getMatch(W),_e);try{(cn=(ze=C.options).onError)==null||cn.call(ze,_e)}catch($t){Ne=$t,b(this.getMatch(W),$t)}u(W,$t=>({...$t,error:Ne,status:"error",isFetching:!1}))}(Sn=this.serverSsr)==null||Sn.onMatchSettled({router:this,match:this.getMatch(W)})}catch(Oe){u(W,_e=>({..._e,loaderPromise:void 0})),b(this.getMatch(W),Oe)}},{status:q,invalid:ot}=this.getMatch(W);D=q==="success"&&(ot||(At??_t>rt)),B&&C.options.preload===!1||(D&&!d?(P=!0,(async()=>{try{await V();const{loaderPromise:X,loadPromise:ht}=this.getMatch(W);X==null||X.resolve(),ht==null||ht.resolve(),u(W,vt=>({...vt,loaderPromise:void 0}))}catch(X){xg(X)&&await this.navigate(X)}})()):(q!=="success"||D&&d)&&await V())}if(!P){const{loaderPromise:N,loadPromise:C}=this.getMatch(W);N==null||N.resolve(),C==null||C.resolve()}return u(W,N=>({...N,isFetching:P?N.isFetching:!1,loaderPromise:P?N.loaderPromise:void 0,invalid:!1})),this.getMatch(W)})())}),await Promise.all(et),R()}catch(K){O(K)}})()}),await y()}catch(R){if(Ya(R)||Or(R))throw Or(R)&&!a&&await y(),R}return r},this.invalidate=e=>{const r=a=>{var l;return((l=e==null?void 0:e.filter)==null?void 0:l.call(e,a))??!0?{...a,invalid:!0,...a.status==="error"?{status:"pending",error:void 0}:{}}:a};return this.__store.setState(a=>{var l;return{...a,matches:a.matches.map(r),cachedMatches:a.cachedMatches.map(r),pendingMatches:(l=a.pendingMatches)==null?void 0:l.map(r)}}),this.load({sync:e==null?void 0:e.sync})},this.resolveRedirect=e=>{const r=e;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=e=>{const r=e==null?void 0:e.filter;r!==void 0?this.__store.setState(a=>({...a,cachedMatches:a.cachedMatches.filter(l=>!r(l))})):this.__store.setState(a=>({...a,cachedMatches:[]}))},this.clearExpiredCache=()=>{const e=r=>{const a=this.looseRoutesById[r.routeId];if(!a.options.loader)return!0;const l=(r.preload?a.options.preloadGcTime??this.options.defaultPreloadGcTime:a.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<l)};this.clearCache({filter:e})},this.loadRouteChunk=e=>(e._lazyPromise===void 0&&(e.lazyFn?e._lazyPromise=e.lazyFn().then(r=>{const{id:a,...l}=r.options;Object.assign(e.options,l)}):e._lazyPromise=Promise.resolve()),e._componentsPromise===void 0&&(e._componentsPromise=e._lazyPromise.then(()=>Promise.all(uS.map(async r=>{const a=e.options[r];a!=null&&a.preload&&await a.preload()})))),e._componentsPromise),this.preloadRoute=async e=>{const r=this.buildLocation(e);let a=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:e});const l=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(d=>d.id)),u=new Set([...l,...this.state.cachedMatches.map(d=>d.id)]);Cg(()=>{a.forEach(d=>{u.has(d.id)||this.__store.setState(m=>({...m,cachedMatches:[...m.cachedMatches,d]}))})});try{return a=await this.loadMatches({matches:a,location:r,preload:!0,updateMatch:(d,m)=>{l.has(d)?a=a.map(p=>p.id===d?m(p):p):this.updateMatch(d,m)}}),a}catch(d){if(Ya(d))return d.reloadDocument?void 0:await this.preloadRoute({...d,_fromLocation:r});Or(d)||console.error(d);return}},this.matchRoute=(e,r)=>{const a={...e,to:e.to?this.resolvePathWithBase(e.from||"",e.to):void 0,params:e.params||{},leaveParams:!0},l=this.buildLocation(a);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const d=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,m=Gd(this.basepath,d.pathname,{...r,to:l.pathname});return!m||e.params&&!Vl(m,e.params,{partial:!0})?!1:m&&((r==null?void 0:r.includeSearch)??!0)?Vl(d.search,l.search,{partial:!0})?m:!1:m},this._handleNotFound=(e,r,{updateMatch:a=this.updateMatch}={})=>{var l;const u=this.routesById[r.routeId??""]??this.routeTree,d={};for(const p of e)d[p.routeId]=p;!u.options.notFoundComponent&&((l=this.options)!=null&&l.defaultNotFoundComponent)&&(u.options.notFoundComponent=this.options.defaultNotFoundComponent),es(u.options.notFoundComponent);const m=d[u.id];es(m,"Could not find match for route: "+u.id),a(m.id,p=>({...p,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&u.parentRoute&&(r.routeId=u.parentRoute.id,this._handleNotFound(e,r,{updateMatch:a}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(e=>e.status==="notFound"||e.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??CD,parseSearch:t.parseSearch??RD}),typeof document<"u"&&(window.__TSR_ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(t,e){const{foundRoute:r,matchedRoutes:a,routeParams:l}=this.getMatchedRoutes(t,e==null?void 0:e.dest);let u=!1;(r?r.path!=="/"&&l["**"]:ro(t.pathname))&&(this.options.notFoundRoute?a.push(this.options.notFoundRoute):u=!0);const d=(()=>{if(u){if(this.options.notFoundMode!=="root")for(let _=a.length-1;_>=0;_--){const b=a[_];if(b.children)return b.id}return Gr}})(),m=a.map(_=>{var b;let R;const O=((b=_.options.params)==null?void 0:b.parse)??_.options.parseParams;if(O)try{const L=O(l);Object.assign(l,L)}catch(L){if(R=new OD(L.message,{cause:L}),e!=null&&e.throwOnError)throw R;return R}}),p=[],y=_=>(_==null?void 0:_.id)?_.context??this.options.context??{}:this.options.context??{};return a.forEach((_,b)=>{var R,O;const L=p[b-1],[k,Y,Z]=(()=>{const C=(L==null?void 0:L.search)??t.search,Pt=(L==null?void 0:L._strictSearch)??{};try{const _t=Pg(_.options.validateSearch,{...C})??{};return[{...C,..._t},{...Pt,..._t},void 0]}catch(_t){let B=_t;if(_t instanceof Af||(B=new Af(_t.message,{cause:_t})),e!=null&&e.throwOnError)throw B;return[C,{},B]}})(),K=((O=(R=_.options).loaderDeps)==null?void 0:O.call(R,{search:k}))??"",st=K?JSON.stringify(K):"",{usedParams:et,interpolatedPath:W}=Hd({path:_.fullPath,params:l,decodeCharMap:this.pathParamsDecodeCharMap}),x=Hd({path:_.id,params:l,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+st,w=this.getMatch(x),S=this.state.matches.find(C=>C.routeId===_.id),D=S?"stay":"enter";let P;if(w)P={...w,cause:D,params:S?xr(S.params,l):l,_strictParams:et,search:xr(S?S.search:w.search,k),_strictSearch:Y};else{const C=_.options.loader||_.options.beforeLoad||_.lazyFn||BT(_)?"pending":"success";P={id:x,index:b,routeId:_.id,params:S?xr(S.params,l):l,_strictParams:et,pathname:os([this.basepath,W]),updatedAt:Date.now(),search:S?xr(S.search,k):k,_strictSearch:Y,searchError:void 0,status:C,isFetching:!1,error:void 0,paramsError:m[b],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:D,loaderDeps:S?xr(S.loaderDeps,K):K,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:_.options.staticData||{},loadPromise:Al(),fullPath:_.fullPath}}e!=null&&e.preload||(P.globalNotFound=d===_.id),P.searchError=Z;const N=y(L);P.context={...N,...P.__routeContext,...P.__beforeLoadContext},p.push(P)}),p.forEach((_,b)=>{var R,O,L,k,Y,Z,K,st;const et=this.looseRoutesById[_.routeId];if(!this.getMatch(_.id)&&(e==null?void 0:e._buildLocation)!==!0){const x=p[b-1],w=y(x),S={deps:_.loaderDeps,params:_.params,context:w,location:t,navigate:D=>this.navigate({...D,_fromLocation:t}),buildLocation:this.buildLocation,cause:_.cause,abortController:_.abortController,preload:!!_.preload,matches:p};_.__routeContext=((O=(R=et.options).context)==null?void 0:O.call(R,S))??{},_.context={...w,..._.__routeContext,..._.__beforeLoadContext}}if(_.status==="success"){_.headers=(k=(L=et.options).headers)==null?void 0:k.call(L,{loaderData:_.loaderData});const x={matches:p,match:_,params:_.params,loaderData:_.loaderData},w=(Z=(Y=et.options).head)==null?void 0:Z.call(Y,x);_.links=w==null?void 0:w.links,_.headScripts=w==null?void 0:w.scripts,_.meta=w==null?void 0:w.meta,_.scripts=(st=(K=et.options).scripts)==null?void 0:st.call(K,x)}}),p}}class Af extends Error{}class OD extends Error{}function ND(n){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:n,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Pg(n,t){if(n==null)return{};if("~standard"in n){const e=n["~standard"].validate(t);if(e instanceof Promise)throw new Af("Async validation not supported");if(e.issues)throw new Af(JSON.stringify(e.issues,void 0,2),{cause:e});return e.value}return"parse"in n?n.parse(t):typeof n=="function"?n(t):{}}const uS=["component","errorComponent","pendingComponent","notFoundComponent"];function BT(n){var t;for(const e of uS)if((t=n.options[e])!=null&&t.preload)return!0;return!1}const MD="Error preloading route! ";class cS{constructor(t){if(this.init=e=>{var r,a;this.originalIndex=e.originalIndex;const l=this.options,u=!(l!=null&&l.path)&&!(l!=null&&l.id);if(this.parentRoute=(a=(r=this.options).getParentRoute)==null?void 0:a.call(r),u)this._path=Gr;else if(!this.parentRoute)throw new Error("Child Route instances must pass a 'getParentRoute: () => ParentRoute' option that returns a Route instance.");let d=u?Gr:l==null?void 0:l.path;d&&d!=="/"&&(d=Hy(d));const m=(l==null?void 0:l.id)||d;let p=u?Gr:os([this.parentRoute.id===Gr?"":this.parentRoute.id,m]);d===Gr&&(d="/"),p!==Gr&&(p=os(["/",p]));const y=p===Gr?"/":os([this.parentRoute.fullPath,d]);this._path=d,this._id=p,this._fullPath=y,this._to=y,this._ssr=(l==null?void 0:l.ssr)??e.defaultSsr??!0},this.addChildren=e=>this._addFileChildren(e),this._addFileChildren=e=>(Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this),this._addFileTypes=()=>this,this.updateLoader=e=>(Object.assign(this.options,e),this),this.update=e=>(Object.assign(this.options,e),this),this.lazy=e=>(this.lazyFn=e,this),this.options=t||{},this.isRoot=!(t!=null&&t.getParentRoute),t!=null&&t.id&&(t!=null&&t.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}}class VD extends cS{constructor(t){super(t)}}function Gy(n){const t=n.errorComponent??Xf;return ut.jsx(kD,{getResetKey:n.getResetKey,onCatch:n.onCatch,children:({error:e,reset:r})=>e?Et.createElement(t,{error:e,reset:r}):n.children})}class kD extends Et.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,e){e.error&&e.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,e){this.props.onCatch&&this.props.onCatch(t,e)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Xf({error:n}){const[t,e]=Et.useState(!1);return ut.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[ut.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[ut.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),ut.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>e(r=>!r),children:t?"Hide Error":"Show Error"})]}),ut.jsx("div",{style:{height:".25rem"}}),t?ut.jsx("div",{children:ut.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:n.message?ut.jsx("code",{children:n.message}):null})}):null]})}function LD({children:n,fallback:t=null}){return UD()?ut.jsx(ft.Fragment,{children:n}):ut.jsx(ft.Fragment,{children:t})}function UD(){return ft.useSyncExternalStore(BD,()=>!0,()=>!1)}function BD(){return()=>{}}var Og={exports:{}},Ng={},Mg={exports:{}},Vg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function FD(){if(FT)return Vg;FT=1;var n=ih();function t(_,b){return _===b&&(_!==0||1/_===1/b)||_!==_&&b!==b}var e=typeof Object.is=="function"?Object.is:t,r=n.useState,a=n.useEffect,l=n.useLayoutEffect,u=n.useDebugValue;function d(_,b){var R=b(),O=r({inst:{value:R,getSnapshot:b}}),L=O[0].inst,k=O[1];return l(function(){L.value=R,L.getSnapshot=b,m(L)&&k({inst:L})},[_,R,b]),a(function(){return m(L)&&k({inst:L}),_(function(){m(L)&&k({inst:L})})},[_]),u(R),R}function m(_){var b=_.getSnapshot;_=_.value;try{var R=b();return!e(_,R)}catch{return!0}}function p(_,b){return b()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return Vg.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,Vg}var zT;function zD(){return zT||(zT=1,Mg.exports=FD()),Mg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT;function jD(){if(jT)return Ng;jT=1;var n=ih(),t=zD();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var r=typeof Object.is=="function"?Object.is:e,a=t.useSyncExternalStore,l=n.useRef,u=n.useEffect,d=n.useMemo,m=n.useDebugValue;return Ng.useSyncExternalStoreWithSelector=function(p,y,_,b,R){var O=l(null);if(O.current===null){var L={hasValue:!1,value:null};O.current=L}else L=O.current;O=d(function(){function Y(W){if(!Z){if(Z=!0,K=W,W=b(W),R!==void 0&&L.hasValue){var x=L.value;if(R(x,W))return st=x}return st=W}if(x=st,r(K,W))return x;var w=b(W);return R!==void 0&&R(x,w)?(K=W,x):(K=W,st=w)}var Z=!1,K,st,et=_===void 0?null:_;return[function(){return Y(y())},et===null?void 0:function(){return Y(et())}]},[y,_,b,R]);var k=a(p,O[0],O[1]);return u(function(){L.hasValue=!0,L.value=k},[k]),m(k),k},Ng}var qT;function qD(){return qT||(qT=1,Og.exports=jD()),Og.exports}var HD=qD();function GD(n,t=e=>e){return HD.useSyncExternalStoreWithSelector(n.subscribe,()=>n.state,()=>n.state,t,KD)}function KD(n,t){if(Object.is(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;if(n instanceof Map&&t instanceof Map){if(n.size!==t.size)return!1;for(const[r,a]of n)if(!t.has(r)||!Object.is(a,t.get(r)))return!1;return!0}if(n instanceof Set&&t instanceof Set){if(n.size!==t.size)return!1;for(const r of n)if(!t.has(r))return!1;return!0}const e=Object.keys(n);if(e.length!==Object.keys(t).length)return!1;for(let r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(t,e[r])||!Object.is(n[e[r]],t[e[r]]))return!1;return!0}const kg=Et.createContext(null);function hS(){return typeof document>"u"?kg:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=kg,kg)}function Ti(n){const t=Et.useContext(hS());return n==null||n.warn,t}function Nn(n){const t=Ti({warn:(n==null?void 0:n.router)===void 0}),e=(n==null?void 0:n.router)||t,r=Et.useRef(void 0);return GD(e.__store,a=>{if(n!=null&&n.select){if(n.structuralSharing??e.options.defaultStructuralSharing){const l=xr(r.current,n.select(a));return r.current=l,l}return n.select(a)}return a})}const Wf=Et.createContext(void 0),QD=Et.createContext(void 0);function oa(n){const t=Et.useContext(n.from?QD:Wf);return Nn({select:r=>{const a=r.matches.find(l=>n.from?n.from===l.routeId:l.id===t);if(es(!((n.shouldThrow??!0)&&!a),`Could not find ${n.from?`an active match from "${n.from}"`:"a nearest match!"}`),a!==void 0)return n.select?n.select(a):a},structuralSharing:n.structuralSharing})}function dS(n){return oa({from:n.from,strict:n.strict,structuralSharing:n.structuralSharing,select:t=>n.select?n.select(t.loaderData):t.loaderData})}function fS(n){const{select:t,...e}=n;return oa({...e,select:r=>t?t(r.loaderDeps):r.loaderDeps})}function mS(n){return oa({from:n.from,strict:n.strict,shouldThrow:n.shouldThrow,structuralSharing:n.structuralSharing,select:t=>n.select?n.select(t.params):t.params})}function pS(n){return oa({from:n.from,strict:n.strict,shouldThrow:n.shouldThrow,structuralSharing:n.structuralSharing,select:t=>n.select?n.select(t.search):t.search})}function gS(n){const{navigate:t}=Ti();return Et.useCallback(e=>t({from:n==null?void 0:n.from,...e}),[n==null?void 0:n.from,t])}let $D=class extends cS{constructor(t){super(t),this.useMatch=e=>oa({select:e==null?void 0:e.select,from:this.id,structuralSharing:e==null?void 0:e.structuralSharing}),this.useRouteContext=e=>oa({...e,from:this.id,select:r=>e!=null&&e.select?e.select(r.context):r.context}),this.useSearch=e=>pS({select:e==null?void 0:e.select,structuralSharing:e==null?void 0:e.structuralSharing,from:this.id}),this.useParams=e=>mS({select:e==null?void 0:e.select,structuralSharing:e==null?void 0:e.structuralSharing,from:this.id}),this.useLoaderDeps=e=>fS({...e,from:this.id}),this.useLoaderData=e=>dS({...e,from:this.id}),this.useNavigate=()=>gS({from:this.fullPath}),this.$$typeof=Symbol.for("react.memo")}};function YD(n){return new $D(n)}function XD(){return n=>JD(n)}class WD extends VD{constructor(t){super(t),this.useMatch=e=>oa({select:e==null?void 0:e.select,from:this.id,structuralSharing:e==null?void 0:e.structuralSharing}),this.useRouteContext=e=>oa({...e,from:this.id,select:r=>e!=null&&e.select?e.select(r.context):r.context}),this.useSearch=e=>pS({select:e==null?void 0:e.select,structuralSharing:e==null?void 0:e.structuralSharing,from:this.id}),this.useParams=e=>mS({select:e==null?void 0:e.select,structuralSharing:e==null?void 0:e.structuralSharing,from:this.id}),this.useLoaderDeps=e=>fS({...e,from:this.id}),this.useLoaderData=e=>dS({...e,from:this.id}),this.useNavigate=()=>gS({from:this.fullPath}),this.$$typeof=Symbol.for("react.memo")}}function JD(n){return new WD(n)}function wn(n){return new ZD(n,{silent:!0}).createRoute}class ZD{constructor(t,e){this.path=t,this.createRoute=r=>{this.silent;const a=YD(r);return a.isRoot=!1,a},this.silent=e==null?void 0:e.silent}}function tx(n){const t=Nn({select:e=>`not-found-${e.location.pathname}-${e.status}`});return ut.jsx(Gy,{getResetKey:()=>t,onCatch:(e,r)=>{var a;if(Or(e))(a=n.onCatch)==null||a.call(n,e,r);else throw e},errorComponent:({error:e})=>{var r;if(Or(e))return(r=n.fallback)==null?void 0:r.call(n,e);throw e},children:n.children})}function ex(){return ut.jsx("p",{children:"Not Found"})}function rf(n){return ut.jsx(ut.Fragment,{children:n.children})}function yS(n,t,e){return t.options.notFoundComponent?ut.jsx(t.options.notFoundComponent,{data:e}):n.options.defaultNotFoundComponent?ut.jsx(n.options.defaultNotFoundComponent,{data:e}):ut.jsx(ex,{})}var Lg,HT;function nx(){if(HT)return Lg;HT=1;const n={},t=n.hasOwnProperty,e=(w,S)=>{for(const D in w)t.call(w,D)&&S(D,w[D])},r=(w,S)=>(S&&e(S,(D,P)=>{w[D]=P}),w),a=(w,S)=>{const D=w.length;let P=-1;for(;++P<D;)S(w[P])},l=w=>"\\u"+("0000"+w).slice(-4),u=(w,S)=>{let D=w.toString(16);return S?D:D.toUpperCase()},d=n.toString,m=Array.isArray,p=w=>typeof Buffer=="function"&&Buffer.isBuffer(w),y=w=>d.call(w)=="[object Object]",_=w=>typeof w=="string"||d.call(w)=="[object String]",b=w=>typeof w=="number"||d.call(w)=="[object Number]",R=w=>typeof w=="bigint",O=w=>typeof w=="function",L=w=>d.call(w)=="[object Map]",k=w=>d.call(w)=="[object Set]",Y={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},Z=/[\\\b\f\n\r\t]/,K=/[0-9]/,st=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,et=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,W=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,x=(w,S)=>{const D=()=>{rt=B,++S.indentLevel,B=S.indent.repeat(S.indentLevel)},P={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},N=S&&S.json;N&&(P.quotes="double",P.wrap=!0),S=r(P,S),S.quotes!="single"&&S.quotes!="double"&&S.quotes!="backtick"&&(S.quotes="single");const C=S.quotes=="double"?'"':S.quotes=="backtick"?"`":"'",Pt=S.compact,_t=S.lowercaseHex;let B=S.indent.repeat(S.indentLevel),rt="";const pt=S.__inline1__,At=S.__inline2__,V=Pt?"":`
`;let q,ot=!0;const X=S.numbers=="binary",ht=S.numbers=="octal",vt=S.numbers=="decimal",dt=S.numbers=="hexadecimal";if(N&&w&&O(w.toJSON)&&(w=w.toJSON()),!_(w)){if(L(w))return w.size==0?"new Map()":(Pt||(S.__inline1__=!0,S.__inline2__=!1),"new Map("+x(Array.from(w),S)+")");if(k(w))return w.size==0?"new Set()":"new Set("+x(Array.from(w),S)+")";if(p(w))return w.length==0?"Buffer.from([])":"Buffer.from("+x(Array.from(w),S)+")";if(m(w))return q=[],S.wrap=!0,pt&&(S.__inline1__=!1,S.__inline2__=!0),At||D(),a(w,Tt=>{ot=!1,At&&(S.__inline2__=!1),q.push((Pt||At?"":B)+x(Tt,S))}),ot?"[]":At?"["+q.join(", ")+"]":"["+V+q.join(","+V)+V+(Pt?"":rt)+"]";if(b(w)||R(w)){if(N)return JSON.stringify(Number(w));let Tt;if(vt)Tt=String(w);else if(dt){let Ft=w.toString(16);_t||(Ft=Ft.toUpperCase()),Tt="0x"+Ft}else X?Tt="0b"+w.toString(2):ht&&(Tt="0o"+w.toString(8));return R(w)?Tt+"n":Tt}else return R(w)?N?JSON.stringify(Number(w)):w+"n":y(w)?(q=[],S.wrap=!0,D(),e(w,(Tt,Ft)=>{ot=!1,q.push((Pt?"":B)+x(Tt,S)+":"+(Pt?"":" ")+x(Ft,S))}),ot?"{}":"{"+V+q.join(","+V)+V+(Pt?"":rt)+"}"):N?JSON.stringify(w)||"null":String(w)}const Vt=S.escapeEverything?et:W;return q=w.replace(Vt,(Tt,Ft,Pe,ze,cn,Sn)=>{if(Ft){if(S.minimal)return Ft;const _e=Ft.charCodeAt(0),Ne=Ft.charCodeAt(1);if(S.es6){const $t=(_e-55296)*1024+Ne-56320+65536;return"\\u{"+u($t,_t)+"}"}return l(u(_e,_t))+l(u(Ne,_t))}if(Pe)return l(u(Pe.charCodeAt(0),_t));if(Tt=="\0"&&!N&&!K.test(Sn.charAt(cn+1)))return"\\0";if(ze)return ze==C||S.escapeEverything?"\\"+ze:ze;if(Z.test(Tt))return Y[Tt];if(S.minimal&&!st.test(Tt))return Tt;const Oe=u(Tt.charCodeAt(0),_t);return N||Oe.length>2?l(Oe):"\\x"+("00"+Oe).slice(-2)}),C=="`"&&(q=q.replace(/\$\{/g,"\\${")),S.isScriptContext&&(q=q.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,N?"\\u003C!--":"\\x3C!--")),S.wrap&&(q=C+q+C),q};return x.version="3.0.2",Lg=x,Lg}nx();function rx({children:n,log:t}){return typeof document<"u"?null:ut.jsx("script",{className:"tsr-once",dangerouslySetInnerHTML:{__html:[n,"",'if (typeof __TSR_SSR__ !== "undefined") __TSR_SSR__.cleanScripts()'].filter(Boolean).join(`
`)}})}function ix(){const n=Ti(),e=(n.options.getScrollRestorationKey||iy)(n.latestLocation),r=e!==iy(n.latestLocation)?e:null;return!n.isScrollRestoring||!n.isServer?null:ut.jsx(rx,{children:`(${lS.toString()})(${JSON.stringify(wf)},${JSON.stringify(r)}, undefined, true)`,log:!1})}const _S=Et.memo(function({matchId:t}){var e,r;const a=Ti(),l=Nn({select:Y=>{var Z;return(Z=Y.matches.find(K=>K.id===t))==null?void 0:Z.routeId}});es(l);const u=a.routesById[l],d=u.options.pendingComponent??a.options.defaultPendingComponent,m=d?ut.jsx(d,{}):null,p=u.options.errorComponent??a.options.defaultErrorComponent,y=u.options.onCatch??a.options.defaultOnCatch,_=u.isRoot?u.options.notFoundComponent??((e=a.options.notFoundRoute)==null?void 0:e.options.component):u.options.notFoundComponent,b=(!u.isRoot||u.options.wrapInSuspense)&&(u.options.wrapInSuspense??d??((r=u.options.errorComponent)==null?void 0:r.preload))?Et.Suspense:rf,R=p?Gy:rf,O=_?tx:rf,L=Nn({select:Y=>Y.loadedAt}),k=Nn({select:Y=>{var Z;const K=Y.matches.findIndex(st=>st.id===t);return(Z=Y.matches[K-1])==null?void 0:Z.routeId}});return ut.jsxs(ut.Fragment,{children:[ut.jsx(Wf.Provider,{value:t,children:ut.jsx(b,{fallback:m,children:ut.jsx(R,{getResetKey:()=>L,errorComponent:p||Xf,onCatch:(Y,Z)=>{if(Or(Y))throw Y;y==null||y(Y,Z)},children:ut.jsx(O,{fallback:Y=>{if(!_||Y.routeId&&Y.routeId!==l||!Y.routeId&&!u.isRoot)throw Y;return Et.createElement(_,Y)},children:ut.jsx(ax,{matchId:t})})})})}),k===Gr&&a.options.scrollRestoration?ut.jsxs(ut.Fragment,{children:[ut.jsx(sx,{}),ut.jsx(ix,{})]}):null]})});function sx(){const n=Ti(),t=Et.useRef(void 0);return ut.jsx("script",{suppressHydrationWarning:!0,ref:e=>{e&&(t.current===void 0||t.current.href!==n.latestLocation.href)&&(n.emit({type:"onRendered",...co(n.state)}),t.current=n.latestLocation)}},n.latestLocation.state.key)}const ax=Et.memo(function({matchId:t}){var e,r,a;const l=Ti(),{match:u,key:d,routeId:m}=Nn({select:b=>{const R=b.matches.findIndex(K=>K.id===t),O=b.matches[R],L=O.routeId,k=l.routesById[L].options.remountDeps??l.options.defaultRemountDeps,Y=k==null?void 0:k({routeId:L,loaderDeps:O.loaderDeps,params:O._strictParams,search:O._strictSearch});return{key:Y?JSON.stringify(Y):void 0,routeId:L,match:ry(O,["id","status","error"])}},structuralSharing:!0}),p=l.routesById[m],y=Et.useMemo(()=>{const b=p.options.component??l.options.defaultComponent;return b?ut.jsx(b,{},d):ut.jsx(Ky,{})},[d,p.options.component,l.options.defaultComponent]),_=(p.options.errorComponent??l.options.defaultErrorComponent)||Xf;if(u.status==="notFound")return es(Or(u.error)),yS(l,p,u.error);if(u.status==="redirected")throw es(Ya(u.error)),(e=l.getMatch(u.id))==null?void 0:e.loadPromise;if(u.status==="error"){if(l.isServer)return ut.jsx(_,{error:u.error,reset:void 0,info:{componentStack:""}});throw u.error}if(u.status==="pending"){const b=p.options.pendingMinMs??l.options.defaultPendingMinMs;if(b&&!((r=l.getMatch(u.id))!=null&&r.minPendingPromise)&&!l.isServer){const R=Al();Promise.resolve().then(()=>{l.updateMatch(u.id,O=>({...O,minPendingPromise:R}))}),setTimeout(()=>{R.resolve(),l.updateMatch(u.id,O=>({...O,minPendingPromise:void 0}))},b)}throw(a=l.getMatch(u.id))==null?void 0:a.loadPromise}return y}),Ky=Et.memo(function(){const t=Ti(),e=Et.useContext(Wf),r=Nn({select:p=>{var y;return(y=p.matches.find(_=>_.id===e))==null?void 0:y.routeId}}),a=t.routesById[r],l=Nn({select:p=>{const _=p.matches.find(b=>b.id===e);return es(_),_.globalNotFound}}),u=Nn({select:p=>{var y;const _=p.matches,b=_.findIndex(R=>R.id===e);return(y=_[b+1])==null?void 0:y.id}});if(l)return yS(t,a,void 0);if(!u)return null;const d=ut.jsx(_S,{matchId:u}),m=t.options.defaultPendingComponent?ut.jsx(t.options.defaultPendingComponent,{}):null;return e===Gr?ut.jsx(Et.Suspense,{fallback:m,children:d}):d});function ox(n){return typeof(n==null?void 0:n.message)!="string"?!1:n.message.startsWith("Failed to fetch dynamically imported module")||n.message.startsWith("error loading dynamically imported module")||n.message.startsWith("Importing a module script failed")}function an(n,t,e){let r,a,l,u;const d=()=>typeof document>"u"&&(e==null?void 0:e())===!1?(a=()=>null,Promise.resolve()):(r||(r=n().then(p=>{r=void 0,a=p[t??"default"]}).catch(p=>{if(l=p,ox(l)&&l instanceof Error&&typeof window<"u"&&typeof sessionStorage<"u"){const y=`tanstack_router_reload:${l.message}`;sessionStorage.getItem(y)||(sessionStorage.setItem(y,"1"),u=!0)}})),r),m=function(y){if(u)throw window.location.reload(),new Promise(()=>{});if(l)throw l;if(!a)throw d();return(e==null?void 0:e())===!1?ut.jsx(LD,{fallback:ut.jsx(Ky,{}),children:Et.createElement(a,y)}):Et.createElement(a,y)};return m.preload=d,m}var vS=Yw();const lx=Fy(vS),wc=typeof window<"u"?Et.useLayoutEffect:Et.useEffect;function Ug(n){const t=Et.useRef({value:n,prev:null}),e=t.current.value;return n!==e&&(t.current={value:n,prev:e}),t.current.prev}function ux(n,t,e={},r={}){const a=Et.useRef(typeof IntersectionObserver=="function"),l=Et.useRef(null);return Et.useEffect(()=>{if(!(!n.current||!a.current||r.disabled))return l.current=new IntersectionObserver(([u])=>{t(u)},e),l.current.observe(n.current),()=>{var u;(u=l.current)==null||u.disconnect()}},[t,e,r.disabled,n]),l.current}function cx(n){const t=Et.useRef(null);return Et.useImperativeHandle(n,()=>t.current,[]),t}function hx(){const n=Ti(),t=Et.useRef({router:n,mounted:!1}),e=Nn({select:({isLoading:_})=>_}),[r,a]=Et.useState(!1),l=Nn({select:_=>_.matches.some(b=>b.status==="pending"),structuralSharing:!0}),u=Ug(e),d=e||r||l,m=Ug(d),p=e||l,y=Ug(p);return n.isServer||(n.startTransition=_=>{a(!0),Et.startTransition(()=>{_(),a(!1)})}),Et.useEffect(()=>{const _=n.history.subscribe(n.load),b=n.buildLocation({to:n.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return ro(n.latestLocation.href)!==ro(b.href)&&n.commitLocation({...b,replace:!0}),()=>{_()}},[n,n.history]),wc(()=>{if(typeof window<"u"&&n.clientSsr||t.current.router===n&&t.current.mounted)return;t.current={router:n,mounted:!0},(async()=>{try{await n.load()}catch(b){console.error(b)}})()},[n]),wc(()=>{u&&!e&&n.emit({type:"onLoad",...co(n.state)})},[u,n,e]),wc(()=>{y&&!p&&n.emit({type:"onBeforeRouteMount",...co(n.state)})},[p,y,n]),wc(()=>{m&&!d&&(n.emit({type:"onResolved",...co(n.state)}),n.__store.setState(_=>({..._,status:"idle",resolvedLocation:_.location})),SD(n))},[d,m,n]),null}function dx(){const n=Ti(),t=n.options.defaultPendingComponent?ut.jsx(n.options.defaultPendingComponent,{}):null,e=n.isServer||typeof document<"u"&&n.clientSsr?rf:Et.Suspense,r=ut.jsxs(e,{fallback:t,children:[ut.jsx(hx,{}),ut.jsx(fx,{})]});return n.options.InnerWrap?ut.jsx(n.options.InnerWrap,{children:r}):r}function fx(){const n=Nn({select:e=>{var r;return(r=e.matches[0])==null?void 0:r.id}}),t=Nn({select:e=>e.loadedAt});return ut.jsx(Wf.Provider,{value:n,children:ut.jsx(Gy,{getResetKey:()=>t,errorComponent:Xf,onCatch:e=>{e.message||e.toString()},children:n?ut.jsx(_S,{matchId:n}):null})})}function mx(n){return Nn({select:t=>{const e=t.matches;return n!=null&&n.select?n.select(e):e},structuralSharing:n==null?void 0:n.structuralSharing})}function px(n,t){const e=Ti(),[r,a]=Et.useState(!1),l=Et.useRef(!1),u=cx(t),{activeProps:d=()=>({className:"active"}),inactiveProps:m=()=>({}),activeOptions:p,to:y,preload:_,preloadDelay:b,hashScrollIntoView:R,replace:O,startTransition:L,resetScroll:k,viewTransition:Y,children:Z,target:K,disabled:st,style:et,className:W,onClick:x,onFocus:w,onMouseEnter:S,onMouseLeave:D,onTouchStart:P,ignoreBlocker:N,...C}=n,{params:Pt,search:_t,hash:B,state:rt,mask:pt,reloadDocument:At,...V}=C,q=Et.useMemo(()=>{try{return new URL(`${y}`),"external"}catch{}return"internal"},[y]),ot=Nn({select:qt=>qt.location.search,structuralSharing:!0}),X=mx({select:qt=>{var Ut;return n.from??((Ut=qt[qt.length-1])==null?void 0:Ut.fullPath)}}),ht=Et.useMemo(()=>({...n,from:X}),[n,X]),vt=Et.useMemo(()=>e.buildLocation(ht),[e,ht,ot]),dt=Et.useMemo(()=>ht.reloadDocument?!1:_??e.options.defaultPreload,[e.options.defaultPreload,_,ht.reloadDocument]),Vt=b??e.options.defaultPreloadDelay??0,Tt=Nn({select:qt=>{if(p!=null&&p.exact){if(!yD(qt.location.pathname,vt.pathname,e.basepath))return!1}else{const Ut=Tf(qt.location.pathname,e.basepath).split("/");if(!Tf(vt.pathname,e.basepath).split("/").every((ds,le)=>ds===Ut[le]))return!1}return((p==null?void 0:p.includeSearch)??!0)&&!Vl(qt.location.search,vt.search,{partial:!(p!=null&&p.exact),ignoreUndefined:!(p!=null&&p.explicitUndefined)})?!1:p!=null&&p.includeHash?qt.location.hash===vt.hash:!0}}),Ft=Et.useCallback(()=>{e.preloadRoute(ht).catch(qt=>{console.warn(qt),console.warn(MD)})},[ht,e]),Pe=Et.useCallback(qt=>{qt!=null&&qt.isIntersecting&&Ft()},[Ft]);if(ux(u,Pe,{rootMargin:"100px"},{disabled:!!st||dt!=="viewport"}),wc(()=>{l.current||!st&&dt==="render"&&(Ft(),l.current=!0)},[st,Ft,dt]),q==="external")return{...V,ref:u,type:q,href:y,...Z&&{children:Z},...K&&{target:K},...st&&{disabled:st},...et&&{style:et},...W&&{className:W},...x&&{onClick:x},...w&&{onFocus:w},...S&&{onMouseEnter:S},...D&&{onMouseLeave:D},...P&&{onTouchStart:P}};const ze=qt=>{if(!st&&!yx(qt)&&!qt.defaultPrevented&&(!K||K==="_self")&&qt.button===0){qt.preventDefault(),vS.flushSync(()=>{a(!0)});const Ut=e.subscribe("onResolved",()=>{Ut(),a(!1)});return e.navigate({...ht,replace:O,resetScroll:k,hashScrollIntoView:R,startTransition:L,viewTransition:Y,ignoreBlocker:N})}},cn=qt=>{st||dt&&Ft()},Sn=cn,Oe=qt=>{if(st)return;const Ut=qt.target||{};if(dt){if(Ut.preloadTimeout)return;Ut.preloadTimeout=setTimeout(()=>{Ut.preloadTimeout=null,Ft()},Vt)}},_e=qt=>{if(st)return;const Ut=qt.target||{};Ut.preloadTimeout&&(clearTimeout(Ut.preloadTimeout),Ut.preloadTimeout=null)},Ne=qt=>Ut=>{var je;(je=Ut.persist)==null||je.call(Ut),qt.filter(Boolean).forEach(Qr=>{Ut.defaultPrevented||Qr(Ut)})},$t=Tt?no(d,{})??{}:{},rr=Tt?{}:no(m,{}),$e=[W,$t.className,rr.className].filter(Boolean).join(" "),ir={...et,...$t.style,...rr.style};return{...V,...$t,...rr,href:st?void 0:vt.maskedLocation?e.history.createHref(vt.maskedLocation.href):e.history.createHref(vt.href),ref:u,onClick:Ne([x,ze]),onFocus:Ne([w,cn]),onMouseEnter:Ne([S,Oe]),onMouseLeave:Ne([D,_e]),onTouchStart:Ne([P,Sn]),disabled:!!st,target:K,...Object.keys(ir).length&&{style:ir},...$e&&{className:$e},...st&&{role:"link","aria-disabled":!0},...Tt&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}const gx=Et.forwardRef((n,t)=>{const{_asChild:e,...r}=n,{type:a,ref:l,...u}=px(r,t),d=typeof r.children=="function"?r.children({isActive:u["data-status"]==="active"}):r.children;return typeof e>"u"&&delete u.disabled,Et.createElement(e||"a",{...u,ref:l},d)});function yx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const _x=n=>new vx(n);class vx extends PD{constructor(t){super(t)}}function Ex({router:n,children:t,...e}){n.update({...n.options,...e,context:{...n.options.context,...e.context}});const r=hS(),a=ut.jsx(r.Provider,{value:n,children:t});return n.options.Wrap?ut.jsx(n.options.Wrap,{children:a}):a}function Tx({router:n,...t}){return ut.jsx(Ex,{router:n,...t,children:ut.jsx(dx,{})})}var GT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},bx=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const a=n[e++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],u=n[e++],d=n[e++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=n[e++],u=n[e++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return t.join("")},TS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,d=u?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let b=(d&15)<<2|p>>6,R=p&63;m||(R=64,u||(b=64)),r.push(e[y],e[_],e[b],e[R])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(ES(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):bx(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],d=a<n.length?e[n.charAt(a)]:0;++a;const p=a<n.length?e[n.charAt(a)]:64;++a;const _=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new wx;const b=l<<2|d>>4;if(r.push(b),p!==64){const R=d<<4&240|p>>2;if(r.push(R),_!==64){const O=p<<6&192|_;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sx=function(n){const t=ES(n);return TS.encodeByteArray(t,!0)},If=function(n){return Sx(n).replace(/\./g,"")},bS=function(n){try{return TS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=()=>Ax().__FIREBASE_DEFAULTS__,Rx=()=>{if(typeof process>"u"||typeof GT>"u")return;const n=GT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Cx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&bS(n[1]);return t&&JSON.parse(t)},Jf=()=>{try{return Ix()||Rx()||Cx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},wS=n=>{var t,e;return(e=(t=Jf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},Dx=n=>{const t=wS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},SS=()=>{var n;return(n=Jf())===null||n===void 0?void 0:n.config},AS=n=>{var t;return(t=Jf())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[If(JSON.stringify(e)),If(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ox(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Nx(){var n;const t=(n=Jf())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Vx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function kx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lx(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function IS(){return!Nx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RS(){try{return typeof indexedDB=="object"}catch{return!1}}function Ux(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="FirebaseError";class bi extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=Bx,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sh.prototype.create)}}class sh{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],u=l?Fx(l,r):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new bi(a,d,r)}}function Fx(n,t){return n.replace(zx,(e,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const zx=/\{\$([^}]+)}/g;function jx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function zc(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const a of e){if(!r.includes(a))return!1;const l=n[a],u=t[a];if(KT(l)&&KT(u)){if(!zc(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!e.includes(a))return!1;return!0}function KT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function qx(n,t){const e=new Hx(n,t);return e.subscribe.bind(e)}class Hx{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let a;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");Gx(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:r},a.next===void 0&&(a.next=Bg),a.error===void 0&&(a.error=Bg),a.complete===void 0&&(a.complete=Bg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gx(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Bg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n){return n&&n._delegate?n._delegate:n}class la{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new xx;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($x(t))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=Xa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xa){return this.instances.has(t)}getOptions(t=Xa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&u.resolve(a)}return a}onInit(t,e){var r;const a=this.normalizeInstanceIdentifier(e),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&t(u,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const a of r)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Qx(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Xa){return this.component?this.component.multipleInstances?t:Xa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qx(n){return n===Xa?void 0:n}function $x(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Kx(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Yt||(Yt={}));const Xx={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},Wx=Yt.INFO,Jx={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},Zx=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),a=Jx[t];if(a)console[a](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qy{constructor(t){this.name=t,this._logLevel=Wx,this._logHandler=Zx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Yt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Xx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...t),this._logHandler(this,Yt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...t),this._logHandler(this,Yt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...t),this._logHandler(this,Yt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...t),this._logHandler(this,Yt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...t),this._logHandler(this,Yt.ERROR,...t)}}const t2=(n,t)=>t.some(e=>n instanceof e);let QT,$T;function e2(){return QT||(QT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n2(){return $T||($T=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CS=new WeakMap,sy=new WeakMap,DS=new WeakMap,Fg=new WeakMap,$y=new WeakMap;function r2(n){const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{e(ra(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&CS.set(e,n)}).catch(()=>{}),$y.set(t,n),t}function i2(n){if(sy.has(n))return;const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{e(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});sy.set(n,t)}let ay={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return sy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||DS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ra(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function s2(n){ay=n(ay)}function a2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(zg(this),t,...e);return DS.set(r,t.sort?t.sort():[t]),ra(r)}:n2().includes(n)?function(...t){return n.apply(zg(this),t),ra(CS.get(this))}:function(...t){return ra(n.apply(zg(this),t))}}function o2(n){return typeof n=="function"?a2(n):(n instanceof IDBTransaction&&i2(n),t2(n,e2())?new Proxy(n,ay):n)}function ra(n){if(n instanceof IDBRequest)return r2(n);if(Fg.has(n))return Fg.get(n);const t=o2(n);return t!==n&&(Fg.set(n,t),$y.set(t,n)),t}const zg=n=>$y.get(n);function l2(n,t,{blocked:e,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(n,t),d=ra(u);return r&&u.addEventListener("upgradeneeded",m=>{r(ra(u.result),m.oldVersion,m.newVersion,ra(u.transaction),m)}),e&&u.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const u2=["get","getKey","getAll","getAllKeys","count"],c2=["put","add","delete","clear"],jg=new Map;function YT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(jg.get(t))return jg.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,a=c2.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(a||u2.includes(e)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[e](...d),a&&m.done]))[0]};return jg.set(t,l),l}s2(n=>({...n,get:(t,e,r)=>YT(t,e)||n.get(t,e,r),has:(t,e)=>!!YT(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(d2(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function d2(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const oy="@firebase/app",XT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new Qy("@firebase/app"),f2="@firebase/app-compat",m2="@firebase/analytics-compat",p2="@firebase/analytics",g2="@firebase/app-check-compat",y2="@firebase/app-check",_2="@firebase/auth",v2="@firebase/auth-compat",E2="@firebase/database",T2="@firebase/data-connect",b2="@firebase/database-compat",w2="@firebase/functions",S2="@firebase/functions-compat",A2="@firebase/installations",I2="@firebase/installations-compat",R2="@firebase/messaging",C2="@firebase/messaging-compat",D2="@firebase/performance",x2="@firebase/performance-compat",P2="@firebase/remote-config",O2="@firebase/remote-config-compat",N2="@firebase/storage",M2="@firebase/storage-compat",V2="@firebase/firestore",k2="@firebase/vertexai-preview",L2="@firebase/firestore-compat",U2="firebase",B2="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="[DEFAULT]",F2={[oy]:"fire-core",[f2]:"fire-core-compat",[p2]:"fire-analytics",[m2]:"fire-analytics-compat",[y2]:"fire-app-check",[g2]:"fire-app-check-compat",[_2]:"fire-auth",[v2]:"fire-auth-compat",[E2]:"fire-rtdb",[T2]:"fire-data-connect",[b2]:"fire-rtdb-compat",[w2]:"fire-fn",[S2]:"fire-fn-compat",[A2]:"fire-iid",[I2]:"fire-iid-compat",[R2]:"fire-fcm",[C2]:"fire-fcm-compat",[D2]:"fire-perf",[x2]:"fire-perf-compat",[P2]:"fire-rc",[O2]:"fire-rc-compat",[N2]:"fire-gcs",[M2]:"fire-gcs-compat",[V2]:"fire-fst",[L2]:"fire-fst-compat",[k2]:"fire-vertex","fire-js":"fire-js",[U2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new Map,z2=new Map,uy=new Map;function WT(n,t){try{n.container.addComponent(t)}catch(e){ls.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function yo(n){const t=n.name;if(uy.has(t))return ls.debug(`There were multiple attempts to register component ${t}.`),!1;uy.set(t,n);for(const e of Rf.values())WT(e,n);for(const e of z2.values())WT(e,n);return!0}function Zf(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ns(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ia=new sh("app","Firebase",j2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=B2;function xS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r=Object.assign({name:ly,automaticDataCollectionEnabled:!1},t),a=r.name;if(typeof a!="string"||!a)throw ia.create("bad-app-name",{appName:String(a)});if(e||(e=SS()),!e)throw ia.create("no-options");const l=Rf.get(a);if(l){if(zc(e,l.options)&&zc(r,l.config))return l;throw ia.create("duplicate-app",{appName:a})}const u=new Yx(a);for(const m of uy.values())u.addComponent(m);const d=new q2(e,r,u);return Rf.set(a,d),d}function PS(n=ly){const t=Rf.get(n);if(!t&&n===ly&&SS())return xS();if(!t)throw ia.create("no-app",{appName:n});return t}function gi(n,t,e){var r;let a=(r=F2[n])!==null&&r!==void 0?r:n;e&&(a+=`-${e}`);const l=a.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ls.warn(d.join(" "));return}yo(new la(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="firebase-heartbeat-database",G2=1,jc="firebase-heartbeat-store";let qg=null;function OS(){return qg||(qg=l2(H2,G2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(jc)}catch(e){console.warn(e)}}}}).catch(n=>{throw ia.create("idb-open",{originalErrorMessage:n.message})})),qg}async function K2(n){try{const e=(await OS()).transaction(jc),r=await e.objectStore(jc).get(NS(n));return await e.done,r}catch(t){if(t instanceof bi)ls.warn(t.message);else{const e=ia.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ls.warn(e.message)}}}async function JT(n,t){try{const r=(await OS()).transaction(jc,"readwrite");await r.objectStore(jc).put(t,NS(n)),await r.done}catch(e){if(e instanceof bi)ls.warn(e.message);else{const r=ia.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ls.warn(r.message)}}}function NS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=1024,$2=30*24*60*60*1e3;class Y2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new W2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=ZT();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=$2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ls.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ZT(),{heartbeatsToSend:r,unsentEntries:a}=X2(this._heartbeatsCache.heartbeats),l=If(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ls.warn(e),""}}}function ZT(){return new Date().toISOString().substring(0,10)}function X2(n,t=Q2){const e=[];let r=n.slice();for(const a of n){const l=e.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),tb(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),tb(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class W2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RS()?Ux().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await K2(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return JT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return JT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function tb(n){return If(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(n){yo(new la("platform-logger",t=>new h2(t),"PRIVATE")),yo(new la("heartbeat",t=>new Y2(t),"PRIVATE")),gi(oy,XT,n),gi(oy,XT,"esm2017"),gi("fire-js","")}J2("");var eb=function(){return eb=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++){e=arguments[r];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t},eb.apply(this,arguments)};function Yy(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(e[r[a]]=n[r[a]]);return e}function YU(n,t,e){if(e||arguments.length===2)for(var r=0,a=t.length,l;r<a;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return n.concat(l||Array.prototype.slice.call(t))}function MS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z2=MS,VS=new sh("auth","Firebase",MS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new Qy("@firebase/auth");function tP(n,...t){Cf.logLevel<=Yt.WARN&&Cf.warn(`Auth (${Ro}): ${n}`,...t)}function sf(n,...t){Cf.logLevel<=Yt.ERROR&&Cf.error(`Auth (${Ro}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(n,...t){throw Wy(n,...t)}function Kr(n,...t){return Wy(n,...t)}function Xy(n,t,e){const r=Object.assign(Object.assign({},Z2()),{[t]:e});return new sh("auth","Firebase",r).create(t,{appName:n.name})}function ho(n){return Xy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eP(n,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&vi(n,"argument-error"),Xy(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wy(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return VS.create(n,...t)}function Mt(n,t,...e){if(!n)throw Wy(t,...e)}function rs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw sf(t),new Error(t)}function us(n,t){n||rs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function nP(){return nb()==="http:"||nb()==="https:"}function nb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nP()||Vx()||"connection"in navigator)?navigator.onLine:!0}function iP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,e){this.shortDelay=t,this.longDelay=e,us(e>t,"Short delay should be less than long delay!"),this.isMobile=Ox()||kx()}get(){return rP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(n,t){us(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=new oh(3e4,6e4);function Zy(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function uu(n,t,e,r,a={}){return LS(n,a,async()=>{let l={},u={};r&&(t==="GET"?u=r:l={body:JSON.stringify(r)});const d=ah(Object.assign({key:n.config.apiKey},u)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:t,headers:m},l);return Mx()||(p.referrerPolicy="no-referrer"),kS.fetch()(US(n,n.config.apiHost,e,d),p)})}async function LS(n,t,e){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},sP),t);try{const a=new lP(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Kd(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kd(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Kd(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw Kd(n,"user-disabled",u);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Xy(n,y,p);vi(n,y)}}catch(a){if(a instanceof bi)throw a;vi(n,"network-request-failed",{message:String(a)})}}async function oP(n,t,e,r,a={}){const l=await uu(n,t,e,r,a);return"mfaPendingCredential"in l&&vi(n,"multi-factor-auth-required",{_serverResponse:l}),l}function US(n,t,e,r){const a=`${t}${e}?${r}`;return n.config.emulator?Jy(n.config,a):`${n.config.apiScheme}://${a}`}class lP{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Kr(this.auth,"network-request-failed")),aP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kd(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const a=Kr(n,t,r);return a.customData._tokenResponse=e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(n,t){return uu(n,"POST","/v1/accounts:delete",t)}async function BS(n,t){return uu(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cP(n,t=!1){const e=xe(n),r=await e.getIdToken(t),a=t_(r);Mt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:xc(Hg(a.auth_time)),issuedAtTime:xc(Hg(a.iat)),expirationTime:xc(Hg(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Hg(n){return Number(n)*1e3}function t_(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return sf("JWT malformed, contained fewer than 3 sections"),null;try{const a=bS(e);return a?JSON.parse(a):(sf("Failed to decode base64 JWT payload"),null)}catch(a){return sf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function rb(n){const t=t_(n);return Mt(t,"internal-error"),Mt(typeof t.exp<"u","internal-error"),Mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof bi&&hP(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function hP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Df(n){var t;const e=n.auth,r=await n.getIdToken(),a=await qc(n,BS(e,{idToken:r}));Mt(a==null?void 0:a.users.length,e,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const u=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?FS(l.providerUserInfo):[],d=mP(n.providerData,u),m=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new hy(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function fP(n){const t=xe(n);await Df(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mP(n,t){return[...n.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function FS(n){return n.map(t=>{var{providerId:e}=t,r=Yy(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(n,t){const e=await LS(n,{},async()=>{const r=ah({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=US(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",kS.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function gP(n,t){return uu(n,"POST","/v2/accounts:revokeToken",Zy(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Mt(t.idToken,"internal-error"),Mt(typeof t.idToken<"u","internal-error"),Mt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):rb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Mt(t.length!==0,"internal-error");const e=rb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:a,expiresIn:l}=await pP(t,e);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:a,expirationTime:l}=e,u=new kl;return r&&(Mt(typeof r=="string","internal-error",{appName:t}),u.refreshToken=r),a&&(Mt(typeof a=="string","internal-error",{appName:t}),u.accessToken=a),l&&(Mt(typeof l=="number","internal-error",{appName:t}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(n,t){Mt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class is{constructor(t){var{uid:e,auth:r,stsTokenManager:a}=t,l=Yy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hy(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await qc(this,this.stsTokenManager.getToken(this.auth,t));return Mt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return cP(this,t)}reload(){return fP(this)}_assign(t){this!==t&&(Mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new is(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ns(this.auth.app))return Promise.reject(ho(this.auth));const t=await this.getIdToken();return await qc(this,uP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,a,l,u,d,m,p,y;const _=(r=e.displayName)!==null&&r!==void 0?r:void 0,b=(a=e.email)!==null&&a!==void 0?a:void 0,R=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,O=(u=e.photoURL)!==null&&u!==void 0?u:void 0,L=(d=e.tenantId)!==null&&d!==void 0?d:void 0,k=(m=e._redirectEventId)!==null&&m!==void 0?m:void 0,Y=(p=e.createdAt)!==null&&p!==void 0?p:void 0,Z=(y=e.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:K,emailVerified:st,isAnonymous:et,providerData:W,stsTokenManager:x}=e;Mt(K&&x,t,"internal-error");const w=kl.fromJSON(this.name,x);Mt(typeof K=="string",t,"internal-error"),Fs(_,t.name),Fs(b,t.name),Mt(typeof st=="boolean",t,"internal-error"),Mt(typeof et=="boolean",t,"internal-error"),Fs(R,t.name),Fs(O,t.name),Fs(L,t.name),Fs(k,t.name),Fs(Y,t.name),Fs(Z,t.name);const S=new is({uid:K,auth:t,email:b,emailVerified:st,displayName:_,isAnonymous:et,photoURL:O,phoneNumber:R,tenantId:L,stsTokenManager:w,createdAt:Y,lastLoginAt:Z});return W&&Array.isArray(W)&&(S.providerData=W.map(D=>Object.assign({},D))),k&&(S._redirectEventId=k),S}static async _fromIdTokenResponse(t,e,r=!1){const a=new kl;a.updateFromServerResponse(e);const l=new is({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Df(l),l}static async _fromGetAccountInfoResponse(t,e,r){const a=e.users[0];Mt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?FS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new kl;d.updateFromIdToken(r);const m=new is({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new hy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Map;function ss(n){us(n instanceof Function,"Expected a class definition");let t=ib.get(n);return t?(us(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,ib.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}zS.type="NONE";const sb=zS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(n,t,e){return`firebase:${n}:${t}:${e}`}class Ll{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=af(this.userKey,a.apiKey,l),this.fullPersistenceKey=af("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?is._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Ll(ss(sb),t,r);const a=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ss(sb);const u=af(r,t.config.apiKey,t.name);let d=null;for(const p of e)try{const y=await p._get(u);if(y){const _=is._fromJSON(t,y);p!==l&&(d=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Ll(l,t,r):(l=m[0],d&&await l._set(u,d.toJSON()),await Promise.all(e.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Ll(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(GS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(jS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(QS(t))return"Blackberry";if($S(t))return"Webos";if(qS(t))return"Safari";if((t.includes("chrome/")||HS(t))&&!t.includes("edge/"))return"Chrome";if(KS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jS(n=on()){return/firefox\//i.test(n)}function qS(n=on()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function HS(n=on()){return/crios\//i.test(n)}function GS(n=on()){return/iemobile/i.test(n)}function KS(n=on()){return/android/i.test(n)}function QS(n=on()){return/blackberry/i.test(n)}function $S(n=on()){return/webos/i.test(n)}function e_(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yP(n=on()){var t;return e_(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function _P(){return Lx()&&document.documentMode===10}function YS(n=on()){return e_(n)||KS(n)||$S(n)||QS(n)||/windows phone/i.test(n)||GS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(n,t=[]){let e;switch(n){case"Browser":e=ab(on());break;case"Worker":e=`${ab(on())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ro}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=l=>new Promise((u,d)=>{try{const m=t(l);u(m)}catch(m){d(m)}});r.onAbort=e,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(n,t={}){return uu(n,"GET","/v2/passwordPolicy",Zy(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=6;class bP{constructor(t){var e,r,a,l;const u=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=u.minPasswordLength)!==null&&e!==void 0?e:TP,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,a,l,u,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(e=m.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(u=m.containsNumericCharacter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(t,e,r,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ob(this),this.idTokenSubscription=new ob(this),this.beforeStateQueue=new vP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ss(e)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await Ll.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await BS(this,{idToken:t}),r=await is._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(ns(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Df(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=iP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ns(this.app))return Promise.reject(ho(this));const e=t?xe(t):null;return e&&Mt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ns(this.app)?Promise.reject(ho(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ns(this.app)?Promise.reject(ho(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await EP(this),e=new bP(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new sh("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await gP(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ss(t)||this._popupRedirectResolver;Mt(e,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[ss(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,r;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Mt(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,r,a);return()=>{u=!0,m()}}else{const m=t.addObserver(e);return()=>{u=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=XS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var t;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&tP(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function tm(n){return xe(n)}class ob{constructor(t){this.auth=t,this.observer=null,this.addObserver=qx(e=>this.observer=e)}get next(){return Mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SP(n){n_=n}function AP(n){return n_.loadJS(n)}function IP(){return n_.gapiScript}function RP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(n,t){const e=Zf(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(zc(l,t??{}))return a;vi(a,"already-initialized")}return e.initialize({options:t})}function DP(n,t){const e=(t==null?void 0:t.persistence)||[],r=(Array.isArray(e)?e:[e]).map(ss);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function xP(n,t,e){const r=tm(n);Mt(r._canInitEmulator,r,"emulator-config-failed"),Mt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=WS(t),{host:u,port:d}=PP(t),m=d===null?"":`:${d}`;r.config.emulator={url:`${l}//${u}${m}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),OP()}function WS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function PP(n){const t=WS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:lb(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:lb(u)}}}function lb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function OP(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return rs("not implemented")}_getIdTokenResponse(t){return rs("not implemented")}_linkToIdToken(t,e){return rs("not implemented")}_getReauthenticationResolver(t){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(n,t){return oP(n,"POST","/v1/accounts:signInWithIdp",Zy(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="http://localhost";class _o extends JS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new _o(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):vi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a}=e,l=Yy(e,["providerId","signInMethod"]);if(!r||!a)return null;const u=new _o(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return Ul(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Ul(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ul(t,e)}buildRequest(){const t={requestUri:NP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ah(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends r_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends lh{constructor(){super("facebook.com")}static credential(t){return _o._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends lh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return _o._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Gs.credential(e,r)}catch{return null}}}Gs.GOOGLE_SIGN_IN_METHOD="google.com";Gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends lh{constructor(){super("github.com")}static credential(t){return _o._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends lh{constructor(){super("twitter.com")}static credential(t,e){return _o._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Qs.credential(e,r)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,a=!1){const l=await is._fromIdTokenResponse(t,r,a),u=ub(r);return new Xl({user:l,providerId:u,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const a=ub(r);return new Xl({user:t,providerId:a,_tokenResponse:r,operationType:e})}}function ub(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends bi{constructor(t,e,r,a){var l;super(e.code,e.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,xf.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,a){return new xf(t,e,r,a)}}function ZS(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?xf._fromErrorAndOperation(n,l,t,r):l})}async function MP(n,t,e=!1){const r=await qc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Xl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(n,t,e=!1){const{auth:r}=n;if(ns(r.app))return Promise.reject(ho(r));const a="reauthenticate";try{const l=await qc(n,ZS(r,a,t,n),e);Mt(l.idToken,r,"internal-error");const u=t_(l.idToken);Mt(u,r,"internal-error");const{sub:d}=u;return Mt(n.uid===d,r,"user-mismatch"),Xl._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&vi(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(n,t,e=!1){if(ns(n.app))return Promise.reject(ho(n));const r="signIn",a=await ZS(n,r,t),l=await Xl._fromIdTokenResponse(n,r,a);return e||await n._updateCurrentUser(l.user),l}function LP(n,t,e,r){return xe(n).onIdTokenChanged(t,e,r)}function UP(n,t,e){return xe(n).beforeAuthStateChanged(t,e)}function tA(n,t,e,r){return xe(n).onAuthStateChanged(t,e,r)}function XU(n){return xe(n).signOut()}const Pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Pf,"1"),this.storage.removeItem(Pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=1e3,FP=10;class nA extends eA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),a=this.localCache[e];r!==a&&t(e,a,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const r=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!e&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);_P()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,FP):a()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},BP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}nA.type="LOCAL";const zP=nA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA extends eA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}rA.type="SESSION";const iA=rA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const r=new em(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:a,data:l}=e.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(u).map(async p=>p(e.origin,l)),m=await jP(d);e.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}em.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,m)=>{const p=i_("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function HP(n){yi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function GP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function QP(){return sA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="firebaseLocalStorageDb",$P=1,Of="firebaseLocalStorage",oA="fbase_key";class uh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function nm(n,t){return n.transaction([Of],t?"readwrite":"readonly").objectStore(Of)}function YP(){const n=indexedDB.deleteDatabase(aA);return new uh(n).toPromise()}function dy(){const n=indexedDB.open(aA,$P);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Of,{keyPath:oA})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Of)?t(r):(r.close(),await YP(),t(await dy()))})})}async function cb(n,t,e){const r=nm(n,!0).put({[oA]:t,value:e});return new uh(r).toPromise()}async function XP(n,t){const e=nm(n,!1).get(t),r=await new uh(e).toPromise();return r===void 0?null:r.value}function hb(n,t){const e=nm(n,!0).delete(t);return new uh(e).toPromise()}const WP=800,JP=3;class lA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>JP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=em._getInstance(QP()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await GP(),!this.activeServiceWorker)return;this.sender=new qP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((e=r[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||KP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dy();return await cb(t,Pf,"1"),await hb(t,Pf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>cb(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>XP(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>hb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=nm(a,!1).getAll();return new uh(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lA.type="LOCAL";const ZP=lA;new oh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(n,t){return t?ss(t):(Mt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_ extends JS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ul(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ul(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ul(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function tO(n){return kP(n.auth,new s_(n),n.bypassAuthState)}function eO(n){const{auth:t,user:e}=n;return Mt(e,t,"internal-error"),VP(e,new s_(n),n.bypassAuthState)}async function nO(n){const{auth:t,user:e}=n;return Mt(e,t,"internal-error"),MP(e,new s_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t,e,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:a,tenantId:l,error:u,type:d}=t;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:e,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tO;case"linkViaPopup":case"linkViaRedirect":return nO;case"reauthViaPopup":case"reauthViaRedirect":return eO;default:vi(this.auth,"internal-error")}}resolve(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new oh(2e3,1e4);async function WU(n,t,e){if(ns(n.app))return Promise.reject(Kr(n,"operation-not-supported-in-this-environment"));const r=tm(n);eP(n,t,r_);const a=uA(r,e);return new io(r,"signInViaPopup",t,a).executeNotNull()}class io extends cA{constructor(t,e,r,a,l){super(t,e,a,l),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Mt(t,this.auth,"internal-error"),t}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const t=i_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,r;if(!((r=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,rO.get())};t()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="pendingRedirect",of=new Map;class sO extends cA{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=of.get(this.auth._key());if(!t){try{const r=await aO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}of.set(this.auth._key(),t)}return this.bypassAuthState||of.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aO(n,t){const e=uO(t),r=lO(n);if(!await r._isAvailable())return!1;const a=await r._get(e)==="true";return await r._remove(e),a}function oO(n,t){of.set(n._key(),t)}function lO(n){return ss(n._redirectPersistence)}function uO(n){return af(iO,n.config.apiKey,n.name)}async function cO(n,t,e=!1){if(ns(n.app))return Promise.reject(ho(n));const r=tm(n),a=uA(r,t),u=await new sO(r,a,e).execute();return u&&!e&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,t)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=10*60*1e3;class dO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!hA(t)){const a=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";e.onError(Kr(this.auth,a))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hO&&this.cachedEventUids.clear(),this.cachedEventUids.has(db(t))}saveEventToCache(t){this.cachedEventUids.add(db(t)),this.lastProcessedEventTime=Date.now()}}function db(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function hA({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function fO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(n,t={}){return uu(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gO=/^https?/;async function yO(n){if(n.config.emulator)return;const{authorizedDomains:t}=await mO(n);for(const e of t)try{if(_O(e))return}catch{}vi(n,"unauthorized-domain")}function _O(n){const t=cy(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===r}if(!gO.test(e))return!1;if(pO.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new oh(3e4,6e4);function fb(){const n=yi().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function EO(n){return new Promise((t,e)=>{var r,a,l;function u(){fb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fb(),e(Kr(n,"network-request-failed"))},timeout:vO.get()})}if(!((a=(r=yi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=yi().gapi)===null||l===void 0)&&l.load)u();else{const d=RP("iframefcb");return yi()[d]=()=>{gapi.load?u():e(Kr(n,"network-request-failed"))},AP(`${IP()}?onload=${d}`).catch(m=>e(m))}}).catch(t=>{throw lf=null,t})}let lf=null;function TO(n){return lf=lf||EO(n),lf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new oh(5e3,15e3),wO="__/auth/iframe",SO="emulator/auth/iframe",AO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RO(n){const t=n.config;Mt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Jy(t,SO):`https://${n.config.authDomain}/${wO}`,r={apiKey:t.apiKey,appName:n.name,v:Ro},a=IO.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${e}?${ah(r).slice(1)}`}async function CO(n){const t=await TO(n),e=yi().gapi;return Mt(e,n,"internal-error"),t.open({where:document.body,url:RO(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AO,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=Kr(n,"network-request-failed"),d=yi().setTimeout(()=>{l(u)},bO.get());function m(){yi().clearTimeout(d),a(r)}r.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xO=500,PO=600,OO="_blank",NO="http://localhost";class mb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MO(n,t,e,r=xO,a=PO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m=Object.assign(Object.assign({},DO),{width:r.toString(),height:a.toString(),top:l,left:u}),p=on().toLowerCase();e&&(d=HS(p)?OO:e),jS(p)&&(t=t||NO,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[R,O])=>`${b}${R}=${O},`,"");if(yP(p)&&d!=="_self")return VO(t||"",d),new mb(null);const _=window.open(t||"",d,y);Mt(_,n,"popup-blocked");try{_.focus()}catch{}return new mb(_)}function VO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="__/auth/handler",LO="emulator/auth/handler",UO=encodeURIComponent("fac");async function pb(n,t,e,r,a,l){Mt(n.config.authDomain,n,"auth-domain-config-required"),Mt(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Ro,eventId:a};if(t instanceof r_){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",jx(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(t instanceof lh){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await n._getAppCheckToken(),p=m?`#${UO}=${encodeURIComponent(m)}`:"";return`${BO(n)}?${ah(d).slice(1)}${p}`}function BO({config:n}){return n.emulator?Jy(n,LO):`https://${n.authDomain}/${kO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="webStorageSupport";class FO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iA,this._completeRedirectFn=cO,this._overrideRedirectResult=oO}async _openPopup(t,e,r,a){var l;us((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await pb(t,e,r,cy(),a);return MO(t,u,i_())}async _openRedirect(t,e,r,a){await this._originValidation(t);const l=await pb(t,e,r,cy(),a);return HP(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(us(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await CO(t),r=new dO(t);return e.register("authEvent",a=>(Mt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Gg,{type:Gg},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Gg];u!==void 0&&e(!!u),vi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=yO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return YS()||qS()||e_()}}const zO=FO;var gb="@firebase/auth",yb="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HO(n){yo(new la("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Mt(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XS(n)},p=new wP(r,a,l,m);return DP(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),yo(new la("auth-internal",t=>{const e=tm(t.getProvider("auth").getImmediate());return(r=>new jO(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(gb,yb,qO(n)),gi(gb,yb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=5*60,KO=AS("authIdTokenMaxAge")||GO;let _b=null;const QO=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>KO)return;const a=e==null?void 0:e.token;_b!==a&&(_b=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function wi(n=PS()){const t=Zf(n,"auth");if(t.isInitialized())return t.getImmediate();const e=CP(n,{popupRedirectResolver:zO,persistence:[ZP,zP,iA]}),r=AS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=QO(l.toString());UP(e,u,()=>u(e.currentUser)),LP(e,d=>u(d))}}const a=wS("auth");return a&&xP(e,`http://${a}`),e}function $O(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}SP({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=a=>{const l=Kr("internal-error");l.customData=a,e(l)},r.type="text/javascript",r.charset="UTF-8",$O().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HO("Browser");var YO="firebase",XO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(YO,XO,"app");const WO={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},dA=xS(WO),JO=wi(dA),ZO=ft.createContext(void 0),tN=({children:n})=>{const[t,e]=Et.useState(null),[r,a]=Et.useState(!1),[l,u]=Et.useState(!1),[d,m]=Et.useState(!1),[p,y]=Et.useState(!0);Et.useEffect(()=>tA(JO,_),[]);async function _(R){if(R){e(R);const O=R.providerData.some(k=>k.providerId==="password");u(O);const L=R.providerData.some(k=>k.providerId==="google.com");m(L),a(!0)}else e(null),a(!1);y(!1)}const b={userLoggedIn:r,isEmailUser:l,isGoogleUser:d,currentUser:t,setCurrentUser:e};return ut.jsx(ZO.Provider,{value:b,children:!p&&n})},eN={theme:"system",setTheme:()=>null},fA=Et.createContext(eN);function nN({children:n,defaultTheme:t="system",storageKey:e="vite-ui-theme",...r}){const[a,l]=Et.useState(()=>localStorage.getItem(e)||t);Et.useEffect(()=>{const d=window.document.documentElement;if(d.classList.remove("light","dark"),a==="system"){const m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";d.classList.add(m);return}d.classList.add(a)},[a]);const u={theme:a,setTheme:d=>{localStorage.setItem(e,d),l(d)}};return ut.jsx(fA.Provider,{...r,value:u,children:n})}const JU=()=>{const n=Et.useContext(fA);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n};function rN(){return ut.jsxs("div",{className:"top-1/2 left-1/2 absolute flex flex-col justify-center items-center bg-transparent min-w-full min-h-full -translate-x-1/2 -translate-y-1/2 transform",children:[ut.jsxs("div",{className:"font-bold text-[192px] text-primary dark:text-white leading-none",children:[ut.jsx("span",{children:"4"}),ut.jsx(iN,{className:"inline-block w-[192px] h-[192px] text-primary"}),ut.jsx("span",{children:"4"})]}),ut.jsx("h1",{className:"mt-8 font-semibold text-gray-800 dark:text-white text-4xl",children:"Oopsie! Something's missing..."}),ut.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300 text-lg",children:"It seems like we donut find what you searched. The page you were looking for doesn't exist, isn't available or was loading incorrectly."}),ut.jsx(gx,{to:"/home/welcome",className:"bg-primary mt-8 px-6 py-3 rounded font-med font-bold text-white text-lg",children:"Back To Home"})]})}function iN(n){return ut.jsxs("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[ut.jsx("path",{d:"M20.5 10a2.5 2.5 0 0 1-2.4-3H18a2.95 2.95 0 0 1-2.6-4.4 10 10 0 1 0 6.3 7.1c-.3.2-.8.3-1.2.3"}),ut.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}var sN=(n,t,e,r,a,l,u,d)=>{let m=document.documentElement,p=["light","dark"];function y(R){(Array.isArray(n)?n:[n]).forEach(O=>{let L=O==="class",k=L&&l?a.map(Y=>l[Y]||Y):a;L?(m.classList.remove(...k),m.classList.add(l&&l[R]?l[R]:R)):m.setAttribute(O,R)}),_(R)}function _(R){d&&p.includes(R)&&(m.style.colorScheme=R)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)y(r);else try{let R=localStorage.getItem(t)||e,O=u&&R==="system"?b():R;y(O)}catch{}},aN=Et.createContext(void 0),oN={setTheme:n=>{},themes:[]},lN=()=>{var n;return(n=Et.useContext(aN))!=null?n:oN};Et.memo(({forcedTheme:n,storageKey:t,attribute:e,enableSystem:r,enableColorScheme:a,defaultTheme:l,value:u,themes:d,nonce:m,scriptProps:p})=>{let y=JSON.stringify([e,t,l,n,d,u,r,a]).slice(1,-1);return Et.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?m:"",dangerouslySetInnerHTML:{__html:`(${sN.toString()})(${y})`}})});function uN(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}const cN=n=>{switch(n){case"success":return fN;case"info":return pN;case"warning":return mN;case"error":return gN;default:return null}},hN=Array(12).fill(0),dN=({visible:n,className:t})=>ft.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":n},ft.createElement("div",{className:"sonner-spinner"},hN.map((e,r)=>ft.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),fN=ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ft.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mN=ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ft.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),pN=ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ft.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gN=ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ft.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yN=ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ft.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ft.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),_N=()=>{const[n,t]=ft.useState(document.hidden);return ft.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),n};let fy=1;class vN{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:r,...a}=t,l=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:fy++,u=this.toasts.find(m=>m.id===l),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(m=>m.id===l?(this.publish({...m,...t,id:l,title:r}),{...m,...t,id:l,dismissible:d,title:r}):m):this.addToast({title:r,...a,dismissible:d,id:l}),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let l=r!==void 0,u;const d=a.then(async p=>{if(u=["resolve",p],ft.isValidElement(p))l=!1,this.create({id:r,type:"default",message:p});else if(TN(p)&&!p.ok){l=!1;const _=typeof e.error=="function"?await e.error(`HTTP error! status: ${p.status}`):e.error,b=typeof e.description=="function"?await e.description(`HTTP error! status: ${p.status}`):e.description,O=typeof _=="object"&&!ft.isValidElement(_)?_:{message:_};this.create({id:r,type:"error",description:b,...O})}else if(p instanceof Error){l=!1;const _=typeof e.error=="function"?await e.error(p):e.error,b=typeof e.description=="function"?await e.description(p):e.description,O=typeof _=="object"&&!ft.isValidElement(_)?_:{message:_};this.create({id:r,type:"error",description:b,...O})}else if(e.success!==void 0){l=!1;const _=typeof e.success=="function"?await e.success(p):e.success,b=typeof e.description=="function"?await e.description(p):e.description,O=typeof _=="object"&&!ft.isValidElement(_)?_:{message:_};this.create({id:r,type:"success",description:b,...O})}}).catch(async p=>{if(u=["reject",p],e.error!==void 0){l=!1;const y=typeof e.error=="function"?await e.error(p):e.error,_=typeof e.description=="function"?await e.description(p):e.description,R=typeof y=="object"&&!ft.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:_,...R})}}).finally(()=>{l&&(this.dismiss(r),r=void 0),e.finally==null||e.finally.call(e)}),m=()=>new Promise((p,y)=>d.then(()=>u[0]==="reject"?y(u[1]):p(u[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:m}:Object.assign(r,{unwrap:m})},this.custom=(t,e)=>{const r=(e==null?void 0:e.id)||fy++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Jn=new vN,EN=(n,t)=>{const e=(t==null?void 0:t.id)||fy++;return Jn.addToast({title:n,...t,id:e}),e},TN=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",bN=EN,wN=()=>Jn.toasts,SN=()=>Jn.getActiveToasts(),ZU=Object.assign(bN,{success:Jn.success,info:Jn.info,warning:Jn.warning,error:Jn.error,custom:Jn.custom,message:Jn.message,promise:Jn.promise,dismiss:Jn.dismiss,loading:Jn.loading},{getHistory:wN,getToasts:SN});uN("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Qd(n){return n.label!==void 0}const AN=3,IN="24px",RN="16px",vb=4e3,CN=356,DN=14,xN=45,PN=200;function ui(...n){return n.filter(Boolean).join(" ")}function ON(n){const[t,e]=n.split("-"),r=[];return t&&r.push(t),e&&r.push(e),r}const NN=n=>{var t,e,r,a,l,u,d,m,p;const{invert:y,toast:_,unstyled:b,interacting:R,setHeights:O,visibleToasts:L,heights:k,index:Y,toasts:Z,expanded:K,removeToast:st,defaultRichColors:et,closeButton:W,style:x,cancelButtonStyle:w,actionButtonStyle:S,className:D="",descriptionClassName:P="",duration:N,position:C,gap:Pt,expandByDefault:_t,classNames:B,icons:rt,closeButtonAriaLabel:pt="Close toast"}=n,[At,V]=ft.useState(null),[q,ot]=ft.useState(null),[X,ht]=ft.useState(!1),[vt,dt]=ft.useState(!1),[Vt,Tt]=ft.useState(!1),[Ft,Pe]=ft.useState(!1),[ze,cn]=ft.useState(!1),[Sn,Oe]=ft.useState(0),[_e,Ne]=ft.useState(0),$t=ft.useRef(_.duration||N||vb),rr=ft.useRef(null),$e=ft.useRef(null),ir=Y===0,qt=Y+1<=L,Ut=_.type,je=_.dismissible!==!1,Qr=_.className||"",ds=_.descriptionClassName||"",le=ft.useMemo(()=>k.findIndex(Dt=>Dt.toastId===_.id)||0,[k,_.id]),ie=ft.useMemo(()=>{var Dt;return(Dt=_.closeButton)!=null?Dt:W},[_.closeButton,W]),An=ft.useMemo(()=>_.duration||N||vb,[_.duration,N]),Ye=ft.useRef(0),Mr=ft.useRef(0),Oo=ft.useRef(0),Kn=ft.useRef(null),[Si,Ai]=C.split("-"),Qn=ft.useMemo(()=>k.reduce((Dt,be,Te)=>Te>=le?Dt:Dt+be.height,0),[k,le]),Ii=_N(),Ri=_.invert||y,Ci=Ut==="loading";Mr.current=ft.useMemo(()=>le*Pt+Qn,[le,Qn]),ft.useEffect(()=>{$t.current=An},[An]),ft.useEffect(()=>{ht(!0)},[]),ft.useEffect(()=>{const Dt=$e.current;if(Dt){const be=Dt.getBoundingClientRect().height;return Ne(be),O(Te=>[{toastId:_.id,height:be,position:_.position},...Te]),()=>O(Te=>Te.filter(Xe=>Xe.toastId!==_.id))}},[O,_.id]),ft.useLayoutEffect(()=>{if(!X)return;const Dt=$e.current,be=Dt.style.height;Dt.style.height="auto";const Te=Dt.getBoundingClientRect().height;Dt.style.height=be,Ne(Te),O(Xe=>Xe.find(Me=>Me.toastId===_.id)?Xe.map(Me=>Me.toastId===_.id?{...Me,height:Te}:Me):[{toastId:_.id,height:Te,position:_.position},...Xe])},[X,_.title,_.description,O,_.id]);const $n=ft.useCallback(()=>{dt(!0),Oe(Mr.current),O(Dt=>Dt.filter(be=>be.toastId!==_.id)),setTimeout(()=>{st(_)},PN)},[_,st,O,Mr]);ft.useEffect(()=>{if(_.promise&&Ut==="loading"||_.duration===1/0||_.type==="loading")return;let Dt;return K||R||Ii?(()=>{if(Oo.current<Ye.current){const Xe=new Date().getTime()-Ye.current;$t.current=$t.current-Xe}Oo.current=new Date().getTime()})():(()=>{$t.current!==1/0&&(Ye.current=new Date().getTime(),Dt=setTimeout(()=>{_.onAutoClose==null||_.onAutoClose.call(_,_),$n()},$t.current))})(),()=>clearTimeout(Dt)},[K,R,_,Ut,Ii,$n]),ft.useEffect(()=>{_.delete&&$n()},[$n,_.delete]);function _a(){var Dt;if(rt!=null&&rt.loading){var be;return ft.createElement("div",{className:ui(B==null?void 0:B.loader,_==null||(be=_.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":Ut==="loading"},rt.loading)}return ft.createElement(dN,{className:ui(B==null?void 0:B.loader,_==null||(Dt=_.classNames)==null?void 0:Dt.loader),visible:Ut==="loading"})}const Vr=_.icon||(rt==null?void 0:rt[Ut])||cN(Ut);var _r,fs;return ft.createElement("li",{tabIndex:0,ref:$e,className:ui(D,Qr,B==null?void 0:B.toast,_==null||(t=_.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[Ut],_==null||(e=_.classNames)==null?void 0:e[Ut]),"data-sonner-toast":"","data-rich-colors":(_r=_.richColors)!=null?_r:et,"data-styled":!(_.jsx||_.unstyled||b),"data-mounted":X,"data-promise":!!_.promise,"data-swiped":ze,"data-removed":vt,"data-visible":qt,"data-y-position":Si,"data-x-position":Ai,"data-index":Y,"data-front":ir,"data-swiping":Vt,"data-dismissible":je,"data-type":Ut,"data-invert":Ri,"data-swipe-out":Ft,"data-swipe-direction":q,"data-expanded":!!(K||_t&&X),style:{"--index":Y,"--toasts-before":Y,"--z-index":Z.length-Y,"--offset":`${vt?Sn:Mr.current}px`,"--initial-height":_t?"auto":`${_e}px`,...x,..._.style},onDragEnd:()=>{Tt(!1),V(null),Kn.current=null},onPointerDown:Dt=>{Ci||!je||(rr.current=new Date,Oe(Mr.current),Dt.target.setPointerCapture(Dt.pointerId),Dt.target.tagName!=="BUTTON"&&(Tt(!0),Kn.current={x:Dt.clientX,y:Dt.clientY}))},onPointerUp:()=>{var Dt,be,Te;if(Ft||!je)return;Kn.current=null;const Xe=Number(((Dt=$e.current)==null?void 0:Dt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),sr=Number(((be=$e.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Me=new Date().getTime()-((Te=rr.current)==null?void 0:Te.getTime()),Gt=At==="x"?Xe:sr,we=Math.abs(Gt)/Me;if(Math.abs(Gt)>=xN||we>.11){Oe(Mr.current),_.onDismiss==null||_.onDismiss.call(_,_),ot(At==="x"?Xe>0?"right":"left":sr>0?"down":"up"),$n(),Pe(!0);return}else{var ee,Se;(ee=$e.current)==null||ee.style.setProperty("--swipe-amount-x","0px"),(Se=$e.current)==null||Se.style.setProperty("--swipe-amount-y","0px")}cn(!1),Tt(!1),V(null)},onPointerMove:Dt=>{var be,Te,Xe;if(!Kn.current||!je||((be=window.getSelection())==null?void 0:be.toString().length)>0)return;const Me=Dt.clientY-Kn.current.y,Gt=Dt.clientX-Kn.current.x;var we;const ee=(we=n.swipeDirections)!=null?we:ON(C);!At&&(Math.abs(Gt)>1||Math.abs(Me)>1)&&V(Math.abs(Gt)>Math.abs(Me)?"x":"y");let Se={x:0,y:0};const ms=kr=>1/(1.5+Math.abs(kr)/20);if(At==="y"){if(ee.includes("top")||ee.includes("bottom"))if(ee.includes("top")&&Me<0||ee.includes("bottom")&&Me>0)Se.y=Me;else{const kr=Me*ms(Me);Se.y=Math.abs(kr)<Math.abs(Me)?kr:Me}}else if(At==="x"&&(ee.includes("left")||ee.includes("right")))if(ee.includes("left")&&Gt<0||ee.includes("right")&&Gt>0)Se.x=Gt;else{const kr=Gt*ms(Gt);Se.x=Math.abs(kr)<Math.abs(Gt)?kr:Gt}(Math.abs(Se.x)>0||Math.abs(Se.y)>0)&&cn(!0),(Te=$e.current)==null||Te.style.setProperty("--swipe-amount-x",`${Se.x}px`),(Xe=$e.current)==null||Xe.style.setProperty("--swipe-amount-y",`${Se.y}px`)}},ie&&!_.jsx&&Ut!=="loading"?ft.createElement("button",{"aria-label":pt,"data-disabled":Ci,"data-close-button":!0,onClick:Ci||!je?()=>{}:()=>{$n(),_.onDismiss==null||_.onDismiss.call(_,_)},className:ui(B==null?void 0:B.closeButton,_==null||(r=_.classNames)==null?void 0:r.closeButton)},(fs=rt==null?void 0:rt.close)!=null?fs:yN):null,(Ut||_.icon||_.promise)&&_.icon!==null&&((rt==null?void 0:rt[Ut])!==null||_.icon)?ft.createElement("div",{"data-icon":"",className:ui(B==null?void 0:B.icon,_==null||(a=_.classNames)==null?void 0:a.icon)},_.promise||_.type==="loading"&&!_.icon?_.icon||_a():null,_.type!=="loading"?Vr:null):null,ft.createElement("div",{"data-content":"",className:ui(B==null?void 0:B.content,_==null||(l=_.classNames)==null?void 0:l.content)},ft.createElement("div",{"data-title":"",className:ui(B==null?void 0:B.title,_==null||(u=_.classNames)==null?void 0:u.title)},_.jsx?_.jsx:typeof _.title=="function"?_.title():_.title),_.description?ft.createElement("div",{"data-description":"",className:ui(P,ds,B==null?void 0:B.description,_==null||(d=_.classNames)==null?void 0:d.description)},typeof _.description=="function"?_.description():_.description):null),ft.isValidElement(_.cancel)?_.cancel:_.cancel&&Qd(_.cancel)?ft.createElement("button",{"data-button":!0,"data-cancel":!0,style:_.cancelButtonStyle||w,onClick:Dt=>{Qd(_.cancel)&&je&&(_.cancel.onClick==null||_.cancel.onClick.call(_.cancel,Dt),$n())},className:ui(B==null?void 0:B.cancelButton,_==null||(m=_.classNames)==null?void 0:m.cancelButton)},_.cancel.label):null,ft.isValidElement(_.action)?_.action:_.action&&Qd(_.action)?ft.createElement("button",{"data-button":!0,"data-action":!0,style:_.actionButtonStyle||S,onClick:Dt=>{Qd(_.action)&&(_.action.onClick==null||_.action.onClick.call(_.action,Dt),!Dt.defaultPrevented&&$n())},className:ui(B==null?void 0:B.actionButton,_==null||(p=_.classNames)==null?void 0:p.actionButton)},_.action.label):null)};function Eb(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function MN(n,t){const e={};return[n,t].forEach((r,a)=>{const l=a===1,u=l?"--mobile-offset":"--offset",d=l?RN:IN;function m(p){["top","right","bottom","left"].forEach(y=>{e[`${u}-${y}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?m(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?e[`${u}-${p}`]=d:e[`${u}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):m(d)}),e}const VN=ft.forwardRef(function(t,e){const{invert:r,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:d,className:m,offset:p,mobileOffset:y,theme:_="light",richColors:b,duration:R,style:O,visibleToasts:L=AN,toastOptions:k,dir:Y=Eb(),gap:Z=DN,icons:K,containerAriaLabel:st="Notifications"}=t,[et,W]=ft.useState([]),x=ft.useMemo(()=>Array.from(new Set([a].concat(et.filter(q=>q.position).map(q=>q.position)))),[et,a]),[w,S]=ft.useState([]),[D,P]=ft.useState(!1),[N,C]=ft.useState(!1),[Pt,_t]=ft.useState(_!=="system"?_:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=ft.useRef(null),rt=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),pt=ft.useRef(null),At=ft.useRef(!1),V=ft.useCallback(q=>{W(ot=>{var X;return(X=ot.find(ht=>ht.id===q.id))!=null&&X.delete||Jn.dismiss(q.id),ot.filter(({id:ht})=>ht!==q.id)})},[]);return ft.useEffect(()=>Jn.subscribe(q=>{if(q.dismiss){requestAnimationFrame(()=>{W(ot=>ot.map(X=>X.id===q.id?{...X,delete:!0}:X))});return}setTimeout(()=>{lx.flushSync(()=>{W(ot=>{const X=ot.findIndex(ht=>ht.id===q.id);return X!==-1?[...ot.slice(0,X),{...ot[X],...q},...ot.slice(X+1)]:[q,...ot]})})})}),[et]),ft.useEffect(()=>{if(_!=="system"){_t(_);return}if(_==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?_t("dark"):_t("light")),typeof window>"u")return;const q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:ot})=>{_t(ot?"dark":"light")})}catch{q.addListener(({matches:X})=>{try{_t(X?"dark":"light")}catch(ht){console.error(ht)}})}},[_]),ft.useEffect(()=>{et.length<=1&&P(!1)},[et]),ft.useEffect(()=>{const q=ot=>{var X;if(l.every(dt=>ot[dt]||ot.code===dt)){var vt;P(!0),(vt=B.current)==null||vt.focus()}ot.code==="Escape"&&(document.activeElement===B.current||(X=B.current)!=null&&X.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[l]),ft.useEffect(()=>{if(B.current)return()=>{pt.current&&(pt.current.focus({preventScroll:!0}),pt.current=null,At.current=!1)}},[B.current]),ft.createElement("section",{ref:e,"aria-label":`${st} ${rt}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},x.map((q,ot)=>{var X;const[ht,vt]=q.split("-");return et.length?ft.createElement("ol",{key:q,dir:Y==="auto"?Eb():Y,tabIndex:-1,ref:B,className:m,"data-sonner-toaster":!0,"data-sonner-theme":Pt,"data-y-position":ht,"data-lifted":D&&et.length>1&&!u,"data-x-position":vt,style:{"--front-toast-height":`${((X=w[0])==null?void 0:X.height)||0}px`,"--width":`${CN}px`,"--gap":`${Z}px`,...O,...MN(p,y)},onBlur:dt=>{At.current&&!dt.currentTarget.contains(dt.relatedTarget)&&(At.current=!1,pt.current&&(pt.current.focus({preventScroll:!0}),pt.current=null))},onFocus:dt=>{dt.target instanceof HTMLElement&&dt.target.dataset.dismissible==="false"||At.current||(At.current=!0,pt.current=dt.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{N||P(!1)},onDragEnd:()=>P(!1),onPointerDown:dt=>{dt.target instanceof HTMLElement&&dt.target.dataset.dismissible==="false"||C(!0)},onPointerUp:()=>C(!1)},et.filter(dt=>!dt.position&&ot===0||dt.position===q).map((dt,Vt)=>{var Tt,Ft;return ft.createElement(NN,{key:dt.id,icons:K,index:Vt,toast:dt,defaultRichColors:b,duration:(Tt=k==null?void 0:k.duration)!=null?Tt:R,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:r,visibleToasts:L,closeButton:(Ft=k==null?void 0:k.closeButton)!=null?Ft:d,interacting:N,position:q,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,closeButtonAriaLabel:k==null?void 0:k.closeButtonAriaLabel,removeToast:V,toasts:et.filter(Pe=>Pe.position==dt.position),heights:w.filter(Pe=>Pe.position==dt.position),setHeights:S,expandByDefault:u,gap:Z,expanded:D,swipeDirections:t.swipeDirections})})):null}))}),kN=({...n})=>{const{theme:t="system"}=lN();return ut.jsx(VN,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,r)=>r?r.toUpperCase():e.toLowerCase()),Tb=n=>{const t=UN(n);return t.charAt(0).toUpperCase()+t.slice(1)},mA=(...n)=>n.filter((t,e,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===e).join(" ").trim(),BN=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=Et.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:u,...d},m)=>Et.createElement("svg",{ref:m,...FN,width:t,height:t,stroke:n,strokeWidth:r?Number(e)*24/Number(t):e,className:mA("lucide",a),...!l&&!BN(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,y])=>Et.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=(n,t)=>{const e=Et.forwardRef(({className:r,...a},l)=>Et.createElement(zN,{ref:l,iconNode:t,className:mA(`lucide-${LN(Tb(n))}`,`lucide-${n}`,r),...a}));return e.displayName=Tb(n),e};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qN=ch("circle-alert",jN);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],GN=ch("circle-check-big",HN);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],QN=ch("info",KN);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],YN=ch("loader",$N);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],WN=ch("triangle-alert",XN),Co=XD()({component:()=>ut.jsx(nN,{defaultTheme:"system",storageKey:"vite-ui-theme",children:ut.jsx("div",{children:ut.jsxs(tN,{children:[ut.jsx(Ky,{}),ut.jsx(kN,{closeButton:!0,icons:{success:ut.jsx(GN,{}),info:ut.jsx(QN,{}),warning:ut.jsx(qN,{}),error:ut.jsx(WN,{}),loading:ut.jsx(YN,{})}})]})})}),notFoundComponent:rN}),JN="modulepreload",ZN=function(n){return"/PWACakeCafe/"+n},bb={},ln=function(t,e,r){let a=Promise.resolve();if(e&&e.length>0){let u=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=u(e.map(p=>{if(p=ZN(p),p in bb)return;bb[p]=!0;const y=p.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":JN,y||(b.as="script"),b.crossOrigin="",b.href=p,m&&b.setAttribute("nonce",m),document.head.appendChild(b),y)return new Promise((R,O)=>{b.addEventListener("load",R),b.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return a.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})},tM=()=>ln(()=>import("./testingRoute-fLuygcF-.js"),__vite__mapDeps([0,1,2,3,4])),pA=wn("/testingRoute")({component:an(tM,"component",()=>pA.ssr)}),eM=()=>ln(()=>import("./splashscreen-BB402q6X.js"),[]),gA=wn("/splashscreen")({component:an(eM,"component",()=>gA.ssr)});var wb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fo,yA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,w){function S(){}S.prototype=w.prototype,x.D=w.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(D,P,N){for(var C=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)C[Pt-2]=arguments[Pt];return w.prototype[P].apply(D,C)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,w,S){S||(S=0);var D=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)D[P]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(P=0;16>P;++P)D[P]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=x.g[0],S=x.g[1],P=x.g[2];var N=x.g[3],C=w+(N^S&(P^N))+D[0]+3614090360&4294967295;w=S+(C<<7&4294967295|C>>>25),C=N+(P^w&(S^P))+D[1]+3905402710&4294967295,N=w+(C<<12&4294967295|C>>>20),C=P+(S^N&(w^S))+D[2]+606105819&4294967295,P=N+(C<<17&4294967295|C>>>15),C=S+(w^P&(N^w))+D[3]+3250441966&4294967295,S=P+(C<<22&4294967295|C>>>10),C=w+(N^S&(P^N))+D[4]+4118548399&4294967295,w=S+(C<<7&4294967295|C>>>25),C=N+(P^w&(S^P))+D[5]+1200080426&4294967295,N=w+(C<<12&4294967295|C>>>20),C=P+(S^N&(w^S))+D[6]+2821735955&4294967295,P=N+(C<<17&4294967295|C>>>15),C=S+(w^P&(N^w))+D[7]+4249261313&4294967295,S=P+(C<<22&4294967295|C>>>10),C=w+(N^S&(P^N))+D[8]+1770035416&4294967295,w=S+(C<<7&4294967295|C>>>25),C=N+(P^w&(S^P))+D[9]+2336552879&4294967295,N=w+(C<<12&4294967295|C>>>20),C=P+(S^N&(w^S))+D[10]+4294925233&4294967295,P=N+(C<<17&4294967295|C>>>15),C=S+(w^P&(N^w))+D[11]+2304563134&4294967295,S=P+(C<<22&4294967295|C>>>10),C=w+(N^S&(P^N))+D[12]+1804603682&4294967295,w=S+(C<<7&4294967295|C>>>25),C=N+(P^w&(S^P))+D[13]+4254626195&4294967295,N=w+(C<<12&4294967295|C>>>20),C=P+(S^N&(w^S))+D[14]+2792965006&4294967295,P=N+(C<<17&4294967295|C>>>15),C=S+(w^P&(N^w))+D[15]+1236535329&4294967295,S=P+(C<<22&4294967295|C>>>10),C=w+(P^N&(S^P))+D[1]+4129170786&4294967295,w=S+(C<<5&4294967295|C>>>27),C=N+(S^P&(w^S))+D[6]+3225465664&4294967295,N=w+(C<<9&4294967295|C>>>23),C=P+(w^S&(N^w))+D[11]+643717713&4294967295,P=N+(C<<14&4294967295|C>>>18),C=S+(N^w&(P^N))+D[0]+3921069994&4294967295,S=P+(C<<20&4294967295|C>>>12),C=w+(P^N&(S^P))+D[5]+3593408605&4294967295,w=S+(C<<5&4294967295|C>>>27),C=N+(S^P&(w^S))+D[10]+38016083&4294967295,N=w+(C<<9&4294967295|C>>>23),C=P+(w^S&(N^w))+D[15]+3634488961&4294967295,P=N+(C<<14&4294967295|C>>>18),C=S+(N^w&(P^N))+D[4]+3889429448&4294967295,S=P+(C<<20&4294967295|C>>>12),C=w+(P^N&(S^P))+D[9]+568446438&4294967295,w=S+(C<<5&4294967295|C>>>27),C=N+(S^P&(w^S))+D[14]+3275163606&4294967295,N=w+(C<<9&4294967295|C>>>23),C=P+(w^S&(N^w))+D[3]+4107603335&4294967295,P=N+(C<<14&4294967295|C>>>18),C=S+(N^w&(P^N))+D[8]+1163531501&4294967295,S=P+(C<<20&4294967295|C>>>12),C=w+(P^N&(S^P))+D[13]+2850285829&4294967295,w=S+(C<<5&4294967295|C>>>27),C=N+(S^P&(w^S))+D[2]+4243563512&4294967295,N=w+(C<<9&4294967295|C>>>23),C=P+(w^S&(N^w))+D[7]+1735328473&4294967295,P=N+(C<<14&4294967295|C>>>18),C=S+(N^w&(P^N))+D[12]+2368359562&4294967295,S=P+(C<<20&4294967295|C>>>12),C=w+(S^P^N)+D[5]+4294588738&4294967295,w=S+(C<<4&4294967295|C>>>28),C=N+(w^S^P)+D[8]+2272392833&4294967295,N=w+(C<<11&4294967295|C>>>21),C=P+(N^w^S)+D[11]+1839030562&4294967295,P=N+(C<<16&4294967295|C>>>16),C=S+(P^N^w)+D[14]+4259657740&4294967295,S=P+(C<<23&4294967295|C>>>9),C=w+(S^P^N)+D[1]+2763975236&4294967295,w=S+(C<<4&4294967295|C>>>28),C=N+(w^S^P)+D[4]+1272893353&4294967295,N=w+(C<<11&4294967295|C>>>21),C=P+(N^w^S)+D[7]+4139469664&4294967295,P=N+(C<<16&4294967295|C>>>16),C=S+(P^N^w)+D[10]+3200236656&4294967295,S=P+(C<<23&4294967295|C>>>9),C=w+(S^P^N)+D[13]+681279174&4294967295,w=S+(C<<4&4294967295|C>>>28),C=N+(w^S^P)+D[0]+3936430074&4294967295,N=w+(C<<11&4294967295|C>>>21),C=P+(N^w^S)+D[3]+3572445317&4294967295,P=N+(C<<16&4294967295|C>>>16),C=S+(P^N^w)+D[6]+76029189&4294967295,S=P+(C<<23&4294967295|C>>>9),C=w+(S^P^N)+D[9]+3654602809&4294967295,w=S+(C<<4&4294967295|C>>>28),C=N+(w^S^P)+D[12]+3873151461&4294967295,N=w+(C<<11&4294967295|C>>>21),C=P+(N^w^S)+D[15]+530742520&4294967295,P=N+(C<<16&4294967295|C>>>16),C=S+(P^N^w)+D[2]+3299628645&4294967295,S=P+(C<<23&4294967295|C>>>9),C=w+(P^(S|~N))+D[0]+4096336452&4294967295,w=S+(C<<6&4294967295|C>>>26),C=N+(S^(w|~P))+D[7]+1126891415&4294967295,N=w+(C<<10&4294967295|C>>>22),C=P+(w^(N|~S))+D[14]+2878612391&4294967295,P=N+(C<<15&4294967295|C>>>17),C=S+(N^(P|~w))+D[5]+4237533241&4294967295,S=P+(C<<21&4294967295|C>>>11),C=w+(P^(S|~N))+D[12]+1700485571&4294967295,w=S+(C<<6&4294967295|C>>>26),C=N+(S^(w|~P))+D[3]+2399980690&4294967295,N=w+(C<<10&4294967295|C>>>22),C=P+(w^(N|~S))+D[10]+4293915773&4294967295,P=N+(C<<15&4294967295|C>>>17),C=S+(N^(P|~w))+D[1]+2240044497&4294967295,S=P+(C<<21&4294967295|C>>>11),C=w+(P^(S|~N))+D[8]+1873313359&4294967295,w=S+(C<<6&4294967295|C>>>26),C=N+(S^(w|~P))+D[15]+4264355552&4294967295,N=w+(C<<10&4294967295|C>>>22),C=P+(w^(N|~S))+D[6]+2734768916&4294967295,P=N+(C<<15&4294967295|C>>>17),C=S+(N^(P|~w))+D[13]+1309151649&4294967295,S=P+(C<<21&4294967295|C>>>11),C=w+(P^(S|~N))+D[4]+4149444226&4294967295,w=S+(C<<6&4294967295|C>>>26),C=N+(S^(w|~P))+D[11]+3174756917&4294967295,N=w+(C<<10&4294967295|C>>>22),C=P+(w^(N|~S))+D[2]+718787259&4294967295,P=N+(C<<15&4294967295|C>>>17),C=S+(N^(P|~w))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+N&4294967295}r.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var S=w-this.blockSize,D=this.B,P=this.h,N=0;N<w;){if(P==0)for(;N<=S;)a(this,x,N),N+=this.blockSize;if(typeof x=="string"){for(;N<w;)if(D[P++]=x.charCodeAt(N++),P==this.blockSize){a(this,D),P=0;break}}else for(;N<w;)if(D[P++]=x[N++],P==this.blockSize){a(this,D),P=0;break}}this.h=P,this.o+=w},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var S=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=S&255,S/=256;for(this.u(x),x=Array(16),w=S=0;4>w;++w)for(var D=0;32>D;D+=8)x[S++]=this.g[w]>>>D&255;return x};function l(x,w){var S=d;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=w(x)}function u(x,w){this.h=w;for(var S=[],D=!0,P=x.length-1;0<=P;P--){var N=x[P]|0;D&&N==w||(S[P]=N,D=!1)}this.g=S}var d={};function m(x){return-128<=x&&128>x?l(x,function(w){return new u([w|0],0>w?-1:0)}):new u([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return _;if(0>x)return k(p(-x));for(var w=[],S=1,D=0;x>=S;D++)w[D]=x/S|0,S*=4294967296;return new u(w,0)}function y(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return k(y(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=p(Math.pow(w,8)),D=_,P=0;P<x.length;P+=8){var N=Math.min(8,x.length-P),C=parseInt(x.substring(P,P+N),w);8>N?(N=p(Math.pow(w,N)),D=D.j(N).add(p(C))):(D=D.j(S),D=D.add(p(C)))}return D}var _=m(0),b=m(1),R=m(16777216);n=u.prototype,n.m=function(){if(L(this))return-k(this).m();for(var x=0,w=1,S=0;S<this.g.length;S++){var D=this.i(S);x+=(0<=D?D:4294967296+D)*w,w*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O(this))return"0";if(L(this))return"-"+k(this).toString(x);for(var w=p(Math.pow(x,6)),S=this,D="";;){var P=st(S,w).g;S=Y(S,P.j(w));var N=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=P,O(S))return N+D;for(;6>N.length;)N="0"+N;D=N+D}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function O(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function L(x){return x.h==-1}n.l=function(x){return x=Y(this,x),L(x)?-1:O(x)?0:1};function k(x){for(var w=x.g.length,S=[],D=0;D<w;D++)S[D]=~x.g[D];return new u(S,~x.h).add(b)}n.abs=function(){return L(this)?k(this):this},n.add=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0,P=0;P<=w;P++){var N=D+(this.i(P)&65535)+(x.i(P)&65535),C=(N>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);D=C>>>16,N&=65535,C&=65535,S[P]=C<<16|N}return new u(S,S[S.length-1]&-2147483648?-1:0)};function Y(x,w){return x.add(k(w))}n.j=function(x){if(O(this)||O(x))return _;if(L(this))return L(x)?k(this).j(k(x)):k(k(this).j(x));if(L(x))return k(this.j(k(x)));if(0>this.l(R)&&0>x.l(R))return p(this.m()*x.m());for(var w=this.g.length+x.g.length,S=[],D=0;D<2*w;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var P=0;P<x.g.length;P++){var N=this.i(D)>>>16,C=this.i(D)&65535,Pt=x.i(P)>>>16,_t=x.i(P)&65535;S[2*D+2*P]+=C*_t,Z(S,2*D+2*P),S[2*D+2*P+1]+=N*_t,Z(S,2*D+2*P+1),S[2*D+2*P+1]+=C*Pt,Z(S,2*D+2*P+1),S[2*D+2*P+2]+=N*Pt,Z(S,2*D+2*P+2)}for(D=0;D<w;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=w;D<2*w;D++)S[D]=0;return new u(S,0)};function Z(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function K(x,w){this.g=x,this.h=w}function st(x,w){if(O(w))throw Error("division by zero");if(O(x))return new K(_,_);if(L(x))return w=st(k(x),w),new K(k(w.g),k(w.h));if(L(w))return w=st(x,k(w)),new K(k(w.g),w.h);if(30<x.g.length){if(L(x)||L(w))throw Error("slowDivide_ only works with positive integers.");for(var S=b,D=w;0>=D.l(x);)S=et(S),D=et(D);var P=W(S,1),N=W(D,1);for(D=W(D,2),S=W(S,2);!O(D);){var C=N.add(D);0>=C.l(x)&&(P=P.add(S),N=C),D=W(D,1),S=W(S,1)}return w=Y(x,P.j(w)),new K(P,w)}for(P=_;0<=x.l(w);){for(S=Math.max(1,Math.floor(x.m()/w.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),N=p(S),C=N.j(w);L(C)||0<C.l(x);)S-=D,N=p(S),C=N.j(w);O(N)&&(N=b),P=P.add(N),x=Y(x,C)}return new K(P,x)}n.A=function(x){return st(this,x).h},n.and=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0;D<w;D++)S[D]=this.i(D)&x.i(D);return new u(S,this.h&x.h)},n.or=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0;D<w;D++)S[D]=this.i(D)|x.i(D);return new u(S,this.h|x.h)},n.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0;D<w;D++)S[D]=this.i(D)^x.i(D);return new u(S,this.h^x.h)};function et(x){for(var w=x.g.length+1,S=[],D=0;D<w;D++)S[D]=x.i(D)<<1|x.i(D-1)>>>31;return new u(S,x.h)}function W(x,w){var S=w>>5;w%=32;for(var D=x.g.length-S,P=[],N=0;N<D;N++)P[N]=0<w?x.i(N+S)>>>w|x.i(N+S+1)<<32-w:x.i(N+S);return new u(P,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yA=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,fo=u}).apply(typeof wb<"u"?wb:typeof self<"u"?self:typeof window<"u"?window:{});var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _A,Sc,vA,uf,my,EA,TA,bA;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof $d=="object"&&$d];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=e(this);function a(h,v){if(v)t:{var E=r;h=h.split(".");for(var I=0;I<h.length-1;I++){var z=h[I];if(!(z in E))break t;E=E[z]}h=h[h.length-1],I=E[h],v=v(I),v!=I&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var E=0,I=!1,z={next:function(){if(!I&&E<h.length){var J=E++;return{value:v(J,h[J]),done:!1}}return I=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,E){return h.call.apply(h.bind,arguments)}function _(h,v,E){if(!h)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,I),h.apply(v,z)}}return function(){return h.apply(v,arguments)}}function b(h,v,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function R(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function O(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(I,z,J){for(var mt=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)mt[Wt-2]=arguments[Wt];return v.prototype[z].apply(I,mt)}}function L(h){const v=h.length;if(0<v){const E=Array(v);for(let I=0;I<v;I++)E[I]=h[I];return E}return[]}function k(h,v){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(m(I)){const z=h.length||0,J=I.length||0;h.length=z+J;for(let mt=0;mt<J;mt++)h[z+mt]=I[mt]}else h.push(I)}}class Y{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Z(h){return/^[\s\xa0]*$/.test(h)}function K(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function st(h){return st[" "](h),h}st[" "]=function(){};var et=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function W(h,v,E){for(const I in h)v.call(E,h[I],I,h)}function x(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function w(h){const v={};for(const E in h)v[E]=h[E];return v}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,v){let E,I;for(let z=1;z<arguments.length;z++){I=arguments[z];for(E in I)h[E]=I[E];for(let J=0;J<S.length;J++)E=S[J],Object.prototype.hasOwnProperty.call(I,E)&&(h[E]=I[E])}}function P(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function N(h){d.setTimeout(()=>{throw h},0)}function C(){var h=At;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Pt{constructor(){this.h=this.g=null}add(v,E){const I=_t.get();I.set(v,E),this.h?this.h.next=I:this.g=I,this.h=I}}var _t=new Y(()=>new B,h=>h.reset());class B{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,pt=!1,At=new Pt,V=()=>{const h=d.Promise.resolve(void 0);rt=()=>{h.then(q)}};var q=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(E){N(E)}var v=_t;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}pt=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return h}();function vt(h,v){if(X.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(et){t:{try{st(v.nodeName);var z=!0;break t}catch{}z=!1}z||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:dt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&vt.aa.h.call(this)}}O(vt,X);var dt={2:"touch",3:"pen",4:"mouse"};vt.prototype.h=function(){vt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),Tt=0;function Ft(h,v,E,I,z){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!I,this.ha=z,this.key=++Tt,this.da=this.fa=!1}function Pe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ze(h){this.src=h,this.g={},this.h=0}ze.prototype.add=function(h,v,E,I,z){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var mt=Sn(h,v,I,z);return-1<mt?(v=h[mt],E||(v.fa=!1)):(v=new Ft(v,this.src,J,!!I,z),v.fa=E,h.push(v)),v};function cn(h,v){var E=v.type;if(E in h.g){var I=h.g[E],z=Array.prototype.indexOf.call(I,v,void 0),J;(J=0<=z)&&Array.prototype.splice.call(I,z,1),J&&(Pe(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Sn(h,v,E,I){for(var z=0;z<h.length;++z){var J=h[z];if(!J.da&&J.listener==v&&J.capture==!!E&&J.ha==I)return z}return-1}var Oe="closure_lm_"+(1e6*Math.random()|0),_e={};function Ne(h,v,E,I,z){if(Array.isArray(v)){for(var J=0;J<v.length;J++)Ne(h,v[J],E,I,z);return null}return E=ds(E),h&&h[Vt]?h.K(v,E,p(I)?!!I.capture:!1,z):$t(h,v,E,!1,I,z)}function $t(h,v,E,I,z,J){if(!v)throw Error("Invalid event type");var mt=p(z)?!!z.capture:!!z,Wt=je(h);if(Wt||(h[Oe]=Wt=new ze(h)),E=Wt.add(v,E,I,mt,J),E.proxy)return E;if(I=rr(),E.proxy=I,I.src=h,I.listener=E,h.addEventListener)ht||(z=mt),z===void 0&&(z=!1),h.addEventListener(v.toString(),I,z);else if(h.attachEvent)h.attachEvent(qt(v.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function rr(){function h(E){return v.call(h.src,h.listener,E)}const v=Ut;return h}function $e(h,v,E,I,z){if(Array.isArray(v))for(var J=0;J<v.length;J++)$e(h,v[J],E,I,z);else I=p(I)?!!I.capture:!!I,E=ds(E),h&&h[Vt]?(h=h.i,v=String(v).toString(),v in h.g&&(J=h.g[v],E=Sn(J,E,I,z),-1<E&&(Pe(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete h.g[v],h.h--)))):h&&(h=je(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Sn(v,E,I,z)),(E=-1<h?v[h]:null)&&ir(E))}function ir(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Vt])cn(v.i,h);else{var E=h.type,I=h.proxy;v.removeEventListener?v.removeEventListener(E,I,h.capture):v.detachEvent?v.detachEvent(qt(E),I):v.addListener&&v.removeListener&&v.removeListener(I),(E=je(v))?(cn(E,h),E.h==0&&(E.src=null,v[Oe]=null)):Pe(h)}}}function qt(h){return h in _e?_e[h]:_e[h]="on"+h}function Ut(h,v){if(h.da)h=!0;else{v=new vt(v,this);var E=h.listener,I=h.ha||h.src;h.fa&&ir(h),h=E.call(I,v)}return h}function je(h){return h=h[Oe],h instanceof ze?h:null}var Qr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ds(h){return typeof h=="function"?h:(h[Qr]||(h[Qr]=function(v){return h.handleEvent(v)}),h[Qr])}function le(){ot.call(this),this.i=new ze(this),this.M=this,this.F=null}O(le,ot),le.prototype[Vt]=!0,le.prototype.removeEventListener=function(h,v,E,I){$e(this,h,v,E,I)};function ie(h,v){var E,I=h.F;if(I)for(E=[];I;I=I.F)E.push(I);if(h=h.M,I=v.type||v,typeof v=="string")v=new X(v,h);else if(v instanceof X)v.target=v.target||h;else{var z=v;v=new X(I,h),D(v,z)}if(z=!0,E)for(var J=E.length-1;0<=J;J--){var mt=v.g=E[J];z=An(mt,I,!0,v)&&z}if(mt=v.g=h,z=An(mt,I,!0,v)&&z,z=An(mt,I,!1,v)&&z,E)for(J=0;J<E.length;J++)mt=v.g=E[J],z=An(mt,I,!1,v)&&z}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],I=0;I<E.length;I++)Pe(E[I]);delete h.g[v],h.h--}}this.F=null},le.prototype.K=function(h,v,E,I){return this.i.add(String(h),v,!1,E,I)},le.prototype.L=function(h,v,E,I){return this.i.add(String(h),v,!0,E,I)};function An(h,v,E,I){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var z=!0,J=0;J<v.length;++J){var mt=v[J];if(mt&&!mt.da&&mt.capture==E){var Wt=mt.listener,en=mt.ha||mt.src;mt.fa&&cn(h.i,mt),z=Wt.call(en,I)!==!1&&z}}return z&&!I.defaultPrevented}function Ye(h,v,E){if(typeof h=="function")E&&(h=b(h,E));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function Mr(h){h.g=Ye(()=>{h.g=null,h.i&&(h.i=!1,Mr(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Oo extends ot{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Mr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kn(h){ot.call(this),this.h=h,this.g={}}O(Kn,ot);var Si=[];function Ai(h){W(h.g,function(v,E){this.g.hasOwnProperty(E)&&ir(v)},h),h.g={}}Kn.prototype.N=function(){Kn.aa.N.call(this),Ai(this)},Kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=d.JSON.stringify,Ii=d.JSON.parse,Ri=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Ci(){}Ci.prototype.h=null;function $n(h){return h.h||(h.h=h.i())}function _a(){}var Vr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){X.call(this,"d")}O(_r,X);function fs(){X.call(this,"c")}O(fs,X);var Dt={},be=null;function Te(){return be=be||new le}Dt.La="serverreachability";function Xe(h){X.call(this,Dt.La,h)}O(Xe,X);function sr(h){const v=Te();ie(v,new Xe(v))}Dt.STAT_EVENT="statevent";function Me(h,v){X.call(this,Dt.STAT_EVENT,h),this.stat=v}O(Me,X);function Gt(h){const v=Te();ie(v,new Me(v,h))}Dt.Ma="timingevent";function we(h,v){X.call(this,Dt.Ma,h),this.size=v}O(we,X);function ee(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Se(){this.g=!0}Se.prototype.xa=function(){this.g=!1};function ms(h,v,E,I,z,J){h.info(function(){if(h.g)if(J)for(var mt="",Wt=J.split("&"),en=0;en<Wt.length;en++){var Jt=Wt[en].split("=");if(1<Jt.length){var dn=Jt[0];Jt=Jt[1];var nn=dn.split("_");mt=2<=nn.length&&nn[1]=="type"?mt+(dn+"="+Jt+"&"):mt+(dn+"=redacted&")}}else mt=null;else mt=J;return"XMLHTTP REQ ("+I+") [attempt "+z+"]: "+v+`
`+E+`
`+mt})}function kr(h,v,E,I,z,J,mt){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+z+"]: "+v+`
`+E+`
`+J+" "+mt})}function Di(h,v,E,I){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+va(h,E)+(I?" "+I:"")})}function Th(h,v){h.info(function(){return"TIMEOUT: "+v})}Se.prototype.info=function(){};function va(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var I=E[h];if(!(2>I.length)){var z=I[1];if(Array.isArray(z)&&!(1>z.length)){var J=z[0];if(J!="noop"&&J!="stop"&&J!="close")for(var mt=1;mt<z.length;mt++)z[mt]=""}}}}return Qn(E)}catch{return v}}var ps={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$r;function Yr(){}O(Yr,Ci),Yr.prototype.g=function(){return new XMLHttpRequest},Yr.prototype.i=function(){return{}},$r=new Yr;function Mn(h,v,E,I){this.j=h,this.i=v,this.l=E,this.R=I||1,this.U=new Kn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}var pu={},No={};function Lr(h,v,E){h.L=1,h.v=Sa(ar(v)),h.m=E,h.P=!0,Pi(h,null)}function Pi(h,v){h.F=Date.now(),Ea(h),h.A=ar(h.v);var E=h.A,I=h.R;Array.isArray(I)||(I=[String(I)]),Tu(E.i,"t",I),h.C=0,E=h.j.J,h.h=new qe,h.g=Lh(h.j,E?v:null,!h.m),0<h.O&&(h.M=new Oo(b(h.Y,h,h.g),h.O)),v=h.U,E=h.g,I=h.ca;var z="readystatechange";Array.isArray(z)||(z&&(Si[0]=z.toString()),z=Si);for(var J=0;J<z.length;J++){var mt=Ne(E,z[J],I||v.handleEvent,!1,v.h||v);if(!mt)break;v.g[mt.key]=mt}v=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),sr(),ms(h.i,h.u,h.A,h.l,h.R,h.m)}Mn.prototype.ca=function(h){h=h.target;const v=this.M;v&&br(h)==3?v.j():this.Y(h)},Mn.prototype.Y=function(h){try{if(h==this.g)t:{const nn=br(this.g);var v=this.g.Ba();const Bi=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||Dh(this.g)))){this.J||nn!=4||v==7||(v==8||0>=Bi?sr(3):sr(2)),gs(this);var E=this.g.Z();this.X=E;e:if(bh(this)){var I=Dh(this.g);h="";var z=I.length,J=br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Xr(this);var mt="";break e}this.h.i=new d.TextDecoder}for(v=0;v<z;v++)this.h.h=!0,h+=this.h.i.decode(I[v],{stream:!(J&&v==z-1)});I.length=0,this.h.g+=h,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=E==200,kr(this.i,this.u,this.A,this.l,this.R,nn,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Wt,en=this.g;if((Wt=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Wt)){var Jt=Wt;break e}}Jt=null}if(E=Jt)Di(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ta(this,E);else{this.o=!1,this.s=3,Gt(12),yn(this),Xr(this);break t}}if(this.P){E=!0;let _n;for(;!this.J&&this.C<mt.length;)if(_n=wh(this,mt),_n==No){nn==4&&(this.s=4,Gt(14),E=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==pu){this.s=4,Gt(15),Di(this.i,this.l,mt,"[Invalid Chunk]"),E=!1;break}else Di(this.i,this.l,_n,null),Ta(this,_n);if(bh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||mt.length!=0||this.h.h||(this.s=1,Gt(16),E=!1),this.o=this.o&&E,!E)Di(this.i,this.l,mt,"[Invalid Chunked Response]"),yn(this),Xr(this);else if(0<mt.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),Oa(dn),dn.M=!0,Gt(11))}}else Di(this.i,this.l,mt,null),Ta(this,mt);nn==4&&yn(this),this.o&&!this.J&&(nn==4?Mh(this.j,this):(this.o=!1,Ea(this)))}else Rm(this.g),E==400&&0<mt.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),yn(this),Xr(this)}}}catch{}finally{}};function bh(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function wh(h,v){var E=h.C,I=v.indexOf(`
`,E);return I==-1?No:(E=Number(v.substring(E,I)),isNaN(E)?pu:(I+=1,I+E>v.length?No:(v=v.slice(I,I+E),h.C=I+E,v)))}Mn.prototype.cancel=function(){this.J=!0,yn(this)};function Ea(h){h.S=Date.now()+h.I,Sh(h,h.I)}function Sh(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ee(b(h.ba,h),v)}function gs(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Mn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Th(this.i,this.A),this.L!=2&&(sr(),Gt(17)),yn(this),this.s=2,Xr(this)):Sh(this,this.S-h)};function Xr(h){h.j.G==0||h.J||Mh(h.j,h)}function yn(h){gs(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Ai(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Ta(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||gu(E.h,h))){if(!h.K&&gu(E.h,h)&&E.G==3){try{var I=E.Da.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var z=I;if(z[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Go(E),qo(E);else break t;Iu(E),Gt(18)}}else E.za=z[1],0<E.za-E.T&&37500>z[2]&&E.F&&E.v==0&&!E.C&&(E.C=ee(b(E.Za,E),6e3));if(1>=Vo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ui(E,11)}else if((h.K||E.g==h)&&Go(E),!Z(v))for(z=E.Da.g.parse(v),v=0;v<z.length;v++){let Jt=z[v];if(E.T=Jt[0],Jt=Jt[1],E.G==2)if(Jt[0]=="c"){E.K=Jt[1],E.ia=Jt[2];const dn=Jt[3];dn!=null&&(E.la=dn,E.j.info("VER="+E.la));const nn=Jt[4];nn!=null&&(E.Aa=nn,E.j.info("SVER="+E.Aa));const Bi=Jt[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&(I=1.5*Bi,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const _n=h.g;if(_n){const ri=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var J=I.h;J.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ko(J,J.h),J.h=null))}if(I.D){const Cu=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Cu&&(I.ya=Cu,de(I.I,I.D,Cu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var mt=h;if(I.qa=kh(I,I.J?I.ia:null,I.W),mt.K){Vn(I.h,mt);var Wt=mt,en=I.L;en&&(Wt.I=en),Wt.B&&(gs(Wt),Ea(Wt)),I.g=mt}else Oh(I);0<E.i.length&&Ho(E)}else Jt[0]!="stop"&&Jt[0]!="close"||Ui(E,7);else E.G==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?Ui(E,7):Su(E):Jt[0]!="noop"&&E.l&&E.l.ta(Jt),E.v=0)}}sr(4)}catch{}}var Ah=class{constructor(h,v){this.g=h,this.map=v}};function Oi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Vo(h){return h.h?1:h.g?h.g.size:0}function gu(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function ko(h,v){h.g?h.g.add(v):h.h=v}function Vn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Oi.prototype.cancel=function(){if(this.i=yu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function yu(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return L(h.i)}function wm(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],E=h.length,I=0;I<E;I++)v.push(h[I]);return v}v=[],E=0;for(I in h)v[E++]=h[I];return v}function Lo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const I in h)v[E++]=I;return v}}}function _u(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=Lo(h),I=wm(h),z=I.length,J=0;J<z;J++)v.call(void 0,I[J],E&&E[J],h)}var ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sm(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var I=h[E].indexOf("="),z=null;if(0<=I){var J=h[E].substring(0,I);z=h[E].substring(I+1)}else J=h[E];v(J,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function We(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof We){this.h=h.h,wa(this,h.j),this.o=h.o,this.g=h.g,ys(this,h.s),this.l=h.l;var v=h.i,E=new Mi;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Ni(this,E),this.m=h.m}else h&&(v=String(h).match(ba))?(this.h=!1,wa(this,v[1]||"",!0),this.o=vr(v[2]||""),this.g=vr(v[3]||"",!0),ys(this,v[4]),this.l=vr(v[5]||"",!0),Ni(this,v[6]||"",!0),this.m=vr(v[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}We.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Aa(v,vu,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Aa(v,vu,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Aa(E,E.charAt(0)=="/"?Am:Eu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Aa(E,Uo)),h.join("")};function ar(h){return new We(h)}function wa(h,v,E){h.j=E?vr(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ys(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Ni(h,v,E){v instanceof Mi?(h.i=v,Rh(h.i,h.h)):(E||(v=Aa(v,Im)),h.i=new Mi(v,h.h))}function de(h,v,E){h.i.set(v,E)}function Sa(h){return de(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function vr(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Aa(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,Ih),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ih(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var vu=/[#\/\?@]/g,Eu=/[#\?:]/g,Am=/[#\?]/g,Im=/[#\?@]/g,Uo=/#/g;function Mi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Er(h){h.g||(h.g=new Map,h.h=0,h.i&&Sm(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=Mi.prototype,n.add=function(h,v){Er(this),this.i=null,h=Wr(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Vi(h,v){Er(h),v=Wr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ki(h,v){return Er(h),v=Wr(h,v),h.g.has(v)}n.forEach=function(h,v){Er(this),this.g.forEach(function(E,I){E.forEach(function(z){h.call(v,z,I,this)},this)},this)},n.na=function(){Er(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let I=0;I<v.length;I++){const z=h[I];for(let J=0;J<z.length;J++)E.push(v[I])}return E},n.V=function(h){Er(this);let v=[];if(typeof h=="string")ki(this,h)&&(v=v.concat(this.g.get(Wr(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},n.set=function(h,v){return Er(this),this.i=null,h=Wr(this,h),ki(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Tu(h,v,E){Vi(h,v),0<E.length&&(h.i=null,h.g.set(Wr(h,v),L(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var I=v[E];const J=encodeURIComponent(String(I)),mt=this.V(I);for(I=0;I<mt.length;I++){var z=J;mt[I]!==""&&(z+="="+encodeURIComponent(String(mt[I]))),h.push(z)}}return this.i=h.join("&")};function Wr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Rh(h,v){v&&!h.j&&(Er(h),h.i=null,h.g.forEach(function(E,I){var z=I.toLowerCase();I!=z&&(Vi(this,I),Tu(this,z,E))},h)),h.j=v}function Ia(h,v){const E=new Se;if(d.Image){const I=new Image;I.onload=R(Tr,E,"TestLoadImage: loaded",!0,v,I),I.onerror=R(Tr,E,"TestLoadImage: error",!1,v,I),I.onabort=R(Tr,E,"TestLoadImage: abort",!1,v,I),I.ontimeout=R(Tr,E,"TestLoadImage: timeout",!1,v,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else v(!1)}function Ur(h,v){const E=new Se,I=new AbortController,z=setTimeout(()=>{I.abort(),Tr(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:I.signal}).then(J=>{clearTimeout(z),J.ok?Tr(E,"TestPingServer: ok",!0,v):Tr(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(z),Tr(E,"TestPingServer: error",!1,v)})}function Tr(h,v,E,I,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),I(E)}catch{}}function Ra(){this.g=new Ri}function Jr(h,v,E){const I=E||"";try{_u(h,function(z,J){let mt=z;p(z)&&(mt=Qn(z)),v.push(I+J+"="+encodeURIComponent(mt))})}catch(z){throw v.push(I+"type="+encodeURIComponent("_badmap")),z}}function _s(h){this.l=h.Ub||null,this.j=h.eb||!1}O(_s,Ci),_s.prototype.g=function(){return new Li(this.l,this.j)},_s.prototype.i=function(h){return function(){return h}}({});function Li(h,v){le.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Li,le),n=Li.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,ti(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function bu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Zr(this):ti(this),this.readyState==3&&bu(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Zr(this))},n.Qa=function(h){this.g&&(this.response=h,Zr(this))},n.ga=function(){this.g&&Zr(this)};function Zr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ti(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function ti(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function wu(h){let v="";return W(h,function(E,I){v+=I,v+=":",v+=E,v+=`\r
`}),v}function hn(h,v,E){t:{for(I in E){var I=!1;break t}I=!0}I||(E=wu(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):de(h,v,E))}function ae(h){le.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(ae,le);var Bo=/^https?$/i,Ca=["POST","PUT"];n=ae.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$r.g(),this.v=this.o?$n(this.o):$n($r),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(J){Ch(this,J);return}if(h=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var z in I)E.set(z,I[z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())E.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),z=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ca,v,void 0))||I||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,mt]of E)this.g.setRequestHeader(J,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Da(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){Ch(this,J)}};function Ch(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Fo(h),ei(h)}function Fo(h){h.A||(h.A=!0,ie(h,"complete"),ie(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ie(this,"complete"),ie(this,"abort"),ei(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),ae.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?zo(this):this.bb())},n.bb=function(){zo(this)};function zo(h){if(h.h&&typeof u<"u"&&(!h.v[1]||br(h)!=4||h.Z()!=2)){if(h.u&&br(h)==4)Ye(h.Ea,0,h);else if(ie(h,"readystatechange"),br(h)==4){h.h=!1;try{const mt=h.Z();t:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var I;if(I=mt===0){var z=String(h.D).match(ba)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),I=!Bo.test(z?z.toLowerCase():"")}E=I}if(E)ie(h,"complete"),ie(h,"success");else{h.m=6;try{var J=2<br(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",Fo(h)}}finally{ei(h)}}}}function ei(h,v){if(h.g){Da(h);const E=h.g,I=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||ie(h,"ready");try{E.onreadystatechange=I}catch{}}}function Da(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function br(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<br(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ii(v)}};function Dh(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Rm(h){const v={};h=(h.g&&2<=br(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(Z(h[I]))continue;var E=P(h[I]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=v[z]||[];v[z]=J,J.push(E)}x(v,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xa(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function jo(h){this.Aa=0,this.i=[],this.j=new Se,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xa("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xa("baseRetryDelayMs",5e3,h),this.cb=xa("retryDelaySeedMs",1e4,h),this.Wa=xa("forwardChannelMaxRetries",2,h),this.wa=xa("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Oi(h&&h.concurrentRequestLimit),this.Da=new Ra,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=jo.prototype,n.la=8,n.G=1,n.connect=function(h,v,E,I){Gt(0),this.W=h,this.H=v||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=kh(this,null,this.W),Ho(this)};function Su(h){if(xh(h),h.G==3){var v=h.U++,E=ar(h.I);if(de(E,"SID",h.K),de(E,"RID",v),de(E,"TYPE","terminate"),Pa(h,E),v=new Mn(h,h.j,v),v.L=2,v.v=Sa(ar(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.v,E=!0),E||(v.g=Lh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ea(v)}Vh(h)}function qo(h){h.g&&(Oa(h),h.g.cancel(),h.g=null)}function xh(h){qo(h),h.u&&(d.clearTimeout(h.u),h.u=null),Go(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ho(h){if(!Mo(h.h)&&!h.s){h.s=!0;var v=h.Ga;rt||V(),pt||(rt(),pt=!0),At.add(v,h),h.B=0}}function Cm(h,v){return Vo(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ee(b(h.Ga,h,v),Ru(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const z=new Mn(this,this.j,h);let J=this.o;if(this.S&&(J?(J=w(J),D(J,this.S)):J=this.S),this.m!==null||this.O||(z.H=J,J=null),this.P)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(v+=I,4096<v){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Ph(this,z,v),E=ar(this.I),de(E,"RID",h),de(E,"CVER",22),this.D&&de(E,"X-HTTP-Session-Id",this.D),Pa(this,E),J&&(this.O?v="headers="+encodeURIComponent(String(wu(J)))+"&"+v:this.m&&hn(E,this.m,J)),ko(this.h,z),this.Ua&&de(E,"TYPE","init"),this.P?(de(E,"$req",v),de(E,"SID","null"),z.T=!0,Lr(z,E,null)):Lr(z,E,v),this.G=2}}else this.G==3&&(h?Au(this,h):this.i.length==0||Mo(this.h)||Au(this))};function Au(h,v){var E;v?E=v.l:E=h.U++;const I=ar(h.I);de(I,"SID",h.K),de(I,"RID",E),de(I,"AID",h.T),Pa(h,I),h.m&&h.o&&hn(I,h.m,h.o),E=new Mn(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Ph(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ko(h.h,E),Lr(E,I,v)}function Pa(h,v){h.H&&W(h.H,function(E,I){de(v,I,E)}),h.l&&_u({},function(E,I){de(v,I,E)})}function Ph(h,v,E){E=Math.min(h.i.length,E);var I=h.l?b(h.l.Na,h.l,h):null;t:{var z=h.i;let J=-1;for(;;){const mt=["count="+E];J==-1?0<E?(J=z[0].g,mt.push("ofs="+J)):J=0:mt.push("ofs="+J);let Wt=!0;for(let en=0;en<E;en++){let Jt=z[en].g;const dn=z[en].map;if(Jt-=J,0>Jt)J=Math.max(0,z[en].g-100),Wt=!1;else try{Jr(dn,mt,"req"+Jt+"_")}catch{I&&I(dn)}}if(Wt){I=mt.join("&");break t}}}return h=h.i.splice(0,E),v.D=h,I}function Oh(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;rt||V(),pt||(rt(),pt=!0),At.add(v,h),h.v=0}}function Iu(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ee(b(h.Fa,h),Ru(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Nh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ee(b(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),qo(this),Nh(this))};function Oa(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Nh(h){h.g=new Mn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=ar(h.qa);de(v,"RID","rpc"),de(v,"SID",h.K),de(v,"AID",h.T),de(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&de(v,"TO",h.ja),de(v,"TYPE","xmlhttp"),Pa(h,v),h.m&&h.o&&hn(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Sa(ar(v)),E.m=null,E.P=!0,Pi(E,h)}n.Za=function(){this.C!=null&&(this.C=null,qo(this),Iu(this),Gt(19))};function Go(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Mh(h,v){var E=null;if(h.g==v){Go(h),Oa(h),h.g=null;var I=2}else if(gu(h.h,v))E=v.D,Vn(h.h,v),I=1;else return;if(h.G!=0){if(v.o)if(I==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var z=h.B;I=Te(),ie(I,new we(I,E)),Ho(h)}else Oh(h);else if(z=v.s,z==3||z==0&&0<v.X||!(I==1&&Cm(h,v)||I==2&&Iu(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),z){case 1:Ui(h,5);break;case 4:Ui(h,10);break;case 3:Ui(h,6);break;default:Ui(h,2)}}}function Ru(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function Ui(h,v){if(h.j.info("Error code "+v),v==2){var E=b(h.fb,h),I=h.Xa;const z=!I;I=new We(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||wa(I,"https"),Sa(I),z?Ia(I.toString(),E):Ur(I.toString(),E)}else Gt(2);h.G=0,h.l&&h.l.sa(v),Vh(h),xh(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function Vh(h){if(h.G=0,h.ka=[],h.l){const v=yu(h.h);(v.length!=0||h.i.length!=0)&&(k(h.ka,v),k(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function kh(h,v,E){var I=E instanceof We?ar(E):new We(E);if(I.g!="")v&&(I.g=v+"."+I.g),ys(I,I.s);else{var z=d.location;I=z.protocol,v=v?v+"."+z.hostname:z.hostname,z=+z.port;var J=new We(null);I&&wa(J,I),v&&(J.g=v),z&&ys(J,z),E&&(J.l=E),I=J}return E=h.D,v=h.ya,E&&v&&de(I,E,v),de(I,"VER",h.la),Pa(h,I),I}function Lh(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new ae(new _s({eb:E})):new ae(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uh(){}n=Uh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ko(){}Ko.prototype.g=function(h,v){return new kn(h,v)};function kn(h,v){le.call(this),this.g=new jo(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!Z(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Z(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new ni(this)}O(kn,le),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){Su(this.g)},kn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Qn(h),h=E);v.i.push(new Ah(v.Ya++,h)),v.G==3&&Ho(v)},kn.prototype.N=function(){this.g.l=null,delete this.j,Su(this.g),delete this.g,kn.aa.N.call(this)};function Bh(h){_r.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}O(Bh,_r);function Fh(){fs.call(this),this.status=1}O(Fh,fs);function ni(h){this.g=h}O(ni,Uh),ni.prototype.ua=function(){ie(this.g,"a")},ni.prototype.ta=function(h){ie(this.g,new Bh(h))},ni.prototype.sa=function(h){ie(this.g,new Fh)},ni.prototype.ra=function(){ie(this.g,"b")},Ko.prototype.createWebChannel=Ko.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,bA=function(){return new Ko},TA=function(){return Te()},EA=Dt,my={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,uf=ps,xi.COMPLETE="complete",vA=xi,_a.EventType=Vr,Vr.OPEN="a",Vr.CLOSE="b",Vr.ERROR="c",Vr.MESSAGE="d",le.prototype.listen=le.prototype.K,Sc=_a,ae.prototype.listenOnce=ae.prototype.L,ae.prototype.getLastError=ae.prototype.Ka,ae.prototype.getLastErrorCode=ae.prototype.Ba,ae.prototype.getStatus=ae.prototype.Z,ae.prototype.getResponseJson=ae.prototype.Oa,ae.prototype.getResponseText=ae.prototype.oa,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Ha,_A=ae}).apply(typeof $d<"u"?$d:typeof self<"u"?self:typeof window<"u"?window:{});const Sb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new Qy("@firebase/firestore");function Il(){return vo.logLevel}function ct(n,...t){if(vo.logLevel<=Yt.DEBUG){const e=t.map(a_);vo.debug(`Firestore (${cu}): ${n}`,...e)}}function Ke(n,...t){if(vo.logLevel<=Yt.ERROR){const e=t.map(a_);vo.error(`Firestore (${cu}): ${n}`,...e)}}function Hc(n,...t){if(vo.logLevel<=Yt.WARN){const e=t.map(a_);vo.warn(`Firestore (${cu}): ${n}`,...e)}}function a_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n="Unexpected state"){const t=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: `+n;throw Ke(t),new Error(t)}function It(n,t){n||wt()}function St(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends bi{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class rM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Pn.UNAUTHENTICATED))}shutdown(){}}class iM{constructor(t){this.t=t,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){It(this.o===void 0);let r=this.i;const a=m=>this.i!==r?(r=this.i,e(m)):Promise.resolve();let l=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new _i,t.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new _i)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It(typeof r.accessToken=="string"),new nM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return It(t===null||typeof t=="string"),new Pn(t)}}class sM{constructor(t,e,r){this.l=t,this.h=e,this.P=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class aM{constructor(t,e,r){this.l=t,this.h=e,this.P=r}getToken(){return Promise.resolve(new sM(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oM{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lM{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){It(this.o===void 0);const r=l=>{l.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,ct("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const a=l=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(It(typeof e.token=="string"),this.R=e.token,new oM(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const a=uM(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<e&&(r+=t.charAt(a[l]%t.length))}return r}}function kt(n,t){return n<t?-1:n>t?1:0}function Wl(n,t,e){return n.length===t.length&&n.every((r,a)=>e(r,t[a]))}function SA(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new gt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return De.fromMillis(Date.now())}static fromDate(t){return De.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new De(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new De(0,0))}static max(){return new Ct(new De(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,e,r){e===void 0?e=0:e>t.length&&wt(),r===void 0?r=t.length-e:r>t.length-e&&wt(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Gc.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Gc?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let a=0;a<r;a++){const l=t.get(a),u=e.get(a);if(l<u)return-1;if(l>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class oe extends Gc{construct(t,e,r){return new oe(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new gt(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(a=>a.length>0))}return new oe(e)}static emptyPath(){return new oe([])}}const cM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ce extends Gc{construct(t,e,r){return new Ce(t,e,r)}static isValidIdentifier(t){return cM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ce.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ce(["__name__"])}static fromServerFormat(t){const e=[];let r="",a=0;const l=()=>{if(r.length===0)throw new gt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let u=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new gt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new gt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(r+=d,a++):(l(),a++)}if(l(),u)throw new gt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ce(e)}static emptyPath(){return new Ce([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(oe.fromString(t))}static fromName(t){return new yt(oe.fromString(t).popFirst(5))}static empty(){return new yt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return oe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new oe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t,e,r,a){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=a}}function py(n){return n.fields.find(t=>t.kind===2)}function Wa(n){return n.fields.filter(t=>t.kind!==2)}Nf.UNKNOWN_ID=-1;class cf{constructor(t,e){this.fieldPath=t,this.kind=e}}class Kc{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Kc(0,gr.min())}}function AA(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ct.fromTimestamp(r===1e9?new De(e+1,0):new De(e,r));return new gr(a,yt.empty(),t)}function IA(n){return new gr(n.readTime,n.key,-1)}class gr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new gr(Ct.min(),yt.empty(),-1)}static max(){return new gr(Ct.max(),yt.empty(),-1)}}function o_(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:kt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(n){if(n.code!==nt.FAILED_PRECONDITION||n.message!==RA)throw n;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new G((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(r,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof G?e:G.resolve(e)}catch(e){return G.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):G.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):G.reject(e)}static resolve(t){return new G((e,r)=>{e(t)})}static reject(t){return new G((e,r)=>{r(t)})}static waitFor(t){return new G((e,r)=>{let a=0,l=0,u=!1;t.forEach(d=>{++a,d.next(()=>{++l,u&&l===a&&e()},m=>r(m))}),u=!0,l===a&&e()})}static or(t){let e=G.resolve(!1);for(const r of t)e=e.next(a=>a?G.resolve(a):r());return e}static forEach(t,e){const r=[];return t.forEach((a,l)=>{r.push(e.call(this,a,l))}),this.waitFor(r)}static mapArray(t,e){return new G((r,a)=>{const l=t.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;e(t[p]).next(y=>{u[p]=y,++d,d===l&&r(u)},y=>a(y))}})}static doWhile(t,e){return new G((r,a)=>{const l=()=>{t()===!0?e().next(()=>{l()},a):r()};l()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new _i,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new Pc(t,e.error)):this.V.resolve()},this.transaction.onerror=r=>{const a=l_(r.target.error);this.V.reject(new Pc(t,a))}}static open(t,e,r,a){try{return new rm(e,t.transaction(a,r))}catch(l){throw new Pc(e,l)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(ct("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new dM(e)}}class sa{constructor(t,e,r){this.name=t,this.version=e,this.p=r,sa.S(on())===12.2&&Ke("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ct("SimpleDb","Removing database:",t),Ja(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!RS())return!1;if(sa.v())return!0;const t=on(),e=sa.S(t),r=0<e&&e<10,a=DA(t),l=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||l)}static v(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.C)==="YES"}static F(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(t){return this.db||(ct("SimpleDb","Opening database:",this.name),this.db=await new Promise((e,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const u=l.target.result;e(u)},a.onblocked=()=>{r(new Pc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const u=l.target.error;u.name==="VersionError"?r(new gt(nt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new gt(nt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Pc(t,u))},a.onupgradeneeded=l=>{ct("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const u=l.target.result;this.p.O(u,a.transaction,l.oldVersion,this.version).next(()=>{ct("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(t){this.N=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,r,a){const l=e==="readonly";let u=0;for(;;){++u;try{this.db=await this.M(t);const d=rm.open(this.db,t,l?"readonly":"readwrite",r),m=a(d).next(p=>(d.g(),p)).catch(p=>(d.abort(p),G.reject(p))).toPromise();return m.catch(()=>{}),await d.m,m}catch(d){const m=d,p=m.name!=="FirebaseError"&&u<3;if(ct("SimpleDb","Transaction failed with error:",m.message,"Retrying:",p),this.close(),!p)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function DA(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class hM{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return Ja(this.B.delete())}}class Pc extends gt{constructor(t,e){super(nt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ma(n){return n.name==="IndexedDbTransactionError"}class dM{constructor(t){this.store=t}put(t,e){let r;return e!==void 0?(ct("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(ct("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Ja(r)}add(t){return ct("SimpleDb","ADD",this.store.name,t,t),Ja(this.store.add(t))}get(t){return Ja(this.store.get(t)).next(e=>(e===void 0&&(e=null),ct("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return ct("SimpleDb","DELETE",this.store.name,t),Ja(this.store.delete(t))}count(){return ct("SimpleDb","COUNT",this.store.name),Ja(this.store.count())}U(t,e){const r=this.options(t,e),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(r.range);return new G((u,d)=>{l.onerror=m=>{d(m.target.error)},l.onsuccess=m=>{u(m.target.result)}})}{const l=this.cursor(r),u=[];return this.W(l,(d,m)=>{u.push(m)}).next(()=>u)}}G(t,e){const r=this.store.getAll(t,e===null?void 0:e);return new G((a,l)=>{r.onerror=u=>{l(u.target.error)},r.onsuccess=u=>{a(u.target.result)}})}j(t,e){ct("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.H=!1;const a=this.cursor(r);return this.W(a,(l,u,d)=>d.delete())}J(t,e){let r;e?r=t:(r={},e=t);const a=this.cursor(r);return this.W(a,e)}Y(t){const e=this.cursor({});return new G((r,a)=>{e.onerror=l=>{const u=l_(l.target.error);a(u)},e.onsuccess=l=>{const u=l.target.result;u?t(u.primaryKey,u.value).next(d=>{d?u.continue():r()}):r()}})}W(t,e){const r=[];return new G((a,l)=>{t.onerror=u=>{l(u.target.error)},t.onsuccess=u=>{const d=u.target.result;if(!d)return void a();const m=new hM(d),p=e(d.primaryKey,d.value,m);if(p instanceof G){const y=p.catch(_=>(m.done(),G.reject(_)));r.push(y)}m.isDone?a():m.K===null?d.continue():d.continue(m.K)}}).next(()=>G.waitFor(r))}options(t,e){let r;return t!==void 0&&(typeof t=="string"?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.H?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Ja(n){return new G((t,e)=>{n.onsuccess=r=>{const a=r.target.result;t(a)},n.onerror=r=>{const a=l_(r.target.error);e(a)}})}let Ab=!1;function l_(n){const t=sa.S(on());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new gt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ab||(Ab=!0,setTimeout(()=>{throw r},0)),r}}return n}class fM{constructor(t,e){this.asyncQueue=t,this.Z=e,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(t){ct("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,async()=>{this.task=null;try{ct("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(e){ma(e)?ct("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await fa(e)}await this.X(6e4)})}}class mM{constructor(t,e){this.localStore=t,this.persistence=e}async ee(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",e=>this.te(e,t))}te(t,e){const r=new Set;let a=e,l=!0;return G.doWhile(()=>l===!0&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(u!==null&&!r.has(u))return ct("IndexBackfiller",`Processing collection: ${u}`),this.ne(t,u,a).next(d=>{a-=d,r.add(u)});l=!1})).next(()=>e-a)}ne(t,e,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(a=>this.localStore.localDocuments.getNextDocuments(t,e,a,r).next(l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.re(a,l)).next(d=>(ct("IndexBackfiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>u.size)}))}re(t,e){let r=t;return e.changes.forEach((a,l)=>{const u=IA(l);o_(u,r)>0&&(r=u)}),new gr(r.readTime,r.documentKey,Math.max(e.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ie(r),this.se=r=>e.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}tr.oe=-1;function im(n){return n==null}function Qc(n){return n===0&&1/n==-1/0}function xA(n){return typeof n=="number"&&Number.isInteger(n)&&!Qc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Ib(t)),t=pM(n.get(e),t);return Ib(t)}function pM(n,t){let e=t;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case"":e+="";break;default:e+=l}}return e}function Ib(n){return n+""}function fi(n){const t=n.length;if(It(t>=2),t===2)return It(n.charAt(0)===""&&n.charAt(1)===""),oe.emptyPath();const e=t-2,r=[];let a="";for(let l=0;l<t;){const u=n.indexOf("",l);switch((u<0||u>e)&&wt(),n.charAt(u+1)){case"":const d=n.substring(l,u);let m;a.length===0?m=d:(a+=d,m=a,a=""),r.push(m);break;case"":a+=n.substring(l,u),a+="\0";break;case"":a+=n.substring(l,u+1);break;default:wt()}l=u+2}return new oe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n,t){return[n,jn(t)]}function PA(n,t,e){return[n,jn(t),e]}const gM={},yM=["prefixPath","collectionGroup","readTime","documentId"],_M=["prefixPath","collectionGroup","documentId"],vM=["collectionGroup","readTime","prefixPath","documentId"],EM=["canonicalId","targetId"],TM=["targetId","path"],bM=["path","targetId"],wM=["collectionId","parent"],SM=["indexId","uid"],AM=["uid","sequenceNumber"],IM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],RM=["indexId","uid","orderedDocumentKey"],CM=["userId","collectionPath","documentId"],DM=["userId","collectionPath","largestBatchId"],xM=["userId","collectionGroup","largestBatchId"],OA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],PM=[...OA,"documentOverlays"],NA=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],MA=NA,u_=[...MA,"indexConfiguration","indexState","indexEntries"],OM=u_,NM=[...u_,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy extends CA{constructor(t,e){super(),this._e=t,this.currentSequenceNumber=e}}function un(n,t){const e=St(n);return sa.F(e._e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Do(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function VA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t,e){this.comparator=t,this.root=e||bn.EMPTY}insert(t,e){return new Ee(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,bn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return e+r.left.size;a<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yd(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yd(this.root,t,this.comparator,!0)}}class Yd{constructor(t,e,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?r(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class bn{constructor(t,e,r,a,l){this.key=t,this.value=e,this.color=r??bn.RED,this.left=a??bn.EMPTY,this.right=l??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,a,l){return new bn(t??this.key,e??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,r),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return bn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const t=this.left.check();if(t!==this.right.check())throw wt();return t+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(t,e,r,a,l){return this}insert(t,e,r){return new bn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Db(this.data.getIterator())}getIteratorFrom(t){return new Db(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof ge)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ge(this.comparator);return e.data=t,e}}class Db{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Tl(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this.fields=t,t.sort(Ce.comparator)}static empty(){return new er([])}unionWith(t){let e=new ge(Ce.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new er(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Wl(this.fields,t.fields,(e,r)=>e.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new kA("Invalid base64 string: "+l):l}}(t);return new Qe(e)}static fromUint8Array(t){const e=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(t);return new Qe(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const MM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(n){if(It(!!n),typeof n=="string"){let t=0;const e=MM.exec(n);if(It(!!e),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ie(n.seconds),nanos:Ie(n.nanos)}}function Ie(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ua(n){return typeof n=="string"?Qe.fromBase64String(n):Qe.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="server_timestamp"}function h_(n){const t=n.mapValue.fields.__previous_value__;return c_(t)?h_(t):t}function $c(n){const t=cs(n.mapValue.fields.__local_write_time__.timestampValue);return new De(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(t,e,r,a,l,u,d,m,p){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p}}class Eo{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Eo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Eo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},df={nullValue:"NULL_VALUE"};function To(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?c_(n)?4:LA(n)?9007199254740991:sm(n)?10:11:wt()}function Ei(n,t){if(n===t)return!0;const e=To(n);if(e!==To(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return $c(n).isEqual($c(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=cs(a.timestampValue),d=cs(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(a,l){return ua(a.bytesValue).isEqual(ua(l.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(a,l){return Ie(a.geoPointValue.latitude)===Ie(l.geoPointValue.latitude)&&Ie(a.geoPointValue.longitude)===Ie(l.geoPointValue.longitude)}(n,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Ie(a.integerValue)===Ie(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Ie(a.doubleValue),d=Ie(l.doubleValue);return u===d?Qc(u)===Qc(d):isNaN(u)&&isNaN(d)}return!1}(n,t);case 9:return Wl(n.arrayValue.values||[],t.arrayValue.values||[],Ei);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Cb(u)!==Cb(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!Ei(u[m],d[m])))return!1;return!0}(n,t);default:return wt()}}function Yc(n,t){return(n.values||[]).find(e=>Ei(e,t))!==void 0}function ca(n,t){if(n===t)return 0;const e=To(n),r=To(t);if(e!==r)return kt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return kt(n.booleanValue,t.booleanValue);case 2:return function(l,u){const d=Ie(l.integerValue||l.doubleValue),m=Ie(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,t);case 3:return xb(n.timestampValue,t.timestampValue);case 4:return xb($c(n),$c(t));case 5:return kt(n.stringValue,t.stringValue);case 6:return function(l,u){const d=ua(l),m=ua(u);return d.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(l,u){const d=l.split("/"),m=u.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=kt(d[p],m[p]);if(y!==0)return y}return kt(d.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(l,u){const d=kt(Ie(l.latitude),Ie(u.latitude));return d!==0?d:kt(Ie(l.longitude),Ie(u.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return Pb(n.arrayValue,t.arrayValue);case 10:return function(l,u){var d,m,p,y;const _=l.fields||{},b=u.fields||{},R=(d=_.value)===null||d===void 0?void 0:d.arrayValue,O=(m=b.value)===null||m===void 0?void 0:m.arrayValue,L=kt(((p=R==null?void 0:R.values)===null||p===void 0?void 0:p.length)||0,((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0);return L!==0?L:Pb(R,O)}(n.mapValue,t.mapValue);case 11:return function(l,u){if(l===ea.mapValue&&u===ea.mapValue)return 0;if(l===ea.mapValue)return 1;if(u===ea.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=kt(m[_],y[_]);if(b!==0)return b;const R=ca(d[m[_]],p[y[_]]);if(R!==0)return R}return kt(m.length,y.length)}(n.mapValue,t.mapValue);default:throw wt()}}function xb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return kt(n,t);const e=cs(n),r=cs(t),a=kt(e.seconds,r.seconds);return a!==0?a:kt(e.nanos,r.nanos)}function Pb(n,t){const e=n.values||[],r=t.values||[];for(let a=0;a<e.length&&a<r.length;++a){const l=ca(e[a],r[a]);if(l)return l}return kt(e.length,r.length)}function Jl(n){return yy(n)}function yy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const r=cs(e);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return ua(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return yt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let r="[",a=!0;for(const l of e.values||[])a?a=!1:r+=",",r+=yy(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(e){const r=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${yy(e.fields[u])}`;return a+"}"}(n.mapValue):wt()}function Xc(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function _y(n){return!!n&&"integerValue"in n}function Wc(n){return!!n&&"arrayValue"in n}function Ob(n){return!!n&&"nullValue"in n}function Nb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ff(n){return!!n&&"mapValue"in n}function sm(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="__vector__"}function Oc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Do(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=Oc(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Oc(n.arrayValue.values[e]);return t}return Object.assign({},n)}function LA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const UA={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function kM(n){return"nullValue"in n?df:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Xc(Eo.empty(),yt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?sm(n)?UA:{mapValue:{}}:wt()}function LM(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Xc(Eo.empty(),yt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?UA:"mapValue"in n?sm(n)?{mapValue:{}}:ea:wt()}function Mb(n,t){const e=ca(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function Vb(n,t){const e=ca(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.value=t}static empty(){return new On({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!ff(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Oc(e)}setAll(t){let e=Ce.emptyPath(),r={},a=[];t.forEach((u,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,r,a),r={},a=[],e=d.popLast()}u?r[d.lastSegment()]=Oc(u):a.push(d.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,r,a)}delete(t){const e=this.field(t.popLast());ff(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ei(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=e.mapValue.fields[t.get(r)];ff(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,r){Do(e,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new On(Oc(this.value))}}function BA(n){const t=[];return Do(n.fields,(e,r)=>{const a=new Ce([e]);if(ff(r)){const l=BA(r.mapValue).fields;if(l.length===0)t.push(a);else for(const u of l)t.push(a.child(u))}else t.push(a)}),new er(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t,e,r,a,l,u,d){this.key=t,this.documentType=e,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(t){return new Ue(t,0,Ct.min(),Ct.min(),Ct.min(),On.empty(),0)}static newFoundDocument(t,e,r,a){return new Ue(t,1,e,Ct.min(),r,a,0)}static newNoDocument(t,e){return new Ue(t,2,e,Ct.min(),Ct.min(),On.empty(),0)}static newUnknownDocument(t,e){return new Ue(t,3,e,Ct.min(),Ct.min(),On.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ue&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ue(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,e){this.position=t,this.inclusive=e}}function kb(n,t,e){let r=0;for(let a=0;a<n.position.length;a++){const l=t[a],u=n.position[a];if(l.field.isKeyField()?r=yt.comparator(yt.fromName(u.referenceValue),e.key):r=ca(u,e.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lb(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ei(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(t,e="asc"){this.field=t,this.dir=e}}function UM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{}class Xt extends FA{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new BM(t,e,r):e==="array-contains"?new jM(t,r):e==="in"?new KA(t,r):e==="not-in"?new qM(t,r):e==="array-contains-any"?new HM(t,r):new Xt(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new FM(t,r):new zM(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(ca(e,this.value)):e!==null&&To(this.value)===To(e)&&this.matchesComparison(ca(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class he extends FA{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new he(t,e)}matches(t){return tu(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tu(n){return n.op==="and"}function vy(n){return n.op==="or"}function d_(n){return zA(n)&&tu(n)}function zA(n){for(const t of n.filters)if(t instanceof he)return!1;return!0}function Ey(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+Jl(n.value);if(d_(n))return n.filters.map(t=>Ey(t)).join(",");{const t=n.filters.map(e=>Ey(e)).join(",");return`${n.op}(${t})`}}function jA(n,t){return n instanceof Xt?function(r,a){return a instanceof Xt&&r.op===a.op&&r.field.isEqual(a.field)&&Ei(r.value,a.value)}(n,t):n instanceof he?function(r,a){return a instanceof he&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,u,d)=>l&&jA(u,a.filters[d]),!0):!1}(n,t):void wt()}function qA(n,t){const e=n.filters.concat(t);return he.create(e,n.op)}function HA(n){return n instanceof Xt?function(e){return`${e.field.canonicalString()} ${e.op} ${Jl(e.value)}`}(n):n instanceof he?function(e){return e.op.toString()+" {"+e.getFilters().map(HA).join(" ,")+"}"}(n):"Filter"}class BM extends Xt{constructor(t,e,r){super(t,e,r),this.key=yt.fromName(r.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class FM extends Xt{constructor(t,e){super(t,"in",e),this.keys=GA("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class zM extends Xt{constructor(t,e){super(t,"not-in",e),this.keys=GA("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function GA(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(r=>yt.fromName(r.referenceValue))}class jM extends Xt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Wc(e)&&Yc(e.arrayValue,this.value)}}class KA extends Xt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Yc(this.value.arrayValue,e)}}class qM extends Xt{constructor(t,e){super(t,"not-in",e)}matches(t){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!Yc(this.value.arrayValue,e)}}class HM extends Xt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Wc(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>Yc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(t,e=null,r=[],a=[],l=null,u=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.ue=null}}function Ty(n,t=null,e=[],r=[],a=null,l=null,u=null){return new GM(n,t,e,r,a,l,u)}function bo(n){const t=St(n);if(t.ue===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>Ey(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),im(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>Jl(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>Jl(r)).join(",")),t.ue=e}return t.ue}function hh(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!UM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!jA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Lb(n.startAt,t.startAt)&&Lb(n.endAt,t.endAt)}function Vf(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function kf(n,t){return n.filters.filter(e=>e instanceof Xt&&e.field.isEqual(t))}function Ub(n,t,e){let r=df,a=!0;for(const l of kf(n,t)){let u=df,d=!0;switch(l.op){case"<":case"<=":u=kM(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,d=!1;break;case"!=":case"not-in":u=df}Mb({value:r,inclusive:a},{value:u,inclusive:d})<0&&(r=u,a=d)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];Mb({value:r,inclusive:a},{value:u,inclusive:e.inclusive})<0&&(r=u,a=e.inclusive);break}}return{value:r,inclusive:a}}function Bb(n,t,e){let r=ea,a=!0;for(const l of kf(n,t)){let u=ea,d=!0;switch(l.op){case">=":case">":u=LM(l.value),d=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,d=!1;break;case"!=":case"not-in":u=ea}Vb({value:r,inclusive:a},{value:u,inclusive:d})>0&&(r=u,a=d)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];Vb({value:r,inclusive:a},{value:u,inclusive:e.inclusive})>0&&(r=u,a=e.inclusive);break}}return{value:r,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t,e=null,r=[],a=[],l=null,u="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function QA(n,t,e,r,a,l,u,d){return new dh(n,t,e,r,a,l,u,d)}function am(n){return new dh(n)}function Fb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $A(n){return n.collectionGroup!==null}function Nc(n){const t=St(n);if(t.ce===null){t.ce=[];const e=new Set;for(const l of t.explicitOrderBy)t.ce.push(l),e.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new ge(Ce.comparator);return u.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.ce.push(new Mf(l,r))}),e.has(Ce.keyField().canonicalString())||t.ce.push(new Mf(Ce.keyField(),r))}return t.ce}function pr(n){const t=St(n);return t.le||(t.le=KM(t,Nc(n))),t.le}function KM(n,t){if(n.limitType==="F")return Ty(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Mf(a.field,l)});const e=n.endAt?new Zl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Zl(n.startAt.position,n.startAt.inclusive):null;return Ty(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function by(n,t){const e=n.filters.concat([t]);return new dh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function wy(n,t,e){return new dh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function om(n,t){return hh(pr(n),pr(t))&&n.limitType===t.limitType}function YA(n){return`${bo(pr(n))}|lt:${n.limitType}`}function Rl(n){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(a=>HA(a)).join(", ")}]`),im(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>Jl(a)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>Jl(a)).join(",")),`Target(${r})`}(pr(n))}; limitType=${n.limitType})`}function fh(n,t){return t.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):yt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(n,t)&&function(r,a){for(const l of Nc(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,t)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(n,t)&&function(r,a){return!(r.startAt&&!function(u,d,m){const p=kb(u,d,m);return u.inclusive?p<=0:p<0}(r.startAt,Nc(r),a)||r.endAt&&!function(u,d,m){const p=kb(u,d,m);return u.inclusive?p>=0:p>0}(r.endAt,Nc(r),a))}(n,t)}function XA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WA(n){return(t,e)=>{let r=!1;for(const a of Nc(n)){const l=QM(a,t,e);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function QM(n,t,e){const r=n.field.isKeyField()?yt.comparator(t.key,e.key):function(l,u,d){const m=u.data.field(l),p=d.data.field(l);return m!==null&&p!==null?ca(m,p):wt()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[e]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Do(this.inner,(e,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return VA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new Ee(yt.comparator);function mr(){return $M}const JA=new Ee(yt.comparator);function Ac(...n){let t=JA;for(const e of n)t=t.insert(e.key,e);return t}function ZA(n){let t=JA;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function mi(){return Mc()}function tI(){return Mc()}function Mc(){return new pa(n=>n.toString(),(n,t)=>n.isEqual(t))}const YM=new Ee(yt.comparator),XM=new ge(yt.comparator);function jt(...n){let t=XM;for(const e of n)t=t.add(e);return t}const WM=new ge(kt);function f_(){return WM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function eI(n){return{integerValue:""+n}}function JM(n,t){return xA(t)?eI(t):m_(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this._=void 0}}function ZM(n,t,e){return n instanceof Jc?function(a,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&c_(l)&&(l=h_(l)),l&&(u.fields.__previous_value__=l),{mapValue:u}}(e,t):n instanceof eu?rI(n,t):n instanceof nu?iI(n,t):function(a,l){const u=nI(a,l),d=zb(u)+zb(a.Pe);return _y(u)&&_y(a.Pe)?eI(d):m_(a.serializer,d)}(n,t)}function tV(n,t,e){return n instanceof eu?rI(n,t):n instanceof nu?iI(n,t):e}function nI(n,t){return n instanceof Zc?function(r){return _y(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class Jc extends lm{}class eu extends lm{constructor(t){super(),this.elements=t}}function rI(n,t){const e=sI(t);for(const r of n.elements)e.some(a=>Ei(a,r))||e.push(r);return{arrayValue:{values:e}}}class nu extends lm{constructor(t){super(),this.elements=t}}function iI(n,t){let e=sI(t);for(const r of n.elements)e=e.filter(a=>!Ei(a,r));return{arrayValue:{values:e}}}class Zc extends lm{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function zb(n){return Ie(n.integerValue||n.doubleValue)}function sI(n){return Wc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(t,e){this.field=t,this.transform=e}}function nV(n,t){return n.field.isEqual(t.field)&&function(r,a){return r instanceof eu&&a instanceof eu||r instanceof nu&&a instanceof nu?Wl(r.elements,a.elements,Ei):r instanceof Zc&&a instanceof Zc?Ei(r.Pe,a.Pe):r instanceof Jc&&a instanceof Jc}(n.transform,t.transform)}class rV{constructor(t,e){this.version=t,this.transformResults=e}}class nr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new nr}static exists(t){return new nr(void 0,t)}static updateTime(t){return new nr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class um{}function aI(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new p_(n.key,nr.none()):new hu(n.key,n.data,nr.none());{const e=n.data,r=On.empty();let a=new ge(Ce.comparator);for(let l of t.fields)if(!a.has(l)){let u=e.field(l);u===null&&l.length>1&&(l=l.popLast(),u=e.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new hs(n.key,r,new er(a.toArray()),nr.none())}}function iV(n,t,e){n instanceof hu?function(a,l,u){const d=a.value.clone(),m=qb(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,t,e):n instanceof hs?function(a,l,u){if(!mf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=qb(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(oI(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,t,e):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,e)}function Vc(n,t,e,r){return n instanceof hu?function(l,u,d,m){if(!mf(l.precondition,u))return d;const p=l.value.clone(),y=Hb(l.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,t,e,r):n instanceof hs?function(l,u,d,m){if(!mf(l.precondition,u))return d;const p=Hb(l.fieldTransforms,m,u),y=u.data;return y.setAll(oI(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,t,e,r):function(l,u,d){return mf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,t,e)}function sV(n,t){let e=null;for(const r of n.fieldTransforms){const a=t.data.field(r.field),l=nI(r.transform,a||null);l!=null&&(e===null&&(e=On.empty()),e.set(r.field,l))}return e||null}function jb(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Wl(r,a,(l,u)=>nV(l,u))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class hu extends um{constructor(t,e,r,a=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class hs extends um{constructor(t,e,r,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function oI(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function qb(n,t,e){const r=new Map;It(n.length===e.length);for(let a=0;a<e.length;a++){const l=n[a],u=l.transform,d=t.data.field(l.field);r.set(l.field,tV(u,d,e[a]))}return r}function Hb(n,t,e){const r=new Map;for(const a of n){const l=a.transform,u=e.data.field(a.field);r.set(a.field,ZM(l,u,t))}return r}class p_ extends um{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lI extends um{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(t,e,r,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&iV(l,t,r[a])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Vc(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Vc(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=tI();return this.mutations.forEach(a=>{const l=t.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=e.has(a.key)?null:d;const m=aI(u,d);m!==null&&r.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),jt())}isEqual(t){return this.batchId===t.batchId&&Wl(this.mutations,t.mutations,(e,r)=>jb(e,r))&&Wl(this.baseMutations,t.baseMutations,(e,r)=>jb(e,r))}}class y_{constructor(t,e,r,a){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=a}static from(t,e,r){It(t.mutations.length===r.length);let a=function(){return YM}();const l=t.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new y_(t,e,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,te;function oV(n){switch(n){default:return wt();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0}}function uI(n){if(n===void 0)return Ke("GRPC error has no .code"),nt.UNKNOWN;switch(n){case tn.OK:return nt.OK;case tn.CANCELLED:return nt.CANCELLED;case tn.UNKNOWN:return nt.UNKNOWN;case tn.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case tn.INTERNAL:return nt.INTERNAL;case tn.UNAVAILABLE:return nt.UNAVAILABLE;case tn.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case tn.NOT_FOUND:return nt.NOT_FOUND;case tn.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case tn.ABORTED:return nt.ABORTED;case tn.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case tn.DATA_LOSS:return nt.DATA_LOSS;default:return wt()}}(te=tn||(tn={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new fo([4294967295,4294967295],0);function Gb(n){const t=lV().encode(n),e=new yA;return e.update(t),new Uint8Array(e.digest())}function Kb(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new fo([e,r],0),new fo([a,l],0)]}class v_{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Ic(`Invalid padding: ${e}`);if(r<0)throw new Ic(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ic(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Ic(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=fo.fromNumber(this.Ie)}Ee(t,e,r){let a=t.add(e.multiply(fo.fromNumber(r)));return a.compare(uV)===1&&(a=new fo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const e=Gb(t),[r,a]=Kb(e);for(let l=0;l<this.hashCount;l++){const u=this.Ee(r,a,l);if(!this.de(u))return!1}return!0}static create(t,e,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),u=new v_(l,a,e);return r.forEach(d=>u.insert(d)),u}insert(t){if(this.Ie===0)return;const e=Gb(t),[r,a]=Kb(e);for(let l=0;l<this.hashCount;l++){const u=this.Ee(r,a,l);this.Ae(u)}}Ae(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,e,r,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const a=new Map;return a.set(t,ph.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new mh(Ct.min(),a,new Ee(kt),mr(),jt())}}class ph{constructor(t,e,r,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new ph(r,e,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,e,r,a){this.Re=t,this.removedTargetIds=e,this.key=r,this.Ve=a}}class cI{constructor(t,e){this.targetId=t,this.me=e}}class hI{constructor(t,e,r=Qe.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=a}}class Qb{constructor(){this.fe=0,this.ge=Yb(),this.pe=Qe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=jt(),e=jt(),r=jt();return this.ge.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:r=r.add(a);break;default:wt()}}),new ph(this.pe,this.ye,t,e,r)}Ce(){this.we=!1,this.ge=Yb()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,It(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cV{constructor(t){this.Le=t,this.Be=new Map,this.ke=mr(),this.qe=$b(),this.Qe=new Ee(kt)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const r=this.Ge(e);switch(t.state){case 0:this.ze(e)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),r.De(t.resumeToken));break;default:wt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((r,a)=>{this.ze(a)&&e(a)})}He(t){const e=t.targetId,r=t.me.count,a=this.Je(e);if(a){const l=a.target;if(Vf(l))if(r===0){const u=new yt(l.path);this.Ue(e,u,Ue.newNoDocument(u,Ct.min()))}else It(r===1);else{const u=this.Ye(e);if(u!==r){const d=this.Ze(t),m=d?this.Xe(d,t,u):1;if(m!==0){this.je(e);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,p)}}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=e;let u,d;try{u=ua(r).toUint8Array()}catch(m){if(m instanceof kA)return Hc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new v_(u,a,l)}catch(m){return Hc(m instanceof Ic?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ie===0?null:d}Xe(t,e,r){return e.me.count===r-this.nt(t,e.targetId)?0:2}nt(t,e){const r=this.Le.getRemoteKeysForTarget(e);let a=0;return r.forEach(l=>{const u=this.Le.tt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.Ue(e,l,null),a++)}),a}rt(t){const e=new Map;this.Be.forEach((l,u)=>{const d=this.Je(u);if(d){if(l.current&&Vf(d.target)){const m=new yt(d.target.path);this.ke.get(m)!==null||this.it(u,m)||this.Ue(u,m,Ue.newNoDocument(m,t))}l.be&&(e.set(u,l.ve()),l.Ce())}});let r=jt();this.qe.forEach((l,u)=>{let d=!0;u.forEachWhile(m=>{const p=this.Je(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.ke.forEach((l,u)=>u.setReadTime(t));const a=new mh(t,e,this.Qe,this.ke,r);return this.ke=mr(),this.qe=$b(),this.Qe=new Ee(kt),a}$e(t,e){if(!this.ze(t))return;const r=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,r),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,r){if(!this.ze(t))return;const a=this.Ge(t);this.it(t,e)?a.Fe(e,1):a.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),r&&(this.ke=this.ke.insert(e,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new Qb,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new ge(kt),this.qe=this.qe.insert(t,e)),e}ze(t){const e=this.Je(t)!==null;return e||ct("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Qb),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function $b(){return new Ee(yt.comparator)}function Yb(){return new Ee(yt.comparator)}const hV={asc:"ASCENDING",desc:"DESCENDING"},dV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fV={and:"AND",or:"OR"};class mV{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Sy(n,t){return n.useProto3Json||im(t)?t:{value:t}}function ru(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function dI(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function pV(n,t){return ru(n,t.toTimestamp())}function qn(n){return It(!!n),Ct.fromTimestamp(function(e){const r=cs(e);return new De(r.seconds,r.nanos)}(n))}function E_(n,t){return Ay(n,t).canonicalString()}function Ay(n,t){const e=function(a){return new oe(["projects",a.projectId,"databases",a.database])}(n).child("documents");return t===void 0?e:e.child(t)}function fI(n){const t=oe.fromString(n);return It(bI(t)),t}function Lf(n,t){return E_(n.databaseId,t.path)}function mo(n,t){const e=fI(t);if(e.get(1)!==n.databaseId.projectId)throw new gt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new gt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(gI(e))}function mI(n,t){return E_(n.databaseId,t)}function pI(n){const t=fI(n);return t.length===4?oe.emptyPath():gI(t)}function Iy(n){return new oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gI(n){return It(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Xb(n,t,e){return{name:Lf(n,t),fields:e.value.mapValue.fields}}function gV(n,t,e){const r=mo(n,t.name),a=qn(t.updateTime),l=t.createTime?qn(t.createTime):Ct.min(),u=new On({mapValue:{fields:t.fields}}),d=Ue.newFoundDocument(r,a,l,u);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function yV(n,t){let e;if("targetChange"in t){t.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:wt()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(It(y===void 0||typeof y=="string"),Qe.fromBase64String(y||"")):(It(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Qe.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,d=u&&function(p){const y=p.code===void 0?nt.UNKNOWN:uI(p.code);return new gt(y,p.message||"")}(u);e=new hI(r,a,l,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=mo(n,r.document.name),l=qn(r.document.updateTime),u=r.document.createTime?qn(r.document.createTime):Ct.min(),d=new On({mapValue:{fields:r.document.fields}}),m=Ue.newFoundDocument(a,l,u,d),p=r.targetIds||[],y=r.removedTargetIds||[];e=new pf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=mo(n,r.document),l=r.readTime?qn(r.readTime):Ct.min(),u=Ue.newNoDocument(a,l),d=r.removedTargetIds||[];e=new pf([],d,u.key,u)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=mo(n,r.document),l=r.removedTargetIds||[];e=new pf([],l,a,null)}else{if(!("filter"in t))return wt();{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new aV(a,l),d=r.targetId;e=new cI(d,u)}}return e}function Uf(n,t){let e;if(t instanceof hu)e={update:Xb(n,t.key,t.value)};else if(t instanceof p_)e={delete:Lf(n,t.key)};else if(t instanceof hs)e={update:Xb(n,t.key,t.data),updateMask:wV(t.fieldMask)};else{if(!(t instanceof lI))return wt();e={verify:Lf(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(l,u){const d=u.transform;if(d instanceof Jc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof eu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof nu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Zc)return{fieldPath:u.field.canonicalString(),increment:d.Pe};throw wt()}(0,r))),t.precondition.isNone||(e.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:pV(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:wt()}(n,t.precondition)),e}function Ry(n,t){const e=t.currentDocument?function(l){return l.updateTime!==void 0?nr.updateTime(qn(l.updateTime)):l.exists!==void 0?nr.exists(l.exists):nr.none()}(t.currentDocument):nr.none(),r=t.updateTransforms?t.updateTransforms.map(a=>function(u,d){let m=null;if("setToServerValue"in d)It(d.setToServerValue==="REQUEST_TIME"),m=new Jc;else if("appendMissingElements"in d){const y=d.appendMissingElements.values||[];m=new eu(y)}else if("removeAllFromArray"in d){const y=d.removeAllFromArray.values||[];m=new nu(y)}else"increment"in d?m=new Zc(u,d.increment):wt();const p=Ce.fromServerFormat(d.fieldPath);return new eV(p,m)}(n,a)):[];if(t.update){t.update.name;const a=mo(n,t.update.name),l=new On({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=function(m){const p=m.fieldPaths||[];return new er(p.map(y=>Ce.fromServerFormat(y)))}(t.updateMask);return new hs(a,l,u,e,r)}return new hu(a,l,e,r)}if(t.delete){const a=mo(n,t.delete);return new p_(a,e)}if(t.verify){const a=mo(n,t.verify);return new lI(a,e)}return wt()}function _V(n,t){return n&&n.length>0?(It(t!==void 0),n.map(e=>function(a,l){let u=a.updateTime?qn(a.updateTime):qn(l);return u.isEqual(Ct.min())&&(u=qn(l)),new rV(u,a.transformResults||[])}(e,t))):[]}function yI(n,t){return{documents:[mI(n,t.path)]}}function _I(n,t){const e={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=mI(n,a);const l=function(p){if(p.length!==0)return TI(he.create(p,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const u=function(p){if(p.length!==0)return p.map(y=>function(b){return{field:Cl(b.field),direction:EV(b.dir)}}(y))}(t.orderBy);u&&(e.structuredQuery.orderBy=u);const d=Sy(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{_t:e,parent:a}}function vI(n){let t=pI(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let a=null;if(r>0){It(r===1);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=function(_){const b=EI(_);return b instanceof he&&d_(b)?b.getFilters():[b]}(e.where));let u=[];e.orderBy&&(u=function(_){return _.map(b=>function(O){return new Mf(Dl(O.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(b))}(e.orderBy));let d=null;e.limit&&(d=function(_){let b;return b=typeof _=="object"?_.value:_,im(b)?null:b}(e.limit));let m=null;e.startAt&&(m=function(_){const b=!!_.before,R=_.values||[];return new Zl(R,b)}(e.startAt));let p=null;return e.endAt&&(p=function(_){const b=!_.before,R=_.values||[];return new Zl(R,b)}(e.endAt)),QA(t,a,u,l,d,"F",m,p)}function vV(n,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function EI(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Dl(e.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Dl(e.unaryFilter.field);return Xt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Dl(e.unaryFilter.field);return Xt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Dl(e.unaryFilter.field);return Xt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(n):n.fieldFilter!==void 0?function(e){return Xt.create(Dl(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return he.create(e.compositeFilter.filters.map(r=>EI(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return wt()}}(e.compositeFilter.op))}(n):wt()}function EV(n){return hV[n]}function TV(n){return dV[n]}function bV(n){return fV[n]}function Cl(n){return{fieldPath:n.canonicalString()}}function Dl(n){return Ce.fromServerFormat(n.fieldPath)}function TI(n){return n instanceof Xt?function(e){if(e.op==="=="){if(Nb(e.value))return{unaryFilter:{field:Cl(e.field),op:"IS_NAN"}};if(Ob(e.value))return{unaryFilter:{field:Cl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Nb(e.value))return{unaryFilter:{field:Cl(e.field),op:"IS_NOT_NAN"}};if(Ob(e.value))return{unaryFilter:{field:Cl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cl(e.field),op:TV(e.op),value:e.value}}}(n):n instanceof he?function(e){const r=e.getFilters().map(a=>TI(a));return r.length===1?r[0]:{compositeFilter:{op:bV(e.op),filters:r}}}(n):wt()}function wV(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function bI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t,e,r,a,l=Ct.min(),u=Ct.min(),d=Qe.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new as(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t){this.ct=t}}function SV(n,t){let e;if(t.document)e=gV(n.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=yt.fromSegments(t.noDocument.path),a=So(t.noDocument.readTime);e=Ue.newNoDocument(r,a),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return wt();{const r=yt.fromSegments(t.unknownDocument.path),a=So(t.unknownDocument.version);e=Ue.newUnknownDocument(r,a)}}return t.readTime&&e.setReadTime(function(a){const l=new De(a[0],a[1]);return Ct.fromTimestamp(l)}(t.readTime)),e}function Wb(n,t){const e=t.key,r={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Bf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(l,u){return{name:Lf(l,u.key),fields:u.data.value.mapValue.fields,updateTime:ru(l,u.version.toTimestamp()),createTime:ru(l,u.createTime.toTimestamp())}}(n.ct,t);else if(t.isNoDocument())r.noDocument={path:e.path.toArray(),readTime:wo(t.version)};else{if(!t.isUnknownDocument())return wt();r.unknownDocument={path:e.path.toArray(),version:wo(t.version)}}return r}function Bf(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function wo(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function So(n){const t=new De(n.seconds,n.nanoseconds);return Ct.fromTimestamp(t)}function Za(n,t){const e=(t.baseMutations||[]).map(l=>Ry(n.ct,l));for(let l=0;l<t.mutations.length-1;++l){const u=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const d=t.mutations[l+1];u.updateTransforms=d.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const r=t.mutations.map(l=>Ry(n.ct,l)),a=De.fromMillis(t.localWriteTimeMs);return new g_(t.batchId,a,e,r)}function Rc(n){const t=So(n.readTime),e=n.lastLimboFreeSnapshotVersion!==void 0?So(n.lastLimboFreeSnapshotVersion):Ct.min();let r;return r=function(l){return l.documents!==void 0}(n.query)?function(l){return It(l.documents.length===1),pr(am(pI(l.documents[0])))}(n.query):function(l){return pr(vI(l))}(n.query),new as(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Qe.fromBase64String(n.resumeToken))}function SI(n,t){const e=wo(t.snapshotVersion),r=wo(t.lastLimboFreeSnapshotVersion);let a;a=Vf(t.target)?yI(n.ct,t.target):_I(n.ct,t.target)._t;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:bo(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function AI(n){const t=vI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wy(t,t.limit,"L"):t}function Kg(n,t){return new __(t.largestBatchId,Ry(n.ct,t.overlayMutation))}function Jb(n,t){const e=t.path.lastSegment();return[n,jn(t.path.popLast()),e]}function Zb(n,t,e,r){return{indexId:n,uid:t,sequenceNumber:e,readTime:wo(r.readTime),documentKey:jn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{getBundleMetadata(t,e){return tw(t).get(e).next(r=>{if(r)return function(l){return{id:l.bundleId,createTime:So(l.createTime),version:l.version}}(r)})}saveBundleMetadata(t,e){return tw(t).put(function(a){return{bundleId:a.id,createTime:wo(qn(a.createTime)),version:a.version}}(e))}getNamedQuery(t,e){return ew(t).get(e).next(r=>{if(r)return function(l){return{name:l.name,query:AI(l.bundledQuery),readTime:So(l.readTime)}}(r)})}saveNamedQuery(t,e){return ew(t).put(function(a){return{name:a.name,readTime:wo(qn(a.readTime)),bundledQuery:a.bundledQuery}}(e))}}function tw(n){return un(n,"bundles")}function ew(n){return un(n,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(t,e){this.serializer=t,this.userId=e}static lt(t,e){const r=e.uid||"";return new cm(t,r)}getOverlay(t,e){return gc(t).get(Jb(this.userId,e)).next(r=>r?Kg(this.serializer,r):null)}getOverlays(t,e){const r=mi();return G.forEach(e,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,e,r){const a=[];return r.forEach((l,u)=>{const d=new __(e,u);a.push(this.ht(t,d))}),G.waitFor(a)}removeOverlaysForBatchId(t,e,r){const a=new Set;e.forEach(u=>a.add(jn(u.getCollectionPath())));const l=[];return a.forEach(u=>{const d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);l.push(gc(t).j("collectionPathOverlayIndex",d))}),G.waitFor(l)}getOverlaysForCollection(t,e,r){const a=mi(),l=jn(e),u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return gc(t).U("collectionPathOverlayIndex",u).next(d=>{for(const m of d){const p=Kg(this.serializer,m);a.set(p.getKey(),p)}return a})}getOverlaysForCollectionGroup(t,e,r,a){const l=mi();let u;const d=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return gc(t).J({index:"collectionGroupOverlayIndex",range:d},(m,p,y)=>{const _=Kg(this.serializer,p);l.size()<a||_.largestBatchId===u?(l.set(_.getKey(),_),u=_.largestBatchId):y.done()}).next(()=>l)}ht(t,e){return gc(t).put(function(a,l,u){const[d,m,p]=Jb(l,u.mutation.key);return{userId:l,collectionPath:m,documentId:p,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Uf(a.ct,u.mutation)}}(this.serializer,this.userId,e))}}function gc(n){return un(n,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{Pt(t){return un(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(e=>{const r=e==null?void 0:e.value;return r?Qe.fromUint8Array(r):Qe.EMPTY_BYTE_STRING})}setSessionToken(t,e){return this.Pt(t).put({name:"sessionToken",value:e.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){}It(t,e){this.Tt(t,e),e.Et()}Tt(t,e){if("nullValue"in t)this.dt(e,5);else if("booleanValue"in t)this.dt(e,10),e.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(e,15),e.At(Ie(t.integerValue));else if("doubleValue"in t){const r=Ie(t.doubleValue);isNaN(r)?this.dt(e,13):(this.dt(e,15),Qc(r)?e.At(0):e.At(r))}else if("timestampValue"in t){let r=t.timestampValue;this.dt(e,20),typeof r=="string"&&(r=cs(r)),e.Rt(`${r.seconds||""}`),e.At(r.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,e),this.ft(e);else if("bytesValue"in t)this.dt(e,30),e.gt(ua(t.bytesValue)),this.ft(e);else if("referenceValue"in t)this.yt(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.dt(e,45),e.At(r.latitude||0),e.At(r.longitude||0)}else"mapValue"in t?LA(t)?this.dt(e,Number.MAX_SAFE_INTEGER):sm(t)?this.wt(t.mapValue,e):(this.St(t.mapValue,e),this.ft(e)):"arrayValue"in t?(this.bt(t.arrayValue,e),this.ft(e)):wt()}Vt(t,e){this.dt(e,25),this.Dt(t,e)}Dt(t,e){e.Rt(t)}St(t,e){const r=t.fields||{};this.dt(e,55);for(const a of Object.keys(r))this.Vt(a,e),this.Tt(r[a],e)}wt(t,e){var r,a;const l=t.fields||{};this.dt(e,53);const u="value",d=((a=(r=l[u].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.length)||0;this.dt(e,15),e.At(Ie(d)),this.Vt(u,e),this.Tt(l[u],e)}bt(t,e){const r=t.values||[];this.dt(e,50);for(const a of r)this.Tt(a,e)}yt(t,e){this.dt(e,37),yt.fromName(t).path.forEach(r=>{this.dt(e,60),this.Dt(r,e)})}dt(t,e){t.At(e)}ft(t){t.At(2)}}to.vt=new to;function RV(n){if(n===0)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function nw(n){const t=64-function(r){let a=0;for(let l=0;l<8;++l){const u=RV(255&r[l]);if(a+=u,u!==8)break}return a}(n);return Math.ceil(t/8)}class CV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Ft(r.value),r=e.next();this.Mt()}xt(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Ot(r.value),r=e.next();this.Nt()}Lt(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(e<"\uD800"||"\uDBFF"<e)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const a=e.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}this.Mt()}Bt(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(e<"\uD800"||"\uDBFF"<e)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const a=e.codePointAt(0);this.Ot(240|a>>>18),this.Ot(128|63&a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a)}}this.Nt()}kt(t){const e=this.qt(t),r=nw(e);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let a=e.length-r;a<e.length;++a)this.buffer[this.position++]=255&e[a]}Kt(t){const e=this.qt(t),r=nw(e);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let a=e.length-r;a<e.length;++a)this.buffer[this.position++]=~(255&e[a])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const e=function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)}(t),r=(128&e[0])!=0;e[0]^=r?255:128;for(let a=1;a<e.length;++a)e[a]^=r?255:0;return e}Ft(t){const e=255&t;e===0?(this.Ut(0),this.Ut(255)):e===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}Ot(t){const e=255&t;e===0?(this.Gt(0),this.Gt(255)):e===255?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const e=t+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class DV{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class xV{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class yc{constructor(){this.jt=new CV,this.Ht=new DV(this.jt),this.Jt=new xV(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return t===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,e,r,a){this.indexId=t,this.documentKey=e,this.arrayValue=r,this.directionalValue=a}Zt(){const t=this.directionalValue.length,e=t===0||this.directionalValue[t-1]===255?t+1:t,r=new Uint8Array(e);return r.set(this.directionalValue,0),e!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new eo(this.indexId,this.documentKey,this.arrayValue,r)}}function zs(n,t){let e=n.indexId-t.indexId;return e!==0?e:(e=rw(n.arrayValue,t.arrayValue),e!==0?e:(e=rw(n.directionalValue,t.directionalValue),e!==0?e:yt.comparator(n.documentKey,t.documentKey)))}function rw(n,t){for(let e=0;e<n.length&&e<t.length;++e){const r=n[e]-t[e];if(r!==0)return r}return n.length-t.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t){this.Xt=new ge((e,r)=>Ce.comparator(e.field,r.field)),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const e of t.filters){const r=e;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(t){if(It(t.collectionGroup===this.collectionId),this.nn)return!1;const e=py(t);if(e!==void 0&&!this.sn(e))return!1;const r=Wa(t);let a=new Set,l=0,u=0;for(;l<r.length&&this.sn(r[l]);++l)a=a.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(this.Xt.size>0){const d=this.Xt.getIterator().getNext();if(!a.has(d.field.canonicalString())){const m=r[l];if(!this.on(d,m)||!this._n(this.en[u++],m))return!1}++l}for(;l<r.length;++l){const d=r[l];if(u>=this.en.length||!this._n(this.en[u++],d))return!1}return!0}an(){if(this.nn)return null;let t=new ge(Ce.comparator);const e=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")e.push(new cf(r.field,2));else{if(t.has(r.field))continue;t=t.add(r.field),e.push(new cf(r.field,0))}for(const r of this.en)r.field.isKeyField()||t.has(r.field)||(t=t.add(r.field),e.push(new cf(r.field,r.dir==="asc"?0:1)));return new Nf(Nf.UNKNOWN_ID,this.collectionId,e,Kc.empty())}sn(t){for(const e of this.tn)if(this.on(e,t))return!0;return!1}on(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===r}_n(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(n){var t,e;if(It(n instanceof Xt||n instanceof he),n instanceof Xt){if(n instanceof KA){const a=((e=(t=n.value.arrayValue)===null||t===void 0?void 0:t.values)===null||e===void 0?void 0:e.map(l=>Xt.create(n.field,"==",l)))||[];return he.create(a,"or")}return n}const r=n.filters.map(a=>II(a));return he.create(r,n.op)}function PV(n){if(n.getFilters().length===0)return[];const t=xy(II(n));return It(RI(t)),Cy(t)||Dy(t)?[t]:t.getFilters()}function Cy(n){return n instanceof Xt}function Dy(n){return n instanceof he&&d_(n)}function RI(n){return Cy(n)||Dy(n)||function(e){if(e instanceof he&&vy(e)){for(const r of e.getFilters())if(!Cy(r)&&!Dy(r))return!1;return!0}return!1}(n)}function xy(n){if(It(n instanceof Xt||n instanceof he),n instanceof Xt)return n;if(n.filters.length===1)return xy(n.filters[0]);const t=n.filters.map(r=>xy(r));let e=he.create(t,n.op);return e=Ff(e),RI(e)?e:(It(e instanceof he),It(tu(e)),It(e.filters.length>1),e.filters.reduce((r,a)=>T_(r,a)))}function T_(n,t){let e;return It(n instanceof Xt||n instanceof he),It(t instanceof Xt||t instanceof he),e=n instanceof Xt?t instanceof Xt?function(a,l){return he.create([a,l],"and")}(n,t):sw(n,t):t instanceof Xt?sw(t,n):function(a,l){if(It(a.filters.length>0&&l.filters.length>0),tu(a)&&tu(l))return qA(a,l.getFilters());const u=vy(a)?a:l,d=vy(a)?l:a,m=u.filters.map(p=>T_(p,d));return he.create(m,"or")}(n,t),Ff(e)}function sw(n,t){if(tu(t))return qA(t,n.getFilters());{const e=t.filters.map(r=>T_(n,r));return he.create(e,"or")}}function Ff(n){if(It(n instanceof Xt||n instanceof he),n instanceof Xt)return n;const t=n.getFilters();if(t.length===1)return Ff(t[0]);if(zA(n))return n;const e=t.map(a=>Ff(a)),r=[];return e.forEach(a=>{a instanceof Xt?r.push(a):a instanceof he&&(a.op===n.op?r.push(...a.filters):r.push(a))}),r.length===1?r[0]:he.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.un=new b_}addToCollectionParentIndex(t,e){return this.un.add(e),G.resolve()}getCollectionParents(t,e){return G.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return G.resolve()}deleteFieldIndex(t,e){return G.resolve()}deleteAllFieldIndexes(t){return G.resolve()}createTargetIndexes(t,e){return G.resolve()}getDocumentsMatchingTarget(t,e){return G.resolve(null)}getIndexType(t,e){return G.resolve(0)}getFieldIndexes(t,e){return G.resolve([])}getNextCollectionGroupToUpdate(t){return G.resolve(null)}getMinOffset(t,e){return G.resolve(gr.min())}getMinOffsetFromCollectionGroup(t,e){return G.resolve(gr.min())}updateCollectionGroup(t,e,r){return G.resolve()}updateIndexEntries(t,e){return G.resolve()}}class b_{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e]||new ge(oe.comparator),l=!a.has(r);return this.index[e]=a.add(r),l}has(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e];return a&&a.has(r)}getEntries(t){return(this.index[t]||new ge(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new Uint8Array(0);class NV{constructor(t,e){this.databaseId=e,this.cn=new b_,this.ln=new pa(r=>bo(r),(r,a)=>hh(r,a)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.cn.has(e)){const r=e.lastSegment(),a=e.popLast();t.addOnCommittedListener(()=>{this.cn.add(e)});const l={collectionId:r,parent:jn(a)};return aw(t).put(l)}return G.resolve()}getCollectionParents(t,e){const r=[],a=IDBKeyRange.bound([e,""],[SA(e),""],!1,!0);return aw(t).U(a).next(l=>{for(const u of l){if(u.collectionId!==e)break;r.push(fi(u.parent))}return r})}addFieldIndex(t,e){const r=_c(t),a=function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])}}(e);delete a.indexId;const l=r.add(a);if(e.indexState){const u=wl(t);return l.next(d=>{u.put(Zb(d,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return l.next()}deleteFieldIndex(t,e){const r=_c(t),a=wl(t),l=bl(t);return r.delete(e.indexId).next(()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=_c(t),r=bl(t),a=wl(t);return e.j().next(()=>r.j()).next(()=>a.j())}createTargetIndexes(t,e){return G.forEach(this.hn(e),r=>this.getIndexType(t,r).next(a=>{if(a===0||a===1){const l=new iw(r).an();if(l!=null)return this.addFieldIndex(t,l)}}))}getDocumentsMatchingTarget(t,e){const r=bl(t);let a=!0;const l=new Map;return G.forEach(this.hn(e),u=>this.Pn(t,u).next(d=>{a&&(a=!!d),l.set(u,d)})).next(()=>{if(a){let u=jt();const d=[];return G.forEach(l,(m,p)=>{ct("IndexedDbIndexManager",`Using index ${function(K){return`id=${K.indexId}|cg=${K.collectionGroup}|f=${K.fields.map(st=>`${st.fieldPath}:${st.kind}`).join(",")}`}(m)} to execute ${bo(e)}`);const y=function(K,st){const et=py(st);if(et===void 0)return null;for(const W of kf(K,et.fieldPath))switch(W.op){case"array-contains-any":return W.value.arrayValue.values||[];case"array-contains":return[W.value]}return null}(p,m),_=function(K,st){const et=new Map;for(const W of Wa(st))for(const x of kf(K,W.fieldPath))switch(x.op){case"==":case"in":et.set(W.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return et.set(W.fieldPath.canonicalString(),x.value),Array.from(et.values())}return null}(p,m),b=function(K,st){const et=[];let W=!0;for(const x of Wa(st)){const w=x.kind===0?Ub(K,x.fieldPath,K.startAt):Bb(K,x.fieldPath,K.startAt);et.push(w.value),W&&(W=w.inclusive)}return new Zl(et,W)}(p,m),R=function(K,st){const et=[];let W=!0;for(const x of Wa(st)){const w=x.kind===0?Bb(K,x.fieldPath,K.endAt):Ub(K,x.fieldPath,K.endAt);et.push(w.value),W&&(W=w.inclusive)}return new Zl(et,W)}(p,m),O=this.In(m,p,b),L=this.In(m,p,R),k=this.Tn(m,p,_),Y=this.En(m.indexId,y,O,b.inclusive,L,R.inclusive,k);return G.forEach(Y,Z=>r.G(Z,e.limit).next(K=>{K.forEach(st=>{const et=yt.fromSegments(st.documentKey);u.has(et)||(u=u.add(et),d.push(et))})}))}).next(()=>d)}return G.resolve(null)})}hn(t){let e=this.ln.get(t);return e||(t.filters.length===0?e=[t]:e=PV(he.create(t.filters,"and")).map(r=>Ty(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,e),e)}En(t,e,r,a,l,u,d){const m=(e!=null?e.length:1)*Math.max(r.length,l.length),p=m/(e!=null?e.length:1),y=[];for(let _=0;_<m;++_){const b=e?this.dn(e[_/p]):Xd,R=this.An(t,b,r[_%p],a),O=this.Rn(t,b,l[_%p],u),L=d.map(k=>this.An(t,b,k,!0));y.push(...this.createRange(R,O,L))}return y}An(t,e,r,a){const l=new eo(t,yt.empty(),e,r);return a?l:l.Zt()}Rn(t,e,r,a){const l=new eo(t,yt.empty(),e,r);return a?l.Zt():l}Pn(t,e){const r=new iw(e),a=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,a).next(l=>{let u=null;for(const d of l)r.rn(d)&&(!u||d.fields.length>u.fields.length)&&(u=d);return u})}getIndexType(t,e){let r=2;const a=this.hn(e);return G.forEach(a,l=>this.Pn(t,l).next(u=>{u?r!==0&&u.fields.length<function(m){let p=new ge(Ce.comparator),y=!1;for(const _ of m.filters)for(const b of _.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?y=!0:p=p.add(b.field));for(const _ of m.orderBy)_.field.isKeyField()||(p=p.add(_.field));return p.size+(y?1:0)}(l)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(e)&&a.length>1&&r===2?1:r)}Vn(t,e){const r=new yc;for(const a of Wa(t)){const l=e.data.field(a.fieldPath);if(l==null)return null;const u=r.Yt(a.kind);to.vt.It(l,u)}return r.zt()}dn(t){const e=new yc;return to.vt.It(t,e.Yt(0)),e.zt()}mn(t,e){const r=new yc;return to.vt.It(Xc(this.databaseId,e),r.Yt(function(l){const u=Wa(l);return u.length===0?0:u[u.length-1].kind}(t))),r.zt()}Tn(t,e,r){if(r===null)return[];let a=[];a.push(new yc);let l=0;for(const u of Wa(t)){const d=r[l++];for(const m of a)if(this.fn(e,u.fieldPath)&&Wc(d))a=this.gn(a,u,d);else{const p=m.Yt(u.kind);to.vt.It(d,p)}}return this.pn(a)}In(t,e,r){return this.Tn(t,e,r.position)}pn(t){const e=[];for(let r=0;r<t.length;++r)e[r]=t[r].zt();return e}gn(t,e,r){const a=[...t],l=[];for(const u of r.arrayValue.values||[])for(const d of a){const m=new yc;m.seed(d.zt()),to.vt.It(u,m.Yt(e.kind)),l.push(m)}return l}fn(t,e){return!!t.filters.find(r=>r instanceof Xt&&r.field.isEqual(e)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(t,e){const r=_c(t),a=wl(t);return(e?r.U("collectionGroupIndex",IDBKeyRange.bound(e,e)):r.U()).next(l=>{const u=[];return G.forEach(l,d=>a.get([d.indexId,this.uid]).next(m=>{u.push(function(y,_){const b=_?new Kc(_.sequenceNumber,new gr(So(_.readTime),new yt(fi(_.documentKey)),_.largestBatchId)):Kc.empty(),R=y.fields.map(([O,L])=>new cf(Ce.fromServerFormat(O),L));return new Nf(y.indexId,y.collectionGroup,R,b)}(d,m))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>e.length===0?null:(e.sort((r,a)=>{const l=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:kt(r.collectionGroup,a.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,r){const a=_c(t),l=wl(t);return this.yn(t).next(u=>a.U("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>G.forEach(d,m=>l.put(Zb(m.indexId,this.uid,u,r)))))}updateIndexEntries(t,e){const r=new Map;return G.forEach(e,(a,l)=>{const u=r.get(a.collectionGroup);return(u?G.resolve(u):this.getFieldIndexes(t,a.collectionGroup)).next(d=>(r.set(a.collectionGroup,d),G.forEach(d,m=>this.wn(t,a,m).next(p=>{const y=this.Sn(l,m);return p.isEqual(y)?G.resolve():this.bn(t,l,m,p,y)}))))})}Dn(t,e,r,a){return bl(t).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.mn(r,e.key),documentKey:e.key.path.toArray()})}vn(t,e,r,a){return bl(t).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.mn(r,e.key),e.key.path.toArray()])}wn(t,e,r){const a=bl(t);let l=new ge(zs);return a.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,e)])},(u,d)=>{l=l.add(new eo(r.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>l)}Sn(t,e){let r=new ge(zs);const a=this.Vn(e,t);if(a==null)return r;const l=py(e);if(l!=null){const u=t.data.field(l.fieldPath);if(Wc(u))for(const d of u.arrayValue.values||[])r=r.add(new eo(e.indexId,t.key,this.dn(d),a))}else r=r.add(new eo(e.indexId,t.key,Xd,a));return r}bn(t,e,r,a,l){ct("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(m,p,y,_,b){const R=m.getIterator(),O=p.getIterator();let L=Tl(R),k=Tl(O);for(;L||k;){let Y=!1,Z=!1;if(L&&k){const K=y(L,k);K<0?Z=!0:K>0&&(Y=!0)}else L!=null?Z=!0:Y=!0;Y?(_(k),k=Tl(O)):Z?(b(L),L=Tl(R)):(L=Tl(R),k=Tl(O))}}(a,l,zs,d=>{u.push(this.Dn(t,e,r,d))},d=>{u.push(this.vn(t,e,r,d))}),G.waitFor(u)}yn(t){let e=1;return wl(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,a,l)=>{l.done(),e=a.sequenceNumber+1}).next(()=>e)}createRange(t,e,r){r=r.sort((u,d)=>zs(u,d)).filter((u,d,m)=>!d||zs(u,m[d-1])!==0);const a=[];a.push(t);for(const u of r){const d=zs(u,t),m=zs(u,e);if(d===0)a[0]=t.Zt();else if(d>0&&m<0)a.push(u),a.push(u.Zt());else if(m>0)break}a.push(e);const l=[];for(let u=0;u<a.length;u+=2){if(this.Cn(a[u],a[u+1]))return[];const d=[a[u].indexId,this.uid,a[u].arrayValue,a[u].directionalValue,Xd,[]],m=[a[u+1].indexId,this.uid,a[u+1].arrayValue,a[u+1].directionalValue,Xd,[]];l.push(IDBKeyRange.bound(d,m))}return l}Cn(t,e){return zs(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(ow)}getMinOffset(t,e){return G.mapArray(this.hn(e),r=>this.Pn(t,r).next(a=>a||wt())).next(ow)}}function aw(n){return un(n,"collectionParents")}function bl(n){return un(n,"indexEntries")}function _c(n){return un(n,"indexConfiguration")}function wl(n){return un(n,"indexState")}function ow(n){It(n.length!==0);let t=n[0].indexState.offset,e=t.largestBatchId;for(let r=1;r<n.length;r++){const a=n[r].indexState.offset;o_(a,t)<0&&(t=a),e<a.largestBatchId&&(e=a.largestBatchId)}return new gr(t.readTime,t.documentKey,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zn{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new Zn(t,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(n,t,e){const r=n.store("mutations"),a=n.store("documentMutations"),l=[],u=IDBKeyRange.only(e.batchId);let d=0;const m=r.J({range:u},(y,_,b)=>(d++,b.delete()));l.push(m.next(()=>{It(d===1)}));const p=[];for(const y of e.mutations){const _=PA(t,y.key.path,e.batchId);l.push(a.delete(_)),p.push(y.key)}return G.waitFor(l).next(()=>p)}function zf(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw wt();t=n.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn(41943040,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);class hm{constructor(t,e,r,a){this.userId=t,this.serializer=e,this.indexManager=r,this.referenceDelegate=a,this.Fn={}}static lt(t,e,r,a){It(t.uid!=="");const l=t.isAuthenticated()?t.uid:"";return new hm(l,e,r,a)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return js(t).J({index:"userMutationsIndex",range:r},(a,l,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,r,a){const l=xl(t),u=js(t);return u.add({}).next(d=>{It(typeof d=="number");const m=new g_(d,e,r,a),p=function(R,O,L){const k=L.baseMutations.map(Z=>Uf(R.ct,Z)),Y=L.mutations.map(Z=>Uf(R.ct,Z));return{userId:O,batchId:L.batchId,localWriteTimeMs:L.localWriteTime.toMillis(),baseMutations:k,mutations:Y}}(this.serializer,this.userId,m),y=[];let _=new ge((b,R)=>kt(b.canonicalString(),R.canonicalString()));for(const b of a){const R=PA(this.userId,b.key.path,d);_=_.add(b.key.path.popLast()),y.push(u.put(p)),y.push(l.put(R,gM))}return _.forEach(b=>{y.push(this.indexManager.addToCollectionParentIndex(t,b))}),t.addOnCommittedListener(()=>{this.Fn[d]=m.keys()}),G.waitFor(y).next(()=>m)})}lookupMutationBatch(t,e){return js(t).get(e).next(r=>r?(It(r.userId===this.userId),Za(this.serializer,r)):null)}Mn(t,e){return this.Fn[e]?G.resolve(this.Fn[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const a=r.keys();return this.Fn[e]=a,a}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return js(t).J({index:"userMutationsIndex",range:a},(u,d,m)=>{d.userId===this.userId&&(It(d.batchId>=r),l=Za(this.serializer,d)),m.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return js(t).J({index:"userMutationsIndex",range:e,reverse:!0},(a,l,u)=>{r=l.batchId,u.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return js(t).U("userMutationsIndex",e).next(r=>r.map(a=>Za(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=hf(this.userId,e.path),a=IDBKeyRange.lowerBound(r),l=[];return xl(t).J({range:a},(u,d,m)=>{const[p,y,_]=u,b=fi(y);if(p===this.userId&&e.path.isEqual(b))return js(t).get(_).next(R=>{if(!R)throw wt();It(R.userId===this.userId),l.push(Za(this.serializer,R))});m.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new ge(kt);const a=[];return e.forEach(l=>{const u=hf(this.userId,l.path),d=IDBKeyRange.lowerBound(u),m=xl(t).J({range:d},(p,y,_)=>{const[b,R,O]=p,L=fi(R);b===this.userId&&l.path.isEqual(L)?r=r.add(O):_.done()});a.push(m)}),G.waitFor(a).next(()=>this.xn(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1,l=hf(this.userId,r),u=IDBKeyRange.lowerBound(l);let d=new ge(kt);return xl(t).J({range:u},(m,p,y)=>{const[_,b,R]=m,O=fi(b);_===this.userId&&r.isPrefixOf(O)?O.length===a&&(d=d.add(R)):y.done()}).next(()=>this.xn(t,d))}xn(t,e){const r=[],a=[];return e.forEach(l=>{a.push(js(t).get(l).next(u=>{if(u===null)throw wt();It(u.userId===this.userId),r.push(Za(this.serializer,u))}))}),G.waitFor(a).next(()=>r)}removeMutationBatch(t,e){return CI(t._e,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this.On(e.batchId)}),G.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(t,a))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return G.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),a=[];return xl(t).J({range:r},(l,u,d)=>{if(l[0]===this.userId){const m=fi(l[1]);a.push(m)}else d.done()}).next(()=>{It(a.length===0)})})}containsKey(t,e){return DI(t,this.userId,e)}Nn(t){return xI(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function DI(n,t,e){const r=hf(t,e.path),a=r[1],l=IDBKeyRange.lowerBound(r);let u=!1;return xl(n).J({range:l,H:!0},(d,m,p)=>{const[y,_,b]=d;y===t&&_===a&&(u=!0),p.done()}).next(()=>u)}function js(n){return un(n,"mutations")}function xl(n){return un(n,"documentMutations")}function xI(n){return un(n,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ao(0)}static kn(){return new Ao(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.qn(t).next(e=>{const r=new Ao(e.highestTargetId);return e.highestTargetId=r.next(),this.Qn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(e=>Ct.fromTimestamp(new De(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.qn(t).next(a=>(a.highestListenSequenceNumber=e,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),e>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=e),this.Qn(t,a)))}addTargetData(t,e){return this.Kn(t,e).next(()=>this.qn(t).next(r=>(r.targetCount+=1,this.$n(e,r),this.Qn(t,r))))}updateTargetData(t,e){return this.Kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Sl(t).delete(e.targetId)).next(()=>this.qn(t)).next(r=>(It(r.targetCount>0),r.targetCount-=1,this.Qn(t,r)))}removeTargets(t,e,r){let a=0;const l=[];return Sl(t).J((u,d)=>{const m=Rc(d);m.sequenceNumber<=e&&r.get(m.targetId)===null&&(a++,l.push(this.removeTargetData(t,m)))}).next(()=>G.waitFor(l)).next(()=>a)}forEachTarget(t,e){return Sl(t).J((r,a)=>{const l=Rc(a);e(l)})}qn(t){return uw(t).get("targetGlobalKey").next(e=>(It(e!==null),e))}Qn(t,e){return uw(t).put("targetGlobalKey",e)}Kn(t,e){return Sl(t).put(SI(this.serializer,e))}$n(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.qn(t).next(e=>e.targetCount)}getTargetData(t,e){const r=bo(e),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Sl(t).J({range:a,index:"queryTargetsIndex"},(u,d,m)=>{const p=Rc(d);hh(e,p.target)&&(l=p,m.done())}).next(()=>l)}addMatchingKeys(t,e,r){const a=[],l=$s(t);return e.forEach(u=>{const d=jn(u.path);a.push(l.put({targetId:r,path:d})),a.push(this.referenceDelegate.addReference(t,r,u))}),G.waitFor(a)}removeMatchingKeys(t,e,r){const a=$s(t);return G.forEach(e,l=>{const u=jn(l.path);return G.waitFor([a.delete([r,u]),this.referenceDelegate.removeReference(t,r,l)])})}removeMatchingKeysForTargetId(t,e){const r=$s(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),a=$s(t);let l=jt();return a.J({range:r,H:!0},(u,d,m)=>{const p=fi(u[1]),y=new yt(p);l=l.add(y)}).next(()=>l)}containsKey(t,e){const r=jn(e.path),a=IDBKeyRange.bound([r],[SA(r)],!1,!0);let l=0;return $s(t).J({index:"documentTargetsIndex",H:!0,range:a},([u,d],m,p)=>{u!==0&&(l++,p.done())}).next(()=>l>0)}ot(t,e){return Sl(t).get(e).next(r=>r?Rc(r):null)}}function Sl(n){return un(n,"targets")}function uw(n){return un(n,"targetGlobal")}function $s(n){return un(n,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw([n,t],[e,r]){const a=kt(n,e);return a===0?kt(t,r):a}class VV{constructor(t){this.Un=t,this.buffer=new ge(cw),this.Wn=0}Gn(){return++this.Wn}zn(t){const e=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();cw(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class kV{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(t){ct("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ma(e)?ct("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await fa(e)}await this.Hn(3e5)})}}class LV{constructor(t,e){this.Jn=t,this.params=e}calculateTargetCount(t,e){return this.Jn.Yn(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(e===0)return G.resolve(tr.oe);const r=new VV(e);return this.Jn.forEachTarget(t,a=>r.zn(a.sequenceNumber)).next(()=>this.Jn.Zn(t,a=>r.zn(a))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.Jn.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Jn.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(lw)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lw):this.Xn(t,e))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,e){let r,a,l,u,d,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(t,a))).next(_=>(r=_,d=Date.now(),this.removeTargets(t,r,e))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(_=>(p=Date.now(),Il()<=Yt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function UV(n,t){return new LV(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(t,e){this.db=t,this.garbageCollector=UV(this,e)}Yn(t){const e=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(a=>r+a))}er(t){let e=0;return this.Zn(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Zn(t,e){return this.tr(t,(r,a)=>e(a))}addReference(t,e,r){return Wd(t,r)}removeReference(t,e,r){return Wd(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return Wd(t,e)}nr(t,e){return function(a,l){let u=!1;return xI(a).Y(d=>DI(a,d,l).next(m=>(m&&(u=!0),G.resolve(!m)))).next(()=>u)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.tr(t,(u,d)=>{if(d<=e){const m=this.nr(t,u).next(p=>{if(!p)return l++,r.getEntry(t,u).next(()=>(r.removeEntry(u,Ct.min()),$s(t).delete(function(_){return[0,jn(_.path)]}(u))))});a.push(m)}}).next(()=>G.waitFor(a)).next(()=>r.apply(t)).next(()=>l)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return Wd(t,e)}tr(t,e){const r=$s(t);let a,l=tr.oe;return r.J({index:"documentTargetsIndex"},([u,d],{path:m,sequenceNumber:p})=>{u===0?(l!==tr.oe&&e(new yt(fi(a)),l),l=p,a=m):l=tr.oe}).next(()=>{l!==tr.oe&&e(new yt(fi(a)),l)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Wd(n,t){return $s(n).put(function(r,a){return{targetId:0,path:jn(r.path),sequenceNumber:a}}(t,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.changes=new pa(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ue.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?G.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,r){return $a(t).put(r)}removeEntry(t,e,r){return $a(t).delete(function(l,u){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Bf(u),d[d.length-1]]}(e,r))}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.rr(t,r)))}getEntry(t,e){let r=Ue.newInvalidDocument(e);return $a(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(vc(e))},(a,l)=>{r=this.ir(e,l)}).next(()=>r)}sr(t,e){let r={size:0,document:Ue.newInvalidDocument(e)};return $a(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(vc(e))},(a,l)=>{r={document:this.ir(e,l),size:zf(l)}}).next(()=>r)}getEntries(t,e){let r=mr();return this._r(t,e,(a,l)=>{const u=this.ir(a,l);r=r.insert(a,u)}).next(()=>r)}ar(t,e){let r=mr(),a=new Ee(yt.comparator);return this._r(t,e,(l,u)=>{const d=this.ir(l,u);r=r.insert(l,d),a=a.insert(l,zf(u))}).next(()=>({documents:r,ur:a}))}_r(t,e,r){if(e.isEmpty())return G.resolve();let a=new ge(fw);e.forEach(m=>a=a.add(m));const l=IDBKeyRange.bound(vc(a.first()),vc(a.last())),u=a.getIterator();let d=u.getNext();return $a(t).J({index:"documentKeyIndex",range:l},(m,p,y)=>{const _=yt.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;d&&fw(d,_)<0;)r(d,null),d=u.getNext();d&&d.isEqual(_)&&(r(d,p),d=u.hasNext()?u.getNext():null),d?y.$(vc(d)):y.done()}).next(()=>{for(;d;)r(d,null),d=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(t,e,r,a,l){const u=e.path,d=[u.popLast().toArray(),u.lastSegment(),Bf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $a(t).U(IDBKeyRange.bound(d,m,!0)).next(p=>{l==null||l.incrementDocumentReadCount(p.length);let y=mr();for(const _ of p){const b=this.ir(yt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);b.isFoundDocument()&&(fh(e,b)||a.has(b.key))&&(y=y.insert(b.key,b))}return y})}getAllFromCollectionGroup(t,e,r,a){let l=mr();const u=dw(e,r),d=dw(e,gr.max());return $a(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,d,!0)},(m,p,y)=>{const _=this.ir(yt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(_.key,_),l.size===a&&y.done()}).next(()=>l)}newChangeBuffer(t){return new zV(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return hw(t).get("remoteDocumentGlobalKey").next(e=>(It(!!e),e))}rr(t,e){return hw(t).put("remoteDocumentGlobalKey",e)}ir(t,e){if(e){const r=SV(this.serializer,e);if(!(r.isNoDocument()&&r.version.isEqual(Ct.min())))return r}return Ue.newInvalidDocument(t)}}function OI(n){return new FV(n)}class zV extends PI{constructor(t,e){super(),this.cr=t,this.trackRemovals=e,this.lr=new pa(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(t){const e=[];let r=0,a=new ge((l,u)=>kt(l.canonicalString(),u.canonicalString()));return this.changes.forEach((l,u)=>{const d=this.lr.get(l);if(e.push(this.cr.removeEntry(t,l,d.readTime)),u.isValidDocument()){const m=Wb(this.cr.serializer,u);a=a.add(l.path.popLast());const p=zf(m);r+=p-d.size,e.push(this.cr.addEntry(t,l,m))}else if(r-=d.size,this.trackRemovals){const m=Wb(this.cr.serializer,u.convertToNoDocument(Ct.min()));e.push(this.cr.addEntry(t,l,m))}}),a.forEach(l=>{e.push(this.cr.indexManager.addToCollectionParentIndex(t,l))}),e.push(this.cr.updateMetadata(t,r)),G.waitFor(e)}getFromCache(t,e){return this.cr.sr(t,e).next(r=>(this.lr.set(e,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(t,e){return this.cr.ar(t,e).next(({documents:r,ur:a})=>(a.forEach((l,u)=>{this.lr.set(l,{size:u,readTime:r.get(l).readTime})}),r))}}function hw(n){return un(n,"remoteDocumentGlobal")}function $a(n){return un(n,"remoteDocumentsV14")}function vc(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function dw(n,t){const e=t.documentKey.path.toArray();return[n,Bf(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function fw(n,t){const e=n.path.toArray(),r=t.path.toArray();let a=0;for(let l=0;l<e.length-2&&l<r.length-2;++l)if(a=kt(e[l],r[l]),a)return a;return a=kt(e.length,r.length),a||(a=kt(e[e.length-2],r[r.length-2]),a||kt(e[e.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,e,r,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(r=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(r!==null&&Vc(r.mutation,a,er.empty(),De.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,jt()).next(()=>r))}getLocalViewOfDocuments(t,e,r=jt()){const a=mi();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,r).next(l=>{let u=Ac();return l.forEach((d,m)=>{u=u.insert(d,m.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const r=mi();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,jt()))}populateOverlays(t,e,r){const a=[];return r.forEach(l=>{e.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((u,d)=>{e.set(u,d)})})}computeViews(t,e,r,a){let l=mr();const u=Mc(),d=function(){return Mc()}();return e.forEach((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof hs)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Vc(y.mutation,p,y.mutation.getFieldMask(),De.now())):u.set(p.key,er.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((p,y)=>u.set(p,y)),e.forEach((p,y)=>{var _;return d.set(p,new jV(y,(_=u.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(t,e){const r=Mc();let a=new Ee((u,d)=>u-d),l=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const d of u)d.keys().forEach(m=>{const p=e.get(m);if(p===null)return;let y=r.get(m)||er.empty();y=d.applyToLocalView(p,y),r.set(m,y);const _=(a.get(d.batchId)||jt()).add(m);a=a.insert(d.batchId,_)})}).next(()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,_=tI();y.forEach(b=>{if(!l.has(b)){const R=aI(e.get(b),r.get(b));R!==null&&_.set(b,R),l=l.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(t,p,_))}return G.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,a){return function(u){return yt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):$A(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,a):this.getDocumentsMatchingCollectionQuery(t,e,r,a)}getNextDocuments(t,e,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,a-l.size):G.resolve(mi());let d=-1,m=l;return u.next(p=>G.forEach(p,(y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?G.resolve():this.remoteDocumentCache.getEntry(t,y).next(b=>{m=m.insert(y,b)}))).next(()=>this.populateOverlays(t,p,l)).next(()=>this.computeViews(t,m,p,jt())).next(y=>({batchId:d,changes:ZA(y)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next(r=>{let a=Ac();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,r,a){const l=e.collectionGroup;let u=Ac();return this.indexManager.getCollectionParents(t,l).next(d=>G.forEach(d,m=>{const p=function(_,b){return new dh(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(e,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,a).next(y=>{y.forEach((_,b)=>{u=u.insert(_,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(t,e,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,l,a))).next(u=>{l.forEach((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Ue.newInvalidDocument(y)))});let d=Ac();return u.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Vc(y.mutation,p,er.empty(),De.now()),fh(e,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return G.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:qn(a.createTime)}}(e)),G.resolve()}getNamedQuery(t,e){return G.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,function(a){return{name:a.name,query:AI(a.bundledQuery),readTime:qn(a.readTime)}}(e)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.overlays=new Ee(yt.comparator),this.Ir=new Map}getOverlay(t,e){return G.resolve(this.overlays.get(e))}getOverlays(t,e){const r=mi();return G.forEach(e,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((a,l)=>{this.ht(t,e,l)}),G.resolve()}removeOverlaysForBatchId(t,e,r){const a=this.Ir.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Ir.delete(r)),G.resolve()}getOverlaysForCollection(t,e,r){const a=mi(),l=e.length+1,u=new yt(e.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return G.resolve(a)}getOverlaysForCollectionGroup(t,e,r,a){let l=new Ee((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=mi(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=mi(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>d.set(p,y)),!(d.size()>=a)););return G.resolve(d)}ht(t,e,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Ir.get(a.largestBatchId).delete(r.key);this.Ir.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new __(e,r));let l=this.Ir.get(e);l===void 0&&(l=jt(),this.Ir.set(e,l)),this.Ir.set(e,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return G.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.Tr=new ge(gn.Er),this.dr=new ge(gn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const r=new gn(t,e);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.Vr(new gn(t,e))}mr(t,e){t.forEach(r=>this.removeReference(r,e))}gr(t){const e=new yt(new oe([])),r=new gn(e,t),a=new gn(e,t+1),l=[];return this.dr.forEachInRange([r,a],u=>{this.Vr(u),l.push(u.key)}),l}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new yt(new oe([])),r=new gn(e,t),a=new gn(e,t+1);let l=jt();return this.dr.forEachInRange([r,a],u=>{l=l.add(u.key)}),l}containsKey(t){const e=new gn(t,0),r=this.Tr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class gn{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return yt.comparator(t.key,e.key)||kt(t.wr,e.wr)}static Ar(t,e){return kt(t.wr,e.wr)||yt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new ge(gn.Er)}checkEmpty(t){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,a){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new g_(l,e,r,a);this.mutationQueue.push(u);for(const d of a)this.br=this.br.add(new gn(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return G.resolve(u)}lookupMutationBatch(t,e){return G.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=this.vr(r),l=a<0?0:a;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new gn(e,0),a=new gn(e,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([r,a],u=>{const d=this.Dr(u.wr);l.push(d)}),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new ge(kt);return e.forEach(a=>{const l=new gn(a,0),u=new gn(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,u],d=>{r=r.add(d.wr)})}),G.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1;let l=r;yt.isDocumentKey(l)||(l=l.child(""));const u=new gn(new yt(l),0);let d=new ge(kt);return this.br.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.wr)),!0)},u),G.resolve(this.Cr(d))}Cr(t){const e=[];return t.forEach(r=>{const a=this.Dr(r);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){It(this.Fr(e.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return G.forEach(e.mutations,a=>{const l=new gn(a.key,e.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.br=r})}On(t){}containsKey(t,e){const r=new gn(e,0),a=this.br.firstAfterOrEqual(r);return G.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,G.resolve()}Fr(t,e){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(t){this.Mr=t,this.docs=function(){return new Ee(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,a=this.docs.get(r),l=a?a.size:0,u=this.Mr(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return G.resolve(r?r.document.mutableCopy():Ue.newInvalidDocument(e))}getEntries(t,e){let r=mr();return e.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():Ue.newInvalidDocument(a))}),G.resolve(r)}getDocumentsMatchingQuery(t,e,r,a){let l=mr();const u=e.path,d=new yt(u.child("")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||o_(IA(y),r)<=0||(a.has(y.key)||fh(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(t,e,r,a){wt()}Or(t,e){return G.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new $V(this)}getSize(t){return G.resolve(this.size)}}class $V extends PI{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?e.push(this.cr.addEntry(t,a)):this.cr.removeEntry(r)}),G.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(t){this.persistence=t,this.Nr=new pa(e=>bo(e),hh),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Lr=0,this.Br=new w_,this.targetCount=0,this.kr=Ao.Bn()}forEachTarget(t,e){return this.Nr.forEach((r,a)=>e(a)),G.resolve()}getLastRemoteSnapshotVersion(t){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return G.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Lr&&(this.Lr=e),G.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new Ao(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,G.resolve()}updateTargetData(t,e){return this.Kn(e),G.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,G.resolve()}removeTargets(t,e,r){let a=0;const l=[];return this.Nr.forEach((u,d)=>{d.sequenceNumber<=e&&r.get(d.targetId)===null&&(this.Nr.delete(u),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)}),G.waitFor(l).next(()=>a)}getTargetCount(t){return G.resolve(this.targetCount)}getTargetData(t,e){const r=this.Nr.get(e)||null;return G.resolve(r)}addMatchingKeys(t,e,r){return this.Br.Rr(e,r),G.resolve()}removeMatchingKeys(t,e,r){this.Br.mr(e,r);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(u=>{l.push(a.markPotentiallyOrphaned(t,u))}),G.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),G.resolve()}getMatchingKeysForTargetId(t,e){const r=this.Br.yr(e);return G.resolve(r)}containsKey(t,e){return G.resolve(this.Br.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t,e){this.qr={},this.overlays={},this.Qr=new tr(0),this.Kr=!1,this.Kr=!0,this.$r=new GV,this.referenceDelegate=t(this),this.Ur=new YV(this),this.indexManager=new OV,this.remoteDocumentCache=function(a){return new QV(a)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new wI(e),this.Gr=new qV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new HV,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.qr[t.toKey()];return r||(r=new KV(e,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,r){ct("MemoryPersistence","Starting transaction:",t);const a=new XV(this.Qr.next());return this.referenceDelegate.zr(),r(a).next(l=>this.referenceDelegate.jr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Hr(t,e){return G.or(Object.values(this.qr).map(r=>()=>r.containsKey(t,e)))}}class XV extends CA{constructor(t){super(),this.currentSequenceNumber=t}}class dm{constructor(t){this.persistence=t,this.Jr=new w_,this.Yr=null}static Zr(t){return new dm(t)}get Xr(){if(this.Yr)return this.Yr;throw wt()}addReference(t,e,r){return this.Jr.addReference(r,e),this.Xr.delete(r.toString()),G.resolve()}removeReference(t,e,r){return this.Jr.removeReference(r,e),this.Xr.add(r.toString()),G.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),G.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(a=>this.Xr.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(l=>this.Xr.add(l.toString()))}).next(()=>r.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Xr,r=>{const a=yt.fromPath(r);return this.ei(t,a).next(l=>{l||e.removeEntry(a,Ct.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(r=>{r?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return G.or([()=>G.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(t){this.serializer=t}O(t,e,r,a){const l=new rm("createOrUpgrade",e);r<1&&a>=1&&(function(m){m.createObjectStore("owner")}(t),function(m){m.createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rb,{unique:!0}),m.createObjectStore("documentMutations")}(t),mw(t),function(m){m.createObjectStore("remoteDocuments")}(t));let u=G.resolve();return r<3&&a>=3&&(r!==0&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(t),mw(t)),u=u.next(()=>function(m){const p=m.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ct.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(l))),r<4&&a>=4&&(r!==0&&(u=u.next(()=>function(m,p){return p.store("mutations").U().next(y=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rb,{unique:!0});const _=p.store("mutations"),b=y.map(R=>_.put(R));return G.waitFor(b)})}(t,l))),u=u.next(()=>{(function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})})(t)})),r<5&&a>=5&&(u=u.next(()=>this.ni(l))),r<6&&a>=6&&(u=u.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(t),this.ri(l)))),r<7&&a>=7&&(u=u.next(()=>this.ii(l))),r<8&&a>=8&&(u=u.next(()=>this.si(t,l))),r<9&&a>=9&&(u=u.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(t)})),r<10&&a>=10&&(u=u.next(()=>this.oi(l))),r<11&&a>=11&&(u=u.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),r<12&&a>=12&&(u=u.next(()=>{(function(m){const p=m.createObjectStore("documentOverlays",{keyPath:CM});p.createIndex("collectionPathOverlayIndex",DM,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",xM,{unique:!1})})(t)})),r<13&&a>=13&&(u=u.next(()=>function(m){const p=m.createObjectStore("remoteDocumentsV14",{keyPath:yM});p.createIndex("documentKeyIndex",_M),p.createIndex("collectionGroupIndex",vM)}(t)).next(()=>this._i(t,l)).next(()=>t.deleteObjectStore("remoteDocuments"))),r<14&&a>=14&&(u=u.next(()=>this.ai(t,l))),r<15&&a>=15&&(u=u.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:SM}).createIndex("sequenceNumberIndex",AM,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:IM}).createIndex("documentKeyIndex",RM,{unique:!1})}(t))),r<16&&a>=16&&(u=u.next(()=>{e.objectStore("indexState").clear()}).next(()=>{e.objectStore("indexEntries").clear()})),r<17&&a>=17&&(u=u.next(()=>{(function(m){m.createObjectStore("globals",{keyPath:"name"})})(t)})),u}ri(t){let e=0;return t.store("remoteDocuments").J((r,a)=>{e+=zf(a)}).next(()=>{const r={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(t){const e=t.store("mutationQueues"),r=t.store("mutations");return e.U().next(a=>G.forEach(a,l=>{const u=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",u).next(d=>G.forEach(d,m=>{It(m.userId===l.userId);const p=Za(this.serializer,m);return CI(t,l.userId,p).next(()=>{})}))}))}ii(t){const e=t.store("targetDocuments"),r=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(a=>{const l=[];return r.J((u,d)=>{const m=new oe(u),p=function(_){return[0,jn(_)]}(m);l.push(e.get(p).next(y=>y?G.resolve():(_=>e.put({targetId:0,path:jn(_),sequenceNumber:a.highestListenSequenceNumber}))(m)))}).next(()=>G.waitFor(l))})}si(t,e){t.createObjectStore("collectionParents",{keyPath:wM});const r=e.store("collectionParents"),a=new b_,l=u=>{if(a.add(u)){const d=u.lastSegment(),m=u.popLast();return r.put({collectionId:d,parent:jn(m)})}};return e.store("remoteDocuments").J({H:!0},(u,d)=>{const m=new oe(u);return l(m.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([u,d,m],p)=>{const y=fi(d);return l(y.popLast())}))}oi(t){const e=t.store("targets");return e.J((r,a)=>{const l=Rc(a),u=SI(this.serializer,l);return e.put(u)})}_i(t,e){const r=e.store("remoteDocuments"),a=[];return r.J((l,u)=>{const d=e.store("remoteDocumentsV14"),m=function(_){return _.document?new yt(oe.fromString(_.document.name).popFirst(5)):_.noDocument?yt.fromSegments(_.noDocument.path):_.unknownDocument?yt.fromSegments(_.unknownDocument.path):wt()}(u).path.toArray(),p={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(d.put(p))}).next(()=>G.waitFor(a))}ai(t,e){const r=e.store("mutations"),a=OI(this.serializer),l=new MI(dm.Zr,this.serializer.ct);return r.U().next(u=>{const d=new Map;return u.forEach(m=>{var p;let y=(p=d.get(m.userId))!==null&&p!==void 0?p:jt();Za(this.serializer,m).keys().forEach(_=>y=y.add(_)),d.set(m.userId,y)}),G.forEach(d,(m,p)=>{const y=new Pn(p),_=cm.lt(this.serializer,y),b=l.getIndexManager(y),R=hm.lt(y,this.serializer,b,l.referenceDelegate);return new NI(a,R,_,b).recalculateAndSaveOverlaysForDocumentKeys(new gy(e,tr.oe),m).next()})})}}function mw(n){n.createObjectStore("targetDocuments",{keyPath:TM}).createIndex("documentTargetsIndex",bM,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",EM,{unique:!0}),n.createObjectStore("targetGlobal")}const Qg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class S_{constructor(t,e,r,a,l,u,d,m,p,y,_=17){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.ui=l,this.window=u,this.document=d,this.ci=p,this.li=y,this.hi=_,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=b=>Promise.resolve(),!S_.D())throw new gt(nt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new BV(this,a),this.Ai=e+"main",this.serializer=new wI(m),this.Ri=new sa(this.Ai,this.hi,new WV(this.serializer)),this.$r=new IV,this.Ur=new MV(this.referenceDelegate,this.serializer),this.remoteDocumentCache=OI(this.serializer),this.Gr=new AV,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,y===!1&&Ke("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new gt(nt.FAILED_PRECONDITION,Qg);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new tr(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){return this.di=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(async e=>{e.newVersion===null&&await t()})}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Jd(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(e=>{e||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(e=>this.isPrimary&&!e?this.bi(t).next(()=>!1):!!e&&this.Di(t).next(()=>!0))).catch(t=>{if(ma(t))return ct("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ct("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return Ec(t).get("owner").next(e=>G.resolve(this.vi(e)))}Ci(t){return Jd(t).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const r=un(e,"clientMetadata");return r.U().next(a=>{const l=this.xi(a,18e5),u=a.filter(d=>l.indexOf(d)===-1);return G.forEach(u,d=>r.delete(d.clientId)).next(()=>u)})}).catch(()=>[]);if(this.Vi)for(const e of t)this.Vi.removeItem(this.Oi(e.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?G.resolve(!0):Ec(t).get("owner").next(e=>{if(e!==null&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)){if(this.vi(e)&&this.networkEnabled)return!0;if(!this.vi(e)){if(!e.allowTabSynchronization)throw new gt(nt.FAILED_PRECONDITION,Qg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jd(t).U().next(r=>this.xi(r,5e3).find(a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(l||u&&d)return!0}return!1})===void 0)}).next(e=>(this.isPrimary!==e&&ct("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const e=new gy(t,tr.oe);return this.bi(e).next(()=>this.Ci(e))}),this.Ri.close(),this.qi()}xi(t,e){return t.filter(r=>this.Mi(r.updateTimeMs,e)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>Jd(t).U().next(e=>this.xi(e,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,e){return hm.lt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new NV(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return cm.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,e,r){ct("IndexedDbPersistence","Starting transaction:",t);const a=e==="readonly"?"readonly":"readwrite",l=function(m){return m===17?NM:m===16?OM:m===15?u_:m===14?MA:m===13?NA:m===12?PM:m===11?OA:void wt()}(this.hi);let u;return this.Ri.runTransaction(t,a,l,d=>(u=new gy(d,this.Qr?this.Qr.next():tr.oe),e==="readwrite-primary"?this.wi(u).next(m=>!!m||this.Si(u)).next(m=>{if(!m)throw Ke(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new gt(nt.FAILED_PRECONDITION,RA);return r(u)}).next(m=>this.Di(u).next(()=>m)):this.Ki(u).next(()=>r(u)))).then(d=>(u.raiseOnCommittedEvent(),d))}Ki(t){return Ec(t).get("owner").next(e=>{if(e!==null&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)&&!this.vi(e)&&!(this.li||this.allowTabSynchronization&&e.allowTabSynchronization))throw new gt(nt.FAILED_PRECONDITION,Qg)})}Di(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ec(t).put("owner",e)}static D(){return sa.D()}bi(t){const e=Ec(t);return e.get("owner").next(r=>this.vi(r)?(ct("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):G.resolve())}Mi(t,e){const r=Date.now();return!(t<r-e)&&(!(t>r)||(Ke(`Detected an update time that is in the future: ${t} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const e=/(?:Version|Mobile)\/1[456]/;IS()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var e;try{const r=((e=this.Vi)===null||e===void 0?void 0:e.getItem(this.Oi(t)))!==null;return ct("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ke("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){Ke("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Ec(n){return un(n,"owner")}function Jd(n){return un(n,"clientMetadata")}function VI(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(t,e,r,a){this.targetId=t,this.fromCache=e,this.$i=r,this.Ui=a}static Wi(t,e){let r=jt(),a=jt();for(const l of e.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new A_(t,e.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return IS()?8:DA(on())>0?6:4}()}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,r,a){const l={result:null};return this.Yi(t,e).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.Zi(t,e,a,r).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new JV;return this.Xi(t,e,u).next(d=>{if(l.result=d,this.zi)return this.es(t,e,u,d.size)})}).next(()=>l.result)}es(t,e,r,a){return r.documentReadCount<this.ji?(Il()<=Yt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Rl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),G.resolve()):(Il()<=Yt.DEBUG&&ct("QueryEngine","Query:",Rl(e),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.Hi*a?(Il()<=Yt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Rl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,pr(e))):G.resolve())}Yi(t,e){if(Fb(e))return G.resolve(null);let r=pr(e);return this.indexManager.getIndexType(t,r).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=wy(e,null,"F"),r=pr(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const u=jt(...l);return this.Ji.getDocuments(t,u).next(d=>this.indexManager.getMinOffset(t,r).next(m=>{const p=this.ts(e,d);return this.ns(e,p,u,m.readTime)?this.Yi(t,wy(e,null,"F")):this.rs(t,p,e,m)}))})))}Zi(t,e,r,a){return Fb(e)||a.isEqual(Ct.min())?G.resolve(null):this.Ji.getDocuments(t,r).next(l=>{const u=this.ts(e,l);return this.ns(e,u,r,a)?G.resolve(null):(Il()<=Yt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Rl(e)),this.rs(t,u,e,AA(a,-1)).next(d=>d))})}ts(t,e){let r=new ge(WA(t));return e.forEach((a,l)=>{fh(t,l)&&(r=r.add(l))}),r}ns(t,e,r,a){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Xi(t,e,r){return Il()<=Yt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Rl(e)),this.Ji.getDocumentsMatchingQuery(t,e,gr.min(),r)}rs(t,e,r,a){return this.Ji.getDocumentsMatchingQuery(t,r,a).next(l=>(e.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(t,e,r,a){this.persistence=t,this.ss=e,this.serializer=a,this.os=new Ee(kt),this._s=new pa(l=>bo(l),hh),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new NI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}}function LI(n,t,e,r){return new ZV(n,t,e,r)}async function UI(n,t){const e=St(n);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let a;return e.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,e.ls(t),e.mutationQueue.getAllMutationBatches(r))).next(l=>{const u=[],d=[];let m=jt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return e.localDocuments.getDocuments(r,m).next(p=>({hs:p,removedBatchIds:u,addedBatchIds:d}))})})}function tk(n,t){const e=St(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=e.cs.newChangeBuffer({trackRemovals:!0});return function(d,m,p,y){const _=p.batch,b=_.keys();let R=G.resolve();return b.forEach(O=>{R=R.next(()=>y.getEntry(m,O)).next(L=>{const k=p.docVersions.get(O);It(k!==null),L.version.compareTo(k)<0&&(_.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),y.addEntry(L)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(m,_))}(e,r,t,l).next(()=>l.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=jt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(t))).next(()=>e.localDocuments.getDocuments(r,a))})}function BI(n){const t=St(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function ek(n,t){const e=St(n),r=t.snapshotVersion;let a=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=e.cs.newChangeBuffer({trackRemovals:!0});a=e.os;const d=[];t.targetChanges.forEach((y,_)=>{const b=a.get(_);if(!b)return;d.push(e.Ur.removeMatchingKeys(l,y.removedDocuments,_).next(()=>e.Ur.addMatchingKeys(l,y.addedDocuments,_)));let R=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?R=R.withResumeToken(Qe.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,r)),a=a.insert(_,R),function(L,k,Y){return L.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(b,R,y)&&d.push(e.Ur.updateTargetData(l,R))});let m=mr(),p=jt();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(nk(l,u,t.documentUpdates).next(y=>{m=y.Ps,p=y.Is})),!r.isEqual(Ct.min())){const y=e.Ur.getLastRemoteSnapshotVersion(l).next(_=>e.Ur.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(y)}return G.waitFor(d).next(()=>u.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(e.os=a,l))}function nk(n,t,e){let r=jt(),a=jt();return e.forEach(l=>r=r.add(l)),t.getEntries(n,r).next(l=>{let u=mr();return e.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ct.min())?(t.removeEntry(d,m.readTime),u=u.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),u=u.insert(d,m)):ct("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{Ps:u,Is:a}})}function rk(n,t){const e=St(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function jf(n,t){const e=St(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return e.Ur.getTargetData(r,t).next(l=>l?(a=l,G.resolve(a)):e.Ur.allocateTargetId(r).next(u=>(a=new as(t,u,"TargetPurposeListen",r.currentSequenceNumber),e.Ur.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=e.os.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.os=e.os.insert(r.targetId,r),e._s.set(t,r.targetId)),r})}async function iu(n,t,e){const r=St(n),a=r.os.get(t),l=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!ma(u))throw u;ct("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}r.os=r.os.remove(t),r._s.delete(a.target)}function Py(n,t,e){const r=St(n);let a=Ct.min(),l=jt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(m,p,y){const _=St(m),b=_._s.get(y);return b!==void 0?G.resolve(_.os.get(b)):_.Ur.getTargetData(p,y)}(r,u,pr(t)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(u,d.targetId).next(m=>{l=m})}).next(()=>r.ss.getDocumentsMatchingQuery(u,t,e?a:Ct.min(),e?l:jt())).next(d=>(jI(r,XA(t),d),{documents:d,Ts:l})))}function FI(n,t){const e=St(n),r=St(e.Ur),a=e.os.get(t);return a?Promise.resolve(a.target):e.persistence.runTransaction("Get target data","readonly",l=>r.ot(l,t).next(u=>u?u.target:null))}function zI(n,t){const e=St(n),r=e.us.get(t)||Ct.min();return e.persistence.runTransaction("Get new document changes","readonly",a=>e.cs.getAllFromCollectionGroup(a,t,AA(r,-1),Number.MAX_SAFE_INTEGER)).then(a=>(jI(e,t,a),a))}function jI(n,t,e){let r=n.us.get(t)||Ct.min();e.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.us.set(t,r)}function pw(n,t){return`firestore_clients_${n}_${t}`}function gw(n,t,e){let r=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function $g(n,t){return`firestore_targets_${n}_${t}`}class qf{constructor(t,e,r,a){this.user=t,this.batchId=e,this.state=r,this.error=a}static Rs(t,e,r){const a=JSON.parse(r);let l,u=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return u&&a.error&&(u=typeof a.error.message=="string"&&typeof a.error.code=="string",u&&(l=new gt(a.error.code,a.error.message))),u?new qf(t,e,a.state,l):(Ke("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class kc{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static Rs(t,e){const r=JSON.parse(e);let a,l=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return l&&r.error&&(l=typeof r.error.message=="string"&&typeof r.error.code=="string",l&&(a=new gt(r.error.code,r.error.message))),l?new kc(t,r.state,a):(Ke("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Hf{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Rs(t,e){const r=JSON.parse(e);let a=typeof r=="object"&&r.activeTargetIds instanceof Array,l=f_();for(let u=0;a&&u<r.activeTargetIds.length;++u)a=xA(r.activeTargetIds[u]),l=l.add(r.activeTargetIds[u]);return a?new Hf(t,l):(Ke("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class I_{constructor(t,e){this.clientId=t,this.onlineState=e}static Rs(t){const e=JSON.parse(t);return typeof e=="object"&&["Unknown","Online","Offline"].indexOf(e.onlineState)!==-1&&typeof e.clientId=="string"?new I_(e.clientId,e.onlineState):(Ke("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Oy{constructor(){this.activeTargetIds=f_()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Yg{constructor(t,e,r,a,l){this.window=t,this.ui=e,this.persistenceKey=r,this.ps=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Ee(kt),this.started=!1,this.bs=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Ds=pw(this.persistenceKey,this.ps),this.vs=function(m){return`firestore_sequence_number_${m}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new Oy),this.Cs=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.xs=function(m){return`firestore_online_state_${m}`}(this.persistenceKey),this.Os=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.Qi();for(const r of t){if(r===this.ps)continue;const a=this.getItem(pw(this.persistenceKey,r));if(a){const l=Hf.Rs(r,a);l&&(this.Ss=this.Ss.insert(l.clientId,l))}}this.Ns();const e=this.storage.getItem(this.xs);if(e){const r=this.Ls(e);r&&this.Bs(r)}for(const r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let e=!1;return this.Ss.forEach((r,a)=>{a.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,e,r){this.qs(t,e,r),this.Qs(t)}addLocalQueryTarget(t,e=!0){let r="not-current";if(this.isActiveQueryTarget(t)){const a=this.storage.getItem($g(this.persistenceKey,t));if(a){const l=kc.Rs(t,a);l&&(r=l.state)}}return e&&this.Ks.fs(t),this.Ns(),r}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem($g(this.persistenceKey,t))}updateQueryState(t,e,r){this.$s(t,e,r)}handleUserChange(t,e,r){e.forEach(a=>{this.Qs(a)}),this.currentUser=t,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return ct("SharedClientState","READ",t,e),e}setItem(t,e){ct("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){ct("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){const e=t;if(e.storageArea===this.storage){if(ct("SharedClientState","EVENT",e.key,e.newValue),e.key===this.Ds)return void Ke("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(async()=>{if(this.started){if(e.key!==null){if(this.Cs.test(e.key)){if(e.newValue==null){const r=this.Gs(e.key);return this.zs(r,null)}{const r=this.js(e.key,e.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(e.key)){if(e.newValue!==null){const r=this.Hs(e.key,e.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(e.key)){if(e.newValue!==null){const r=this.Ys(e.key,e.newValue);if(r)return this.Zs(r)}}else if(e.key===this.xs){if(e.newValue!==null){const r=this.Ls(e.newValue);if(r)return this.Bs(r)}}else if(e.key===this.vs){const r=function(l){let u=tr.oe;if(l!=null)try{const d=JSON.parse(l);It(typeof d=="number"),u=d}catch(d){Ke("SharedClientState","Failed to read sequence number from WebStorage",d)}return u}(e.newValue);r!==tr.oe&&this.sequenceNumberHandler(r)}else if(e.key===this.Os){const r=this.Xs(e.newValue);await Promise.all(r.map(a=>this.syncEngine.eo(a)))}}}else this.bs.push(e)})}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,e,r){const a=new qf(this.currentUser,t,e,r),l=gw(this.persistenceKey,this.currentUser,t);this.setItem(l,a.Vs())}Qs(t){const e=gw(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Us(t){const e={clientId:this.ps,onlineState:t};this.storage.setItem(this.xs,JSON.stringify(e))}$s(t,e,r){const a=$g(this.persistenceKey,t),l=new kc(t,e,r);this.setItem(a,l.Vs())}Ws(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Os,e)}Gs(t){const e=this.Cs.exec(t);return e?e[1]:null}js(t,e){const r=this.Gs(t);return Hf.Rs(r,e)}Hs(t,e){const r=this.Fs.exec(t),a=Number(r[1]),l=r[2]!==void 0?r[2]:null;return qf.Rs(new Pn(l),a,e)}Ys(t,e){const r=this.Ms.exec(t),a=Number(r[1]);return kc.Rs(a,e)}Ls(t){return I_.Rs(t)}Xs(t){return JSON.parse(t)}async Js(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine.no(t.batchId,t.state,t.error);ct("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,e){const r=e?this.Ss.insert(t,e):this.Ss.remove(t),a=this.ks(this.Ss),l=this.ks(r),u=[],d=[];return l.forEach(m=>{a.has(m)||u.push(m)}),a.forEach(m=>{l.has(m)||d.push(m)}),this.syncEngine.io(u,d).then(()=>{this.Ss=r})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let e=f_();return t.forEach((r,a)=>{e=e.unionWith(a.activeTargetIds)}),e}}class qI{constructor(){this.so=new Oy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,r){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Oy,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd=null;function Xg(){return Zd===null?Zd=function(){return 268435456+Math.round(2147483648*Math.random())}():Zd++,"0x"+Zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class ok extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+e.host,this.vo=`projects/${a}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${l}`}get Fo(){return!1}Mo(e,r,a,l,u){const d=Xg(),m=this.xo(e,r.toUriEncodedString());ct("RestConnection",`Sending RPC '${e}' ${d}:`,m,a);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,l,u),this.No(e,m,p,a).then(y=>(ct("RestConnection",`Received RPC '${e}' ${d}: `,y),y),y=>{throw Hc("RestConnection",`RPC '${e}' ${d} failed with error: `,y,"url: ",m,"request:",a),y})}Lo(e,r,a,l,u,d){return this.Mo(e,r,a,l,u)}Oo(e,r,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,u)=>e[u]=l),a&&a.headers.forEach((l,u)=>e[u]=l)}xo(e,r){const a=sk[e];return`${this.Do}/v1/${r}:${a}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,r,a){const l=Xg();return new Promise((u,d)=>{const m=new _A;m.setWithCredentials(!0),m.listenOnce(vA.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case uf.NO_ERROR:const y=m.getResponseJson();ct(Dn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),u(y);break;case uf.TIMEOUT:ct(Dn,`RPC '${t}' ${l} timed out`),d(new gt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case uf.HTTP_ERROR:const _=m.getStatus();if(ct(Dn,`RPC '${t}' ${l} failed with status:`,_,"response text:",m.getResponseText()),_>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const R=b==null?void 0:b.error;if(R&&R.status&&R.message){const O=function(k){const Y=k.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(Y)>=0?Y:nt.UNKNOWN}(R.status);d(new gt(O,R.message))}else d(new gt(nt.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new gt(nt.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{ct(Dn,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(a);ct(Dn,`RPC '${t}' ${l} sending request:`,a),m.send(e,"POST",p,r,15)})}Bo(t,e,r){const a=Xg(),l=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=bA(),d=TA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Oo(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const y=l.join("");ct(Dn,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=u.createWebChannel(y,m);let b=!1,R=!1;const O=new ak({Io:k=>{R?ct(Dn,`Not sending because RPC '${t}' stream ${a} is closed:`,k):(b||(ct(Dn,`Opening RPC '${t}' stream ${a} transport.`),_.open(),b=!0),ct(Dn,`RPC '${t}' stream ${a} sending:`,k),_.send(k))},To:()=>_.close()}),L=(k,Y,Z)=>{k.listen(Y,K=>{try{Z(K)}catch(st){setTimeout(()=>{throw st},0)}})};return L(_,Sc.EventType.OPEN,()=>{R||(ct(Dn,`RPC '${t}' stream ${a} transport opened.`),O.yo())}),L(_,Sc.EventType.CLOSE,()=>{R||(R=!0,ct(Dn,`RPC '${t}' stream ${a} transport closed`),O.So())}),L(_,Sc.EventType.ERROR,k=>{R||(R=!0,Hc(Dn,`RPC '${t}' stream ${a} transport errored:`,k),O.So(new gt(nt.UNAVAILABLE,"The operation could not be completed")))}),L(_,Sc.EventType.MESSAGE,k=>{var Y;if(!R){const Z=k.data[0];It(!!Z);const K=Z,st=K.error||((Y=K[0])===null||Y===void 0?void 0:Y.error);if(st){ct(Dn,`RPC '${t}' stream ${a} received error:`,st);const et=st.status;let W=function(S){const D=tn[S];if(D!==void 0)return uI(D)}(et),x=st.message;W===void 0&&(W=nt.INTERNAL,x="Unknown error status: "+et+" with message "+st.message),R=!0,O.So(new gt(W,x)),_.close()}else ct(Dn,`RPC '${t}' stream ${a} received:`,Z),O.bo(Z)}}),L(d,EA.STAT_EVENT,k=>{k.stat===my.PROXY?ct(Dn,`RPC '${t}' stream ${a} detected buffering proxy`):k.stat===my.NOPROXY&&ct(Dn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{O.wo()},0),O}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){return typeof window<"u"?window:null}function gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(n){return new mV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t,e,r=1e3,a=1.5,l=6e4){this.ui=t,this.timerId=e,this.ko=r,this.qo=a,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),a=Math.max(0,e-r);a>0&&ct("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t,e,r,a,l,u,d,m){this.ui=t,this.Ho=r,this.Jo=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new GI(t,e)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,e){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():e&&e.code===nt.RESOURCE_EXHAUSTED?(Ke(e.toString()),Ke("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):e&&e.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(e)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.Yo===e&&this.P_(r,a)},r=>{t(()=>{const a=new gt(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(a)})})}P_(t,e){const r=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{r(()=>this.I_(a))}),this.stream.onMessage(a=>{r(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return ct("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lk extends KI{constructor(t,e,r,a,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,a,u),this.serializer=l}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=yV(this.serializer,t),r=function(l){if(!("targetChange"in l))return Ct.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ct.min():u.readTime?qn(u.readTime):Ct.min()}(t);return this.listener.d_(e,r)}A_(t){const e={};e.database=Iy(this.serializer),e.addTarget=function(l,u){let d;const m=u.target;if(d=Vf(m)?{documents:yI(l,m)}:{query:_I(l,m)._t},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=dI(l,u.resumeToken);const p=Sy(l,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ct.min())>0){d.readTime=ru(l,u.snapshotVersion.toTimestamp());const p=Sy(l,u.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,t);const r=vV(this.serializer,t);r&&(e.labels=r),this.a_(e)}R_(t){const e={};e.database=Iy(this.serializer),e.removeTarget=t,this.a_(e)}}class uk extends KI{constructor(t,e,r,a,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,a,u),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return It(!!t.streamToken),this.lastStreamToken=t.streamToken,It(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){It(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const e=_V(t.writeResults,t.commitTime),r=qn(t.commitTime);return this.listener.g_(r,e)}p_(){const t={};t.database=Iy(this.serializer),this.a_(t)}m_(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>Uf(this.serializer,r))};this.a_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck extends class{}{constructor(t,e,r,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new gt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,r,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Mo(t,Ay(e,r),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new gt(nt.UNKNOWN,l.toString())})}Lo(t,e,r,a,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Lo(t,Ay(e,r),a,u,d,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new gt(nt.UNKNOWN,u.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class hk{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ke(e),this.D_=!1):ct("OnlineStateTracker",e)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(t,e,r,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o(u=>{r.enqueueAndForget(async()=>{xo(this)&&(ct("RemoteStore","Restarting streams for network reachability change."),await async function(m){const p=St(m);p.L_.add(4),await gh(p),p.q_.set("Unknown"),p.L_.delete(4),await mm(p)}(this))})}),this.q_=new hk(r,a)}}async function mm(n){if(xo(n))for(const t of n.B_)await t(!0)}async function gh(n){for(const t of n.B_)await t(!1)}function pm(n,t){const e=St(n);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),D_(e)?C_(e):fu(e).r_()&&R_(e,t))}function su(n,t){const e=St(n),r=fu(e);e.N_.delete(t),r.r_()&&QI(e,t),e.N_.size===0&&(r.r_()?r.o_():xo(e)&&e.q_.set("Unknown"))}function R_(n,t){if(n.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}fu(n).A_(t)}function QI(n,t){n.Q_.xe(t),fu(n).R_(t)}function C_(n){n.Q_=new cV({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.N_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),fu(n).start(),n.q_.v_()}function D_(n){return xo(n)&&!fu(n).n_()&&n.N_.size>0}function xo(n){return St(n).L_.size===0}function $I(n){n.Q_=void 0}async function fk(n){n.q_.set("Online")}async function mk(n){n.N_.forEach((t,e)=>{R_(n,t)})}async function pk(n,t){$I(n),D_(n)?(n.q_.M_(t),C_(n)):n.q_.set("Unknown")}async function gk(n,t,e){if(n.q_.set("Online"),t instanceof hI&&t.state===2&&t.cause)try{await async function(a,l){const u=l.cause;for(const d of l.targetIds)a.N_.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.N_.delete(d),a.Q_.removeTarget(d))}(n,t)}catch(r){ct("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Gf(n,r)}else if(t instanceof pf?n.Q_.Ke(t):t instanceof cI?n.Q_.He(t):n.Q_.We(t),!e.isEqual(Ct.min()))try{const r=await BI(n.localStore);e.compareTo(r)>=0&&await function(l,u){const d=l.Q_.rt(u);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.N_.get(p);y&&l.N_.set(p,y.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach((m,p)=>{const y=l.N_.get(m);if(!y)return;l.N_.set(m,y.withResumeToken(Qe.EMPTY_BYTE_STRING,y.snapshotVersion)),QI(l,m);const _=new as(y.target,m,p,y.sequenceNumber);R_(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(n,e)}catch(r){ct("RemoteStore","Failed to raise snapshot:",r),await Gf(n,r)}}async function Gf(n,t,e){if(!ma(t))throw t;n.L_.add(1),await gh(n),n.q_.set("Offline"),e||(e=()=>BI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ct("RemoteStore","Retrying IndexedDB access"),await e(),n.L_.delete(1),await mm(n)})}function YI(n,t){return t().catch(e=>Gf(n,e,t))}async function du(n){const t=St(n),e=ha(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;yk(t);)try{const a=await rk(t.localStore,r);if(a===null){t.O_.length===0&&e.o_();break}r=a.batchId,_k(t,a)}catch(a){await Gf(t,a)}XI(t)&&WI(t)}function yk(n){return xo(n)&&n.O_.length<10}function _k(n,t){n.O_.push(t);const e=ha(n);e.r_()&&e.V_&&e.m_(t.mutations)}function XI(n){return xo(n)&&!ha(n).n_()&&n.O_.length>0}function WI(n){ha(n).start()}async function vk(n){ha(n).p_()}async function Ek(n){const t=ha(n);for(const e of n.O_)t.m_(e.mutations)}async function Tk(n,t,e){const r=n.O_.shift(),a=y_.from(r,t,e);await YI(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await du(n)}async function bk(n,t){t&&ha(n).V_&&await async function(r,a){if(function(u){return oV(u)&&u!==nt.ABORTED}(a.code)){const l=r.O_.shift();ha(r).s_(),await YI(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await du(r)}}(n,t),XI(n)&&WI(n)}async function _w(n,t){const e=St(n);e.asyncQueue.verifyOperationInProgress(),ct("RemoteStore","RemoteStore received new credentials");const r=xo(e);e.L_.add(3),await gh(e),r&&e.q_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),await mm(e)}async function Ny(n,t){const e=St(n);t?(e.L_.delete(2),await mm(e)):t||(e.L_.add(2),await gh(e),e.q_.set("Unknown"))}function fu(n){return n.K_||(n.K_=function(e,r,a){const l=St(e);return l.w_(),new lk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Eo:fk.bind(null,n),Ro:mk.bind(null,n),mo:pk.bind(null,n),d_:gk.bind(null,n)}),n.B_.push(async t=>{t?(n.K_.s_(),D_(n)?C_(n):n.q_.set("Unknown")):(await n.K_.stop(),$I(n))})),n.K_}function ha(n){return n.U_||(n.U_=function(e,r,a){const l=St(e);return l.w_(),new uk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:vk.bind(null,n),mo:bk.bind(null,n),f_:Ek.bind(null,n),g_:Tk.bind(null,n)}),n.B_.push(async t=>{t?(n.U_.s_(),await du(n)):(await n.U_.stop(),n.O_.length>0&&(ct("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(t,e,r,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,a,l){const u=Date.now()+r,d=new x_(t,e,u,a,l);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P_(n,t){if(Ke("AsyncQueue",`${t}: ${n}`),ma(n))return new gt(nt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t){this.comparator=t?(e,r)=>t(e,r)||yt.comparator(e.key,r.key):(e,r)=>yt.comparator(e.key,r.key),this.keyedMap=Ac(),this.sortedSet=new Ee(this.comparator)}static emptySet(t){return new Bl(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Bl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Bl;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.W_=new Ee(yt.comparator)}track(t){const e=t.doc.key,r=this.W_.get(e);r?t.type!==0&&r.type===3?this.W_=this.W_.insert(e,t):t.type===3&&r.type!==1?this.W_=this.W_.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.W_=this.W_.remove(e):t.type===1&&r.type===2?this.W_=this.W_.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):wt():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal((e,r)=>{t.push(r)}),t}}class au{constructor(t,e,r,a,l,u,d,m,p){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,e,r,a,l){const u=[];return e.forEach(d=>{u.push({type:0,doc:d})}),new au(t,e,Bl.emptySet(e),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&om(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==r[a].type||!e[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class Sk{constructor(){this.queries=Ew(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(e,r){const a=St(e),l=a.queries;a.queries=Ew(),l.forEach((u,d)=>{for(const m of d.j_)m.onError(r)})})(this,new gt(nt.ABORTED,"Firestore shutting down"))}}function Ew(){return new pa(n=>YA(n),om)}async function JI(n,t){const e=St(n);let r=3;const a=t.query;let l=e.queries.get(a);l?!l.H_()&&t.J_()&&(r=2):(l=new wk,r=t.J_()?0:1);try{switch(r){case 0:l.z_=await e.onListen(a,!0);break;case 1:l.z_=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const d=P_(u,`Initialization of query '${Rl(t.query)}' failed`);return void t.onError(d)}e.queries.set(a,l),l.j_.push(t),t.Z_(e.onlineState),l.z_&&t.X_(l.z_)&&O_(e)}async function ZI(n,t){const e=St(n),r=t.query;let a=3;const l=e.queries.get(r);if(l){const u=l.j_.indexOf(t);u>=0&&(l.j_.splice(u,1),l.j_.length===0?a=t.J_()?0:1:!l.H_()&&t.J_()&&(a=2))}switch(a){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function Ak(n,t){const e=St(n);let r=!1;for(const a of t){const l=a.query,u=e.queries.get(l);if(u){for(const d of u.j_)d.X_(a)&&(r=!0);u.z_=a}}r&&O_(e)}function Ik(n,t,e){const r=St(n),a=r.queries.get(t);if(a)for(const l of a.j_)l.onError(e);r.queries.delete(t)}function O_(n){n.Y_.forEach(t=>{t.next()})}var My,Tw;(Tw=My||(My={})).ea="default",Tw.Cache="cache";class tR{constructor(t,e,r){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new au(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){if(!t.fromCache||!this.J_())return!0;const r=e!=="Offline";return(!this.options._a||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const e=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}oa(t){t=au.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==My.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t){this.key=t}}class nR{constructor(t){this.key=t}}class Rk{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=jt(),this.mutatedKeys=jt(),this.Aa=WA(t),this.Ra=new Bl(this.Aa)}get Va(){return this.Ta}ma(t,e){const r=e?e.fa:new vw,a=e?e.Ra:this.Ra;let l=e?e.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((y,_)=>{const b=a.get(y),R=fh(this.query,_)?_:null,O=!!b&&this.mutatedKeys.has(b.key),L=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;b&&R?b.data.isEqual(R.data)?O!==L&&(r.track({type:3,doc:R}),k=!0):this.ga(b,R)||(r.track({type:2,doc:R}),k=!0,(m&&this.Aa(R,m)>0||p&&this.Aa(R,p)<0)&&(d=!0)):!b&&R?(r.track({type:0,doc:R}),k=!0):b&&!R&&(r.track({type:1,doc:b}),k=!0,(m||p)&&(d=!0)),k&&(R?(u=u.add(R),l=L?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{Ra:u,fa:r,ns:d,mutatedKeys:l}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,a){const l=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const u=t.fa.G_();u.sort((y,_)=>function(R,O){const L=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return L(R)-L(O)}(y.type,_.type)||this.Aa(y.doc,_.doc)),this.pa(r),a=a!=null&&a;const d=e&&!a?this.ya():[],m=this.da.size===0&&this.current&&!a?1:0,p=m!==this.Ea;return this.Ea=m,u.length!==0||p?{snapshot:new au(this.query,t.Ra,l,u,t.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new vw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=jt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const e=[];return t.forEach(r=>{this.da.has(r)||e.push(new nR(r))}),this.da.forEach(r=>{t.has(r)||e.push(new eR(r))}),e}ba(t){this.Ta=t.Ts,this.da=jt();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return au.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Ck{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class Dk{constructor(t){this.key=t,this.va=!1}}class xk{constructor(t,e,r,a,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new pa(d=>YA(d),om),this.Ma=new Map,this.xa=new Set,this.Oa=new Ee(yt.comparator),this.Na=new Map,this.La=new w_,this.Ba={},this.ka=new Map,this.qa=Ao.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Pk(n,t,e=!0){const r=gm(n);let a;const l=r.Fa.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Da()):a=await rR(r,t,e,!0),a}async function Ok(n,t){const e=gm(n);await rR(e,t,!0,!1)}async function rR(n,t,e,r){const a=await jf(n.localStore,pr(t)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,e);let d;return r&&(d=await N_(n,t,l,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&pm(n.remoteStore,a),d}async function N_(n,t,e,r,a){n.Ka=(_,b,R)=>async function(L,k,Y,Z){let K=k.view.ma(Y);K.ns&&(K=await Py(L.localStore,k.query,!1).then(({documents:x})=>k.view.ma(x,K)));const st=Z&&Z.targetChanges.get(k.targetId),et=Z&&Z.targetMismatches.get(k.targetId)!=null,W=k.view.applyChanges(K,L.isPrimaryClient,st,et);return Vy(L,k.targetId,W.wa),W.snapshot}(n,_,b,R);const l=await Py(n.localStore,t,!0),u=new Rk(t,l.Ts),d=u.ma(l.documents),m=ph.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",a),p=u.applyChanges(d,n.isPrimaryClient,m);Vy(n,e,p.wa);const y=new Ck(t,e,u);return n.Fa.set(t,y),n.Ma.has(e)?n.Ma.get(e).push(t):n.Ma.set(e,[t]),p.snapshot}async function Nk(n,t,e){const r=St(n),a=r.Fa.get(t),l=r.Ma.get(a.targetId);if(l.length>1)return r.Ma.set(a.targetId,l.filter(u=>!om(u,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await iu(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),e&&su(r.remoteStore,a.targetId),ou(r,a.targetId)}).catch(fa)):(ou(r,a.targetId),await iu(r.localStore,a.targetId,!0))}async function Mk(n,t){const e=St(n),r=e.Fa.get(t),a=e.Ma.get(r.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),su(e.remoteStore,r.targetId))}async function Vk(n,t,e){const r=L_(n);try{const a=await function(u,d){const m=St(u),p=De.now(),y=d.reduce((R,O)=>R.add(O.key),jt());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",R=>{let O=mr(),L=jt();return m.cs.getEntries(R,y).next(k=>{O=k,O.forEach((Y,Z)=>{Z.isValidDocument()||(L=L.add(Y))})}).next(()=>m.localDocuments.getOverlayedDocuments(R,O)).next(k=>{_=k;const Y=[];for(const Z of d){const K=sV(Z,_.get(Z.key).overlayedDocument);K!=null&&Y.push(new hs(Z.key,K,BA(K.value.mapValue),nr.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,Y,d)}).next(k=>{b=k;const Y=k.applyToLocalDocumentSet(_,L);return m.documentOverlayCache.saveOverlays(R,k.batchId,Y)})}).then(()=>({batchId:b.batchId,changes:ZA(_)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(u,d,m){let p=u.Ba[u.currentUser.toKey()];p||(p=new Ee(kt)),p=p.insert(d,m),u.Ba[u.currentUser.toKey()]=p}(r,a.batchId,e),await ga(r,a.changes),await du(r.remoteStore)}catch(a){const l=P_(a,"Failed to persist write");e.reject(l)}}async function iR(n,t){const e=St(n);try{const r=await ek(e.localStore,t);t.targetChanges.forEach((a,l)=>{const u=e.Na.get(l);u&&(It(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.va=!0:a.modifiedDocuments.size>0?It(u.va):a.removedDocuments.size>0&&(It(u.va),u.va=!1))}),await ga(e,r,t)}catch(r){await fa(r)}}function bw(n,t,e){const r=St(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const a=[];r.Fa.forEach((l,u)=>{const d=u.view.Z_(t);d.snapshot&&a.push(d.snapshot)}),function(u,d){const m=St(u);m.onlineState=d;let p=!1;m.queries.forEach((y,_)=>{for(const b of _.j_)b.Z_(d)&&(p=!0)}),p&&O_(m)}(r.eventManager,t),a.length&&r.Ca.d_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function kk(n,t,e){const r=St(n);r.sharedClientState.updateQueryState(t,"rejected",e);const a=r.Na.get(t),l=a&&a.key;if(l){let u=new Ee(yt.comparator);u=u.insert(l,Ue.newNoDocument(l,Ct.min()));const d=jt().add(l),m=new mh(Ct.min(),new Map,new Ee(kt),u,d);await iR(r,m),r.Oa=r.Oa.remove(l),r.Na.delete(t),k_(r)}else await iu(r.localStore,t,!1).then(()=>ou(r,t,e)).catch(fa)}async function Lk(n,t){const e=St(n),r=t.batch.batchId;try{const a=await tk(e.localStore,t);V_(e,r,null),M_(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await ga(e,a)}catch(a){await fa(a)}}async function Uk(n,t,e){const r=St(n);try{const a=await function(u,d){const m=St(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next(_=>(It(_!==null),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(r.localStore,t);V_(r,t,e),M_(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await ga(r,a)}catch(a){await fa(a)}}function M_(n,t){(n.ka.get(t)||[]).forEach(e=>{e.resolve()}),n.ka.delete(t)}function V_(n,t,e){const r=St(n);let a=r.Ba[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),r.Ba[r.currentUser.toKey()]=a}}function ou(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Ma.get(t))n.Fa.delete(r),e&&n.Ca.$a(r,e);n.Ma.delete(t),n.isPrimaryClient&&n.La.gr(t).forEach(r=>{n.La.containsKey(r)||sR(n,r)})}function sR(n,t){n.xa.delete(t.path.canonicalString());const e=n.Oa.get(t);e!==null&&(su(n.remoteStore,e),n.Oa=n.Oa.remove(t),n.Na.delete(e),k_(n))}function Vy(n,t,e){for(const r of e)r instanceof eR?(n.La.addReference(r.key,t),Bk(n,r)):r instanceof nR?(ct("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,t),n.La.containsKey(r.key)||sR(n,r.key)):wt()}function Bk(n,t){const e=t.key,r=e.path.canonicalString();n.Oa.get(e)||n.xa.has(r)||(ct("SyncEngine","New document in limbo: "+e),n.xa.add(r),k_(n))}function k_(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const t=n.xa.values().next().value;n.xa.delete(t);const e=new yt(oe.fromString(t)),r=n.qa.next();n.Na.set(r,new Dk(e)),n.Oa=n.Oa.insert(e,r),pm(n.remoteStore,new as(pr(am(e.path)),r,"TargetPurposeLimboResolution",tr.oe))}}async function ga(n,t,e){const r=St(n),a=[],l=[],u=[];r.Fa.isEmpty()||(r.Fa.forEach((d,m)=>{u.push(r.Ka(m,t,e).then(p=>{var y;if((p||e)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=e==null?void 0:e.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=A_.Wi(m.targetId,p);l.push(_)}}))}),await Promise.all(u),r.Ca.d_(a),await async function(m,p){const y=St(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>G.forEach(p,b=>G.forEach(b.$i,R=>y.persistence.referenceDelegate.addReference(_,b.targetId,R)).next(()=>G.forEach(b.Ui,R=>y.persistence.referenceDelegate.removeReference(_,b.targetId,R)))))}catch(_){if(!ma(_))throw _;ct("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const R=y.os.get(b),O=R.snapshotVersion,L=R.withLastLimboFreeSnapshotVersion(O);y.os=y.os.insert(b,L)}}}(r.localStore,l))}async function Fk(n,t){const e=St(n);if(!e.currentUser.isEqual(t)){ct("SyncEngine","User change. New user:",t.toKey());const r=await UI(e.localStore,t);e.currentUser=t,function(l,u){l.ka.forEach(d=>{d.forEach(m=>{m.reject(new gt(nt.CANCELLED,u))})}),l.ka.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ga(e,r.hs)}}function zk(n,t){const e=St(n),r=e.Na.get(t);if(r&&r.va)return jt().add(r.key);{let a=jt();const l=e.Ma.get(t);if(!l)return a;for(const u of l){const d=e.Fa.get(u);a=a.unionWith(d.view.Va)}return a}}async function jk(n,t){const e=St(n),r=await Py(e.localStore,t.query,!0),a=t.view.ba(r);return e.isPrimaryClient&&Vy(e,t.targetId,a.wa),a}async function qk(n,t){const e=St(n);return zI(e.localStore,t).then(r=>ga(e,r))}async function Hk(n,t,e,r){const a=St(n),l=await function(d,m){const p=St(d),y=St(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",_=>y.Mn(_,m).next(b=>b?p.localDocuments.getDocuments(_,b):G.resolve(null)))}(a.localStore,t);l!==null?(e==="pending"?await du(a.remoteStore):e==="acknowledged"||e==="rejected"?(V_(a,t,r||null),M_(a,t),function(d,m){St(St(d).mutationQueue).On(m)}(a.localStore,t)):wt(),await ga(a,l)):ct("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Gk(n,t){const e=St(n);if(gm(e),L_(e),t===!0&&e.Qa!==!0){const r=e.sharedClientState.getAllActiveQueryTargets(),a=await ww(e,r.toArray());e.Qa=!0,await Ny(e.remoteStore,!0);for(const l of a)pm(e.remoteStore,l)}else if(t===!1&&e.Qa!==!1){const r=[];let a=Promise.resolve();e.Ma.forEach((l,u)=>{e.sharedClientState.isLocalQueryTarget(u)?r.push(u):a=a.then(()=>(ou(e,u),iu(e.localStore,u,!0))),su(e.remoteStore,u)}),await a,await ww(e,r),function(u){const d=St(u);d.Na.forEach((m,p)=>{su(d.remoteStore,p)}),d.La.pr(),d.Na=new Map,d.Oa=new Ee(yt.comparator)}(e),e.Qa=!1,await Ny(e.remoteStore,!1)}}async function ww(n,t,e){const r=St(n),a=[],l=[];for(const u of t){let d;const m=r.Ma.get(u);if(m&&m.length!==0){d=await jf(r.localStore,pr(m[0]));for(const p of m){const y=r.Fa.get(p),_=await jk(r,y);_.snapshot&&l.push(_.snapshot)}}else{const p=await FI(r.localStore,u);d=await jf(r.localStore,p),await N_(r,aR(p),u,!1,d.resumeToken)}a.push(d)}return r.Ca.d_(l),a}function aR(n){return QA(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Kk(n){return function(e){return St(St(e).persistence).Qi()}(St(n).localStore)}async function Qk(n,t,e,r){const a=St(n);if(a.Qa)return void ct("SyncEngine","Ignoring unexpected query state notification.");const l=a.Ma.get(t);if(l&&l.length>0)switch(e){case"current":case"not-current":{const u=await zI(a.localStore,XA(l[0])),d=mh.createSynthesizedRemoteEventForCurrentChange(t,e==="current",Qe.EMPTY_BYTE_STRING);await ga(a,u,d);break}case"rejected":await iu(a.localStore,t,!0),ou(a,t,r);break;default:wt()}}async function $k(n,t,e){const r=gm(n);if(r.Qa){for(const a of t){if(r.Ma.has(a)&&r.sharedClientState.isActiveQueryTarget(a)){ct("SyncEngine","Adding an already active target "+a);continue}const l=await FI(r.localStore,a),u=await jf(r.localStore,l);await N_(r,aR(l),u.targetId,!1,u.resumeToken),pm(r.remoteStore,u)}for(const a of e)r.Ma.has(a)&&await iu(r.localStore,a,!1).then(()=>{su(r.remoteStore,a),ou(r,a)}).catch(fa)}}function gm(n){const t=St(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=iR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kk.bind(null,t),t.Ca.d_=Ak.bind(null,t.eventManager),t.Ca.$a=Ik.bind(null,t.eventManager),t}function L_(n){const t=St(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Lk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Uk.bind(null,t),t}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=fm(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,e){return null}Ha(t,e){return null}za(t){return LI(this.persistence,new kI,t.initialUser,this.serializer)}Ga(t){return new MI(dm.Zr,this.serializer)}Wa(t){return new qI}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class oR extends th{constructor(t,e,r){super(),this.Ja=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.Ja.initialize(this,t),await L_(this.Ja.syncEngine),await du(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(t){return LI(this.persistence,new kI,t.initialUser,this.serializer)}ja(t,e){const r=this.persistence.referenceDelegate.garbageCollector;return new kV(r,t.asyncQueue,e)}Ha(t,e){const r=new mM(e,this.persistence);return new fM(t.asyncQueue,r)}Ga(t){const e=VI(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Zn.withCacheSize(this.cacheSizeBytes):Zn.DEFAULT;return new S_(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,HI(),gf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new qI}}class Yk extends oR{constructor(t,e){super(t,e,!1),this.Ja=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const e=this.Ja.syncEngine;this.sharedClientState instanceof Yg&&(this.sharedClientState.syncEngine={no:Hk.bind(null,e),ro:Qk.bind(null,e),io:$k.bind(null,e),Qi:Kk.bind(null,e),eo:qk.bind(null,e)},await this.sharedClientState.start()),await this.persistence.yi(async r=>{await Gk(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Wa(t){const e=HI();if(!Yg.D(e))throw new gt(nt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=VI(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Yg(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class eh{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fk.bind(null,this.syncEngine),await Ny(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Sk}()}createDatastore(t){const e=fm(t.databaseInfo.databaseId),r=function(l){return new ok(l)}(t.databaseInfo);return function(l,u,d,m){return new ck(l,u,d,m)}(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return function(r,a,l,u,d){return new dk(r,a,l,u,d)}(this.localStore,this.datastore,t.asyncQueue,e=>bw(this.syncEngine,e,0),function(){return yw.D()?new yw:new ik}())}createSyncEngine(t,e){return function(a,l,u,d,m,p,y){const _=new xk(a,l,u,d,m,p);return y&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(a){const l=St(a);ct("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await gh(l),l.k_.shutdown(),l.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}eh.provider={build:()=>new eh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Ke("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(t,e,r,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=a,this.user=Pn.UNAUTHENTICATED,this.clientId=wA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async u=>{ct("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ct("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=P_(e,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Wg(n,t){n.asyncQueue.verifyOperationInProgress(),ct("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await UI(t.localStore,a),r=a)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function Sw(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Wk(n);ct("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>_w(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>_w(t.remoteStore,a)),n._onlineComponents=t}async function Wk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ct("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===nt.FAILED_PRECONDITION||a.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;Hc("Error using user provided cache. Falling back to memory cache: "+e),await Wg(n,new th)}}else ct("FirestoreClient","Using default OfflineComponentProvider"),await Wg(n,new th);return n._offlineComponents}async function uR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ct("FirestoreClient","Using user provided OnlineComponentProvider"),await Sw(n,n._uninitializedComponentsProvider._online)):(ct("FirestoreClient","Using default OnlineComponentProvider"),await Sw(n,new eh))),n._onlineComponents}function Jk(n){return uR(n).then(t=>t.syncEngine)}async function cR(n){const t=await uR(n),e=t.eventManager;return e.onListen=Pk.bind(null,t.syncEngine),e.onUnlisten=Nk.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Ok.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Mk.bind(null,t.syncEngine),e}function Zk(n,t,e={}){const r=new _i;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,d,m,p){const y=new lR({next:b=>{y.Za(),u.enqueueAndForget(()=>ZI(l,_));const R=b.docs.has(d);!R&&b.fromCache?p.reject(new gt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&m&&m.source==="server"?p.reject(new gt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new tR(am(d.path),y,{includeMetadataChanges:!0,_a:!0});return JI(l,_)}(await cR(n),n.asyncQueue,t,e,r)),r.promise}function tL(n,t,e={}){const r=new _i;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,d,m,p){const y=new lR({next:b=>{y.Za(),u.enqueueAndForget(()=>ZI(l,_)),b.fromCache&&m.source==="server"?p.reject(new gt(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new tR(d,y,{includeMetadataChanges:!0,_a:!0});return JI(l,_)}(await cR(n),n.asyncQueue,t,e,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(n,t,e){if(!e)throw new gt(nt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function eL(n,t,e,r){if(t===!0&&r===!0)throw new gt(nt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Iw(n){if(!yt.isDocumentKey(n))throw new gt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Rw(n){if(yt.isDocumentKey(n))throw new gt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ym(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":wt()}function da(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new gt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=ym(n);throw new gt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t){var e,r;if(t.host===void 0){if(t.ssl!==void 0)throw new gt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(e=t.ssl)===null||e===void 0||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new gt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}eL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hR((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class U_{constructor(t,e,r,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cw(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rM;switch(r.type){case"firstParty":return new aM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new gt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Aw.get(e);r&&(ct("ComponentProvider","Removing Datastore"),Aw.delete(e),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new mu(this.firestore,t,this._query)}}class Hn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Hn(this.firestore,t,this._key)}}class aa extends mu{constructor(t,e,r){super(t,e,am(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Hn(this.firestore,null,new yt(t))}withConverter(t){return new aa(this.firestore,t,this._path)}}function B_(n,t,...e){if(n=xe(n),dR("collection","path",t),n instanceof U_){const r=oe.fromString(t,...e);return Rw(r),new aa(n,null,r)}{if(!(n instanceof Hn||n instanceof aa))throw new gt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(oe.fromString(t,...e));return Rw(r),new aa(n.firestore,null,r)}}function yr(n,t,...e){if(n=xe(n),arguments.length===1&&(t=wA.newId()),dR("doc","path",t),n instanceof U_){const r=oe.fromString(t,...e);return Iw(r),new Hn(n,null,new yt(r))}{if(!(n instanceof Hn||n instanceof aa))throw new gt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(oe.fromString(t,...e));return Iw(r),new Hn(n.firestore,n instanceof aa?n.converter:null,new yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new GI(this,"async_queue_retry"),this.Vu=()=>{const r=gf();r&&ct("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const e=gf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=gf();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const e=new _i;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!ma(t))throw t;ct("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const e=this.mu.then(()=>(this.du=!0,t().catch(r=>{this.Eu=r,this.du=!1;const a=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(r);throw Ke("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.du=!1,r))));return this.mu=e,e}enqueueAfterDelay(t,e,r){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const a=x_.createAndSchedule(this,t,e,r,l=>this.yu(l));return this.Tu.push(a),a}fu(){this.Eu&&wt()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.Tu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}class yh extends U_{constructor(t,e,r,a){super(t,e,r,a),this.type="firestore",this._queue=new Dw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Dw(t),this._firestoreClient=void 0,await t}}}function nL(n,t,e){e||(e="(default)");const r=Zf(n,"firestore");if(r.isInitialized(e)){const a=r.getImmediate({identifier:e}),l=r.getOptions(e);if(zc(l,t))return a;throw new gt(nt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new gt(nt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new gt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:e})}function F_(n){if(n._terminated)throw new gt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rL(n),n._firestoreClient}function rL(n){var t,e,r;const a=n._freezeSettings(),l=function(d,m,p,y){return new VM(d,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,hR(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((e=a.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new Xk(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new lu(Qe.fromBase64String(t))}catch(e){throw new gt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new lu(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new gt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ce(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new gt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=/^__.*__$/;class sL{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new hs(t,this.data,this.fieldMask,e,this.fieldTransforms):new hu(t,this.data,e,this.fieldTransforms)}}class fR{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new hs(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function mR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class H_{constructor(t,e,r,a,l,u){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new H_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.Fu({path:r,xu:!1});return a.Ou(t),a}Nu(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.Fu({path:r,xu:!1});return a.vu(),a}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Kf(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(mR(this.Cu)&&iL.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class aL{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||fm(t)}Qu(t,e,r,a=!1){return new H_({Cu:t,methodName:e,qu:r,path:Ce.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G_(n){const t=n._freezeSettings(),e=fm(n._databaseId);return new aL(n._databaseId,!!t.ignoreUndefinedProperties,e)}function oL(n,t,e,r,a,l={}){const u=n.Qu(l.merge||l.mergeFields?2:0,t,e,a);K_("Data must be an object, but it was:",u,r);const d=pR(r,u);let m,p;if(l.merge)m=new er(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=ky(t,_,e);if(!u.contains(b))throw new gt(nt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);yR(y,b)||y.push(b)}m=new er(y),p=u.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=u.fieldTransforms;return new sL(new On(d),m,p)}class vm extends z_{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof vm}}function lL(n,t,e,r){const a=n.Qu(1,t,e);K_("Data must be an object, but it was:",a,r);const l=[],u=On.empty();Do(r,(m,p)=>{const y=Q_(t,m,e);p=xe(p);const _=a.Nu(y);if(p instanceof vm)l.push(y);else{const b=_h(p,_);b!=null&&(l.push(y),u.set(y,b))}});const d=new er(l);return new fR(u,d,a.fieldTransforms)}function uL(n,t,e,r,a,l){const u=n.Qu(1,t,e),d=[ky(t,r,e)],m=[a];if(l.length%2!=0)throw new gt(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(ky(t,l[b])),m.push(l[b+1]);const p=[],y=On.empty();for(let b=d.length-1;b>=0;--b)if(!yR(p,d[b])){const R=d[b];let O=m[b];O=xe(O);const L=u.Nu(R);if(O instanceof vm)p.push(R);else{const k=_h(O,L);k!=null&&(p.push(R),y.set(R,k))}}const _=new er(p);return new fR(y,_,u.fieldTransforms)}function cL(n,t,e,r=!1){return _h(e,n.Qu(r?4:3,t))}function _h(n,t){if(gR(n=xe(n)))return K_("Unsupported field value:",t,n),pR(n,t);if(n instanceof z_)return function(r,a){if(!mR(a.Cu))throw a.Bu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(r,a){const l=[];let u=0;for(const d of r){let m=_h(d,a.Lu(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}}(n,t)}return function(r,a){if((r=xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=De.fromDate(r);return{timestampValue:ru(a.serializer,l)}}if(r instanceof De){const l=new De(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ru(a.serializer,l)}}if(r instanceof j_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lu)return{bytesValue:dI(a.serializer,r._byteString)};if(r instanceof Hn){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:E_(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof q_)return function(u,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw d.Bu("VectorValues must only contain numeric values.");return m_(d.serializer,m)})}}}}}}(r,a);throw a.Bu(`Unsupported field value: ${ym(r)}`)}(n,t)}function pR(n,t){const e={};return VA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Do(n,(r,a)=>{const l=_h(a,t.Mu(r));l!=null&&(e[r]=l)}),{mapValue:{fields:e}}}function gR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof De||n instanceof j_||n instanceof lu||n instanceof Hn||n instanceof z_||n instanceof q_)}function K_(n,t,e){if(!gR(e)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(e)){const r=ym(e);throw r==="an object"?t.Bu(n+" a custom object"):t.Bu(n+" "+r)}}function ky(n,t,e){if((t=xe(t))instanceof _m)return t._internalPath;if(typeof t=="string")return Q_(n,t);throw Kf("Field path arguments must be of type string or ",n,!1,void 0,e)}const hL=new RegExp("[~\\*/\\[\\]]");function Q_(n,t,e){if(t.search(hL)>=0)throw Kf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new _m(...t.split("."))._internalPath}catch{throw Kf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Kf(n,t,e,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${r}`),u&&(m+=` in document ${a}`),m+=")"),new gt(nt.INVALID_ARGUMENT,d+n+m)}function yR(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t,e,r,a,l){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new dL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field($_("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class dL extends _R{data(){return super.data()}}function $_(n,t){return typeof t=="string"?Q_(n,t):t instanceof _m?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new gt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Y_{}class mL extends Y_{}function pL(n,t,...e){let r=[];t instanceof Y_&&r.push(t),r=r.concat(e),function(l){const u=l.filter(m=>m instanceof X_).length,d=l.filter(m=>m instanceof Em).length;if(u>1||u>0&&d>0)throw new gt(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class Em extends mL{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new Em(t,e,r)}_apply(t){const e=this._parse(t);return vR(t._query,e),new mu(t.firestore,t.converter,by(t._query,e))}_parse(t){const e=G_(t.firestore);return function(l,u,d,m,p,y,_){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new gt(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Ow(_,y);const R=[];for(const O of _)R.push(Pw(m,l,O));b={arrayValue:{values:R}}}else b=Pw(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Ow(_,y),b=cL(d,u,_,y==="in"||y==="not-in");return Xt.create(p,y,b)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function xw(n,t,e){const r=t,a=$_("where",n);return Em._create(a,r,e)}class X_ extends Y_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new X_(t,e)}_parse(t){const e=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return e.length===1?e[0]:he.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(a,l){let u=a;const d=l.getFlattenedFilters();for(const m of d)vR(u,m),u=by(u,m)}(t._query,e),new mu(t.firestore,t.converter,by(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Pw(n,t,e){if(typeof(e=xe(e))=="string"){if(e==="")throw new gt(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$A(t)&&e.indexOf("/")!==-1)throw new gt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(oe.fromString(e));if(!yt.isDocumentKey(r))throw new gt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xc(n,new yt(r))}if(e instanceof Hn)return Xc(n,e._key);throw new gt(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ym(e)}.`)}function Ow(n,t){if(!Array.isArray(n)||n.length===0)throw new gt(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function vR(n,t){const e=function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new gt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new gt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class gL{convertValue(t,e="none"){switch(To(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ie(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ua(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw wt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Do(t,(a,l)=>{r[a]=this.convertValue(l,e)}),r}convertVectorValue(t){var e,r,a;const l=(a=(r=(e=t.fields)===null||e===void 0?void 0:e.value.arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>Ie(u.doubleValue));return new q_(l)}convertGeoPoint(t){return new j_(Ie(t.latitude),Ie(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=h_(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp($c(t));default:return null}}convertTimestamp(t){const e=cs(t);return new De(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=oe.fromString(t);It(bI(r));const a=new Eo(r.get(1),r.get(3)),l=new yt(r.popFirst(5));return a.isEqual(e)||Ke(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ER extends _R{constructor(t,e,r,a,l,u){super(t,e,r,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field($_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class yf extends ER{data(t={}){return super.data(t)}}class _L{constructor(t,e,r,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Cc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new yf(this._firestore,this._userDataWriter,r.key,r,new Cc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(d=>{const m=new yf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Cc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new yf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Cc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:vL(d.type),doc:m,oldIndex:p,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function vL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(n){n=da(n,Hn);const t=da(n.firestore,yh);return Zk(F_(t),n._key).then(e=>TL(t,n,e))}class TR extends gL{constructor(t){super(),this.firestore=t}convertBytes(t){return new lu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Hn(this.firestore,null,e)}}function bR(n){n=da(n,mu);const t=da(n.firestore,yh),e=F_(t),r=new TR(t);return fL(n._query),tL(e,n._query).then(a=>new _L(t,r,n,a))}function Po(n,t,e){n=da(n,Hn);const r=da(n.firestore,yh),a=yL(n.converter,t,e);return wR(r,[oL(G_(r),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,nr.none())])}function EL(n,t,e,...r){n=da(n,Hn);const a=da(n.firestore,yh),l=G_(a);let u;return u=typeof(t=xe(t))=="string"||t instanceof _m?uL(l,"updateDoc",n._key,t,e,r):lL(l,"updateDoc",n._key,t),wR(a,[u.toMutation(n._key,nr.exists(!0))])}function wR(n,t){return function(r,a){const l=new _i;return r.asyncQueue.enqueueAndForget(async()=>Vk(await Jk(r),a,l)),l.promise}(F_(n),t)}function TL(n,t,e){const r=e.docs.get(t._key),a=new TR(n);return new ER(n,a,t._key,r,new Cc(e.hasPendingWrites,e.fromCache),t.converter)}class bL{constructor(t){let e;this.kind="persistent",t!=null&&t.tabManager?(t.tabManager._initialize(t),e=t.tabManager):(e=IL(),e._initialize(t)),this._onlineComponentProvider=e._onlineComponentProvider,this._offlineComponentProvider=e._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function wL(n){return new bL(n)}class SL{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=eh.provider,this._offlineComponentProvider={build:e=>new oR(e,t==null?void 0:t.cacheSizeBytes,this.forceOwnership)}}}class AL{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=eh.provider,this._offlineComponentProvider={build:e=>new Yk(e,t==null?void 0:t.cacheSizeBytes)}}}function IL(n){return new SL(void 0)}function RL(){return new AL}(function(t,e=!0){(function(a){cu=a})(Ro),yo(new la("firestore",(r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),d=new yh(new iM(r.getProvider("auth-internal")),new lM(r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new gt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eo(p.options.projectId,y)}(u,a),u);return l=Object.assign({useFetchStreams:e},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),gi(Sb,"4.7.3",t),gi(Sb,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="firebasestorage.googleapis.com",AR="storageBucket",CL=2*60*1e3,DL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe extends bi{constructor(t,e,r=0){super(Jg(t),`Firebase Storage: ${e} (${Jg(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fe.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Jg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Be;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Be||(Be={}));function Jg(n){return"storage/"+n}function W_(){const n="An unknown error occurred, please check the error payload for server response.";return new Fe(Be.UNKNOWN,n)}function xL(n){return new Fe(Be.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function PL(n){return new Fe(Be.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OL(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Fe(Be.UNAUTHENTICATED,n)}function NL(){return new Fe(Be.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ML(n){return new Fe(Be.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function VL(){return new Fe(Be.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kL(){return new Fe(Be.CANCELED,"User canceled the upload/download.")}function LL(n){return new Fe(Be.INVALID_URL,"Invalid URL '"+n+"'.")}function UL(n){return new Fe(Be.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function BL(){return new Fe(Be.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+AR+"' property when initializing the app?")}function FL(){return new Fe(Be.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zL(){return new Fe(Be.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jL(n){return new Fe(Be.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ly(n){return new Fe(Be.INVALID_ARGUMENT,n)}function IR(){return new Fe(Be.APP_DELETED,"The Firebase app was deleted.")}function qL(n){return new Fe(Be.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lc(n,t){return new Fe(Be.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Tc(n){throw new Fe(Be.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=zn.makeFromUrl(t,e)}catch{return new zn(t,"")}if(r.path==="")return r;throw UL(t)}static makeFromUrl(t,e){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(st){st.path.charAt(st.path.length-1)==="/"&&(st.path_=st.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function p(st){st.path_=decodeURIComponent(st.path)}const y="v[A-Za-z0-9_]+",_=e.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",R=new RegExp(`^https?://${_}/${y}/b/${a}/o${b}`,"i"),O={bucket:1,path:3},L=e===SR?"(?:storage.googleapis.com|storage.cloud.google.com)":e,k="([^?#]*)",Y=new RegExp(`^https?://${L}/${a}/${k}`,"i"),K=[{regex:d,indices:m,postModify:l},{regex:R,indices:O,postModify:p},{regex:Y,indices:{bucket:1,path:2},postModify:p}];for(let st=0;st<K.length;st++){const et=K[st],W=et.regex.exec(t);if(W){const x=W[et.indices.bucket];let w=W[et.indices.path];w||(w=""),r=new zn(x,w),et.postModify(r);break}}if(r==null)throw LL(t);return r}}class HL{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(n,t,e){let r=1,a=null,l=null,u=!1,d=0;function m(){return d===2}let p=!1;function y(...k){p||(p=!0,t.apply(null,k))}function _(k){a=setTimeout(()=>{a=null,n(R,m())},k)}function b(){l&&clearTimeout(l)}function R(k,...Y){if(p){b();return}if(k){b(),y.call(null,k,...Y);return}if(m()||u){b(),y.call(null,k,...Y);return}r<64&&(r*=2);let K;d===1?(d=2,K=0):K=(r+Math.random())*1e3,_(K)}let O=!1;function L(k){O||(O=!0,b(),!p&&(a!==null?(k||(d=2),clearTimeout(a),_(0)):k||(d=1)))}return _(0),l=setTimeout(()=>{u=!0,L(!0)},e),L}function KL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(n){return n!==void 0}function $L(n){return typeof n=="object"&&!Array.isArray(n)}function J_(n){return typeof n=="string"||n instanceof String}function Nw(n){return Z_()&&n instanceof Blob}function Z_(){return typeof Blob<"u"}function Uy(n,t,e,r){if(r<t)throw Ly(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw Ly(`Invalid value for '${n}'. Expected ${e} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(n,t,e){let r=t;return e==null&&(r=`https://${t}`),`${e}://${r}/v0${n}`}function RR(n){const t=encodeURIComponent;let e="?";for(const r in n)if(n.hasOwnProperty(r)){const a=t(r)+"="+t(n[r]);e=e+a+"&"}return e=e.slice(0,-1),e}var po;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(po||(po={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(n,t){const e=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=t.indexOf(n)!==-1;return e||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(t,e,r,a,l,u,d,m,p,y,_,b=!0){this.url_=t,this.method_=e,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,O)=>{this.resolve_=R,this.reject_=O,this.start_()})}start_(){const t=(r,a)=>{if(a){r(!1,new tf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=d=>{const m=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const d=l.getErrorCode()===po.NO_ERROR,m=l.getStatus();if(!d||YL(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===po.ABORT;r(!1,new tf(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;r(!0,new tf(p,l))})},e=(r,a)=>{const l=this.resolve_,u=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());QL(m)?l(m):l()}catch(m){u(m)}else if(d!==null){const m=W_();m.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,m)):u(m)}else if(a.canceled){const m=this.appDelete_?IR():kL();u(m)}else{const m=VL();u(m)}};this.canceled_?e(!1,new tf(!1,null,!0)):this.backoffId_=GL(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&KL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class tf{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function WL(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function JL(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function ZL(n,t){t&&(n["X-Firebase-GMPID"]=t)}function t4(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function e4(n,t,e,r,a,l,u=!0){const d=RR(n.urlParams),m=n.url+d,p=Object.assign({},n.headers);return ZL(p,t),WL(p,e),JL(p,l),t4(p,r),new XL(m,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function r4(...n){const t=n4();if(t!==void 0){const e=new t;for(let r=0;r<n.length;r++)e.append(n[r]);return e.getBlob()}else{if(Z_())return new Blob(n);throw new Fe(Be.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function i4(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(n){if(typeof atob>"u")throw jL("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Zg{constructor(t,e){this.data=t,this.contentType=e||null}}function a4(n,t){switch(n){case pi.RAW:return new Zg(CR(t));case pi.BASE64:case pi.BASE64URL:return new Zg(DR(n,t));case pi.DATA_URL:return new Zg(l4(t),u4(t))}throw W_()}function CR(n){const t=[];for(let e=0;e<n.length;e++){let r=n.charCodeAt(e);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const l=r,u=n.charCodeAt(++e);r=65536|(l&1023)<<10|u&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function o4(n){let t;try{t=decodeURIComponent(n)}catch{throw Lc(pi.DATA_URL,"Malformed data URL.")}return CR(t)}function DR(n,t){switch(n){case pi.BASE64:{const a=t.indexOf("-")!==-1,l=t.indexOf("_")!==-1;if(a||l)throw Lc(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case pi.BASE64URL:{const a=t.indexOf("+")!==-1,l=t.indexOf("/")!==-1;if(a||l)throw Lc(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=s4(t)}catch(a){throw a.message.includes("polyfill")?a:Lc(n,"Invalid character found")}const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r}class xR{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw Lc(pi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;r!=null&&(this.base64=c4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function l4(n){const t=new xR(n);return t.base64?DR(pi.BASE64,t.rest):o4(t.rest)}function u4(n){return new xR(n).contentType}function c4(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t,e){let r=0,a="";Nw(t)?(this.data_=t,r=t.size,a=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,e){if(Nw(this.data_)){const r=this.data_,a=i4(r,t,e);return a===null?null:new Ys(a)}else{const r=new Uint8Array(this.data_.buffer,t,e-t);return new Ys(r,!0)}}static getBlob(...t){if(Z_()){const e=t.map(r=>r instanceof Ys?r.data_:r);return new Ys(r4.apply(null,e))}else{const e=t.map(u=>J_(u)?a4(pi.RAW,u).data:u.data_);let r=0;e.forEach(u=>{r+=u.byteLength});const a=new Uint8Array(r);let l=0;return e.forEach(u=>{for(let d=0;d<u.length;d++)a[l++]=u[d]}),new Ys(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(n){let t;try{t=JSON.parse(n)}catch{return null}return $L(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function d4(n,t){const e=t.split("/").filter(r=>r.length>0).join("/");return n.length===0?e:n+"/"+e}function PR(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(n,t){return t}class Un{constructor(t,e,r,a){this.server=t,this.local=e||t,this.writable=!!r,this.xform=a||f4}}let ef=null;function m4(n){return!J_(n)||n.length<2?n:PR(n)}function OR(){if(ef)return ef;const n=[];n.push(new Un("bucket")),n.push(new Un("generation")),n.push(new Un("metageneration")),n.push(new Un("name","fullPath",!0));function t(l,u){return m4(u)}const e=new Un("name");e.xform=t,n.push(e);function r(l,u){return u!==void 0?Number(u):u}const a=new Un("size");return a.xform=r,n.push(a),n.push(new Un("timeCreated")),n.push(new Un("updated")),n.push(new Un("md5Hash",null,!0)),n.push(new Un("cacheControl",null,!0)),n.push(new Un("contentDisposition",null,!0)),n.push(new Un("contentEncoding",null,!0)),n.push(new Un("contentLanguage",null,!0)),n.push(new Un("contentType",null,!0)),n.push(new Un("metadata","customMetadata",!0)),ef=n,ef}function p4(n,t){function e(){const r=n.bucket,a=n.fullPath,l=new zn(r,a);return t._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:e})}function g4(n,t,e){const r={};r.type="file";const a=e.length;for(let l=0;l<a;l++){const u=e[l];r[u.local]=u.xform(r,t[u.server])}return p4(r,n),r}function NR(n,t,e){const r=tv(t);return r===null?null:g4(n,r,e)}function y4(n,t,e,r){const a=tv(t);if(a===null||!J_(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(p=>{const y=n.bucket,_=n.fullPath,b="/b/"+u(y)+"/o/"+u(_),R=vh(b,e,r),O=RR({alt:"media",token:p});return R+O})[0]}function _4(n,t){const e={},r=t.length;for(let a=0;a<r;a++){const l=t[a];l.writable&&(e[l.server]=n[l.local])}return JSON.stringify(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="prefixes",Vw="items";function v4(n,t,e){const r={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[Mw])for(const a of e[Mw]){const l=a.replace(/\/$/,""),u=n._makeStorageReference(new zn(t,l));r.prefixes.push(u)}if(e[Vw])for(const a of e[Vw]){const l=n._makeStorageReference(new zn(t,a.name));r.items.push(l)}return r}function E4(n,t,e){const r=tv(e);return r===null?null:v4(n,t,r)}class Tm{constructor(t,e,r,a){this.url=t,this.method=e,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(n){if(!n)throw W_()}function T4(n,t){function e(r,a){const l=NR(n,a,t);return ev(l!==null),l}return e}function b4(n,t){function e(r,a){const l=E4(n,t,a);return ev(l!==null),l}return e}function w4(n,t){function e(r,a){const l=NR(n,a,t);return ev(l!==null),y4(l,a,n.host,n._protocol)}return e}function nv(n){function t(e,r){let a;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?a=NL():a=OL():e.getStatus()===402?a=PL(n.bucket):e.getStatus()===403?a=ML(n.path):a=r,a.status=e.getStatus(),a.serverResponse=r.serverResponse,a}return t}function MR(n){const t=nv(n);function e(r,a){let l=t(r,a);return r.getStatus()===404&&(l=xL(n.path)),l.serverResponse=a.serverResponse,l}return e}function S4(n,t,e,r,a){const l={};t.isRoot?l.prefix="":l.prefix=t.path+"/",e.length>0&&(l.delimiter=e),r&&(l.pageToken=r),a&&(l.maxResults=a);const u=t.bucketOnlyServerUrl(),d=vh(u,n.host,n._protocol),m="GET",p=n.maxOperationRetryTime,y=new Tm(d,m,b4(n,t.bucket),p);return y.urlParams=l,y.errorHandler=nv(t),y}function A4(n,t,e){const r=t.fullServerUrl(),a=vh(r,n.host,n._protocol),l="GET",u=n.maxOperationRetryTime,d=new Tm(a,l,w4(n,e),u);return d.errorHandler=MR(t),d}function I4(n,t){const e=t.fullServerUrl(),r=vh(e,n.host,n._protocol),a="DELETE",l=n.maxOperationRetryTime;function u(m,p){}const d=new Tm(r,a,u,l);return d.successCodes=[200,204],d.errorHandler=MR(t),d}function R4(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function C4(n,t,e){const r=Object.assign({},e);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=R4(null,t)),r}function D4(n,t,e,r,a){const l=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let K="";for(let st=0;st<2;st++)K=K+Math.random().toString().slice(2);return K}const m=d();u["Content-Type"]="multipart/related; boundary="+m;const p=C4(t,r,a),y=_4(p,e),_="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,b=`\r
--`+m+"--",R=Ys.getBlob(_,r,b);if(R===null)throw FL();const O={name:p.fullPath},L=vh(l,n.host,n._protocol),k="POST",Y=n.maxUploadRetryTime,Z=new Tm(L,k,T4(n,e),Y);return Z.urlParams=O,Z.headers=u,Z.body=R.uploadData(),Z.errorHandler=nv(t),Z}class x4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=po.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=po.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=po.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,r,a){if(this.sent_)throw Tc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class P4 extends x4{initXhr(){this.xhr_.responseType="text"}}function bm(){return new P4}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,e){this._service=t,e instanceof zn?this._location=e:this._location=zn.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Io(t,e)}get root(){const t=new zn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PR(this._location.path)}get storage(){return this._service}get parent(){const t=h4(this._location.path);if(t===null)return null;const e=new zn(this._location.bucket,t);return new Io(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw qL(t)}}function O4(n,t,e){n._throwIfRoot("uploadBytes");const r=D4(n.storage,n._location,OR(),new Ys(t,!0),e);return n.storage.makeRequestWithTokens(r,bm).then(a=>({metadata:a,ref:n}))}function N4(n){const t={prefixes:[],items:[]};return VR(n,t).then(()=>t)}async function VR(n,t,e){const a=await M4(n,{pageToken:e});t.prefixes.push(...a.prefixes),t.items.push(...a.items),a.nextPageToken!=null&&await VR(n,t,a.nextPageToken)}function M4(n,t){t!=null&&typeof t.maxResults=="number"&&Uy("options.maxResults",1,1e3,t.maxResults);const e=t||{},r=S4(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(r,bm)}function V4(n){n._throwIfRoot("getDownloadURL");const t=A4(n.storage,n._location,OR());return n.storage.makeRequestWithTokens(t,bm).then(e=>{if(e===null)throw zL();return e})}function k4(n){n._throwIfRoot("deleteObject");const t=I4(n.storage,n._location);return n.storage.makeRequestWithTokens(t,bm)}function L4(n,t){const e=d4(n._location.path,t),r=new zn(n._location.bucket,e);return new Io(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(n){return/^[A-Za-z]+:\/\//.test(n)}function B4(n,t){return new Io(n,t)}function kR(n,t){if(n instanceof rv){const e=n;if(e._bucket==null)throw BL();const r=new Io(e,e._bucket);return t!=null?kR(r,t):r}else return t!==void 0?L4(n,t):n}function F4(n,t){if(t&&U4(t)){if(n instanceof rv)return B4(n,t);throw Ly("To use ref(service, url), the first argument must be a Storage instance.")}else return kR(n,t)}function kw(n,t){const e=t==null?void 0:t[AR];return e==null?null:zn.makeFromBucketSpec(e,n)}function z4(n,t,e,r={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:Px(a,n.app.options.projectId))}class rv{constructor(t,e,r,a,l){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=SR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CL,this._maxUploadRetryTime=DL,this._requests=new Set,a!=null?this._bucket=zn.makeFromBucketSpec(a,this._host):this._bucket=kw(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=zn.makeFromBucketSpec(this._url,t):this._bucket=kw(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Uy("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Uy("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Io(this,t)}_makeRequest(t,e,r,a,l=!0){if(this._deleted)return new HL(IR());{const u=e4(t,this._appId,r,a,e,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(t,e){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,r,a).getPromise()}}const Lw="@firebase/storage",Uw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="storage";function UR(n,t,e){return n=xe(n),O4(n,t,e)}function j4(n){return n=xe(n),N4(n)}function BR(n){return n=xe(n),V4(n)}function q4(n){return n=xe(n),k4(n)}function Eh(n,t){return n=xe(n),F4(n,t)}function H4(n=PS(),t){n=xe(n);const r=Zf(n,LR).getImmediate({identifier:t}),a=Dx("storage");return a&&G4(r,...a),r}function G4(n,t,e,r={}){z4(n,t,e,r)}function K4(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new rv(e,r,a,t,Ro)}function Q4(){yo(new la(LR,K4,"PUBLIC").setMultipleInstances(!0)),gi(Lw,Uw,""),gi(Lw,Uw,"esm2017")}Q4();const FR=H4(),$4=Eh(FR,"profilePictures"),By=Eh(FR,"menuItems"),r9=async(n,t)=>{const e=Eh($4,n);return await UR(e,t),await BR(e)},i9=async(n,t)=>{const e=Eh(By,n);return await UR(e,t),await BR(e)},Y4=async n=>{const t=Eh(By,n),{items:e}=await j4(By);e.some(a=>a.name===n)&&await q4(t)},Gn=nL(dA,{localCache:wL({cacheSizeBytes:2e8,tabManager:RL()})});async function s9(n,t,e){const r=yr(Gn,"users",n);await Po(r,{uid:n,email:t,photoURL:e,firstName:"",lastName:"",phoneNumber:"",department:"",role:"employee",isProfileComplete:!1})}function iv(){const n=wi();return new Promise(t=>{const e=tA(n,r=>{e(),t(r)})})}async function a9(){const n=B_(Gn,"users");return(await bR(n)).docs.map(r=>r.data())}async function sv(){const t=wi().currentUser;if(t){const e=yr(Gn,"users",t.uid),r=await ya(e);if(r.exists()){const a=r.data();return a?a.isProfileComplete:!1}else throw new Error("User document does not exist")}else throw new Error("No user is currently logged in")}async function o9(n,t){const e=yr(Gn,"users",n),r={...t,isProfileComplete:!0};await EL(e,r)}async function X4(){const t=wi().currentUser;if(t){const e=yr(Gn,"users",t.uid),r=await ya(e);if(r.exists())return r.data();throw new Error("User document does not exist")}else throw new Error("No user is currently logged in")}async function l9(){const n=yr(Gn,"kanban","allItems"),t=await ya(n);return t.exists()?t.data().items:null}async function u9(n){const e=wi().currentUser;if(e){const r=n.map(l=>({...l,uid:e.displayName})),a=yr(Gn,"kanban","allItems");await Po(a,{items:r},{merge:!0})}}async function c9(){const n=yr(Gn,"calendarEvents","allEvents"),t=await ya(n);if(t.exists()){const e=t.data();return e&&e.event&&(e.event=e.event.map(r=>{const{uid:a,...l}=r;return l})),e.event}else return[]}async function h9(n){const e=wi().currentUser;if(e){const r=n.map(l=>({...l,uid:e.displayName})),a=yr(Gn,"calendarEvents","allEvents");await Po(a,{event:r},{merge:!0})}}async function d9(){const n=yr(Gn,"menu","allFoodItems"),t=await ya(n);if(t.exists()){const e=t.data();return e&&e.foodItems&&(e.foodItems=e.foodItems.map(r=>{const{uid:a,...l}=r;return l})),e.foodItems}else return[]}async function f9(n){const e=wi().currentUser;if(e){const r={...n,uid:e.displayName},a=yr(Gn,"menu","allFoodItems"),l=await ya(a);let u=[];l.exists()&&(u=l.data().foodItems||[]),u.push(r);try{await Po(a,{foodItems:u},{merge:!0})}catch(d){throw new Error(`Failed to update document: ${d}`)}}}async function m9(n){const e=wi().currentUser;if(e){const r={...n,uid:e.displayName},a=yr(Gn,"menu","allFoodItems"),l=await ya(a);if(!l.exists())return;const u=l.data().foodItems||[],d=u.findIndex(m=>m.foodId===n.foodId);if(d===-1)return;u[d]=r;try{await Po(a,{foodItems:u},{merge:!0})}catch(m){throw new Error(`Failed to update document: ${m}`)}}}async function p9(n){if(!wi().currentUser)return;const r=yr(Gn,"menu","allFoodItems");try{const a=await ya(r);if(!a.exists()){console.error("No food items document found.");return}const u=(a.data().foodItems||[]).filter(d=>d.foodId!==n);await Po(r,{foodItems:u},{merge:!0});try{await Y4(n)}catch(d){console.error(`Failed to delete menu item image for foodId ${n}:`,d)}}catch(a){console.error("Failed to delete food item:",a)}}async function g9(n){const e=wi().currentUser;if(e){const r={...n,processedBy:e.displayName},a=yr(B_(Gn,"orderHistory"));try{await Po(a,r),console.log("Order history entry created successfully")}catch(l){throw console.error(`Failed to create order history entry: ${l}`),new Error(`Failed to create order history entry: ${l}`)}}else throw console.error("No authenticated user found"),new Error("No authenticated user found")}async function W4(n,t){const e=B_(Gn,"orderHistory"),r=new Date(n).toISOString(),a=new Date(new Date(t).setDate(new Date(t).getDate()+1)).toISOString(),l=pL(e,xw("receiptDate",">=",r),xw("receiptDate","<",a));try{const u=await bR(l),d=[];return u.forEach(m=>{d.push({id:m.id,...m.data()})}),d}catch(u){throw console.error("Error getting documents: ",u),new Error(`Failed to get orders in range: ${u}`)}}const J4=()=>ln(()=>import("./profileComplete-KA1PLpsZ.js"),__vite__mapDeps([5,6,7,2,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])),zR=wn("/profileComplete")({component:an(J4,"component",()=>zR.ssr),beforeLoad:async({location:n})=>{if(!await iv())throw go({to:"/",search:{redirect:n.href}});if(await sv())throw go({to:"/home/welcome",search:{redirect:n.href}})}}),Z4=()=>ln(()=>import("./home-Crb8JMwc.js"),__vite__mapDeps([24,25,7,2])),tU=()=>ln(()=>import("./home-CEYRfPuh.js"),__vite__mapDeps([26,27,28,9,7,2,11,6,8,10,12,13,14,15,17,1,3,29,4,30])),jR=wn("/home")({component:an(tU,"component",()=>jR.ssr),beforeLoad:async({location:n})=>{if(!await iv())throw go({to:"/",search:{redirect:n.href}});if(!await sv())throw go({to:"/profileComplete",search:{redirect:n.href}})},notFoundComponent:an(Z4,"notFoundComponent")}),eU=()=>ln(()=>import("./about-C4HXL6Hj.js"),[]),qR=wn("/about")({component:an(eU,"component",()=>qR.ssr)}),nU=()=>ln(()=>import("./index-J59Cn4qw.js"),__vite__mapDeps([31,6,7,2,8,9,10,11,12,13,32,33,34,19])),HR=wn("/")({component:an(nU,"component",()=>HR.ssr),beforeLoad:async({location:n})=>{if(!await iv())return null;throw await sv()?go({to:"/home/editMenu",search:r=>({...r,category:"appetizers",redirect:n.href})}):go({to:"/profileComplete",search:{redirect:n.href}})}}),rU=()=>ln(()=>import("./welcome-CUCIViOX.js"),__vite__mapDeps([35,18,2])),GR=wn("/home/welcome")({component:an(rU,"component",()=>GR.ssr)}),iU=()=>ln(()=>import("./stock-WvRsN62e.js"),__vite__mapDeps([36,7,2,14,15,37,38,33,34,39])),KR=wn("/home/stock")({component:an(iU,"component",()=>KR.ssr)}),sU=()=>ln(()=>import("./settings-CSHccr2k.js"),__vite__mapDeps([40,7,2,18,41,42,9,12,10])),QR=wn("/home/settings")({component:an(sU,"component",()=>QR.ssr)}),aU=()=>ln(()=>import("./orders-dTpO549j.js"),__vite__mapDeps([43,32,33,34,44,9,7,2,21,19,29,45,14,15,28,11,23,46,37])),$R=wn("/home/orders")({validateSearch:n=>({category:n.category||""}),component:an(aU,"component",()=>$R.ssr)}),oU=()=>ln(()=>import("./help-BgXjyjj-.js"),[]),YR=wn("/home/help")({component:an(oU,"component",()=>YR.ssr)}),lU=()=>ln(()=>import("./employee-Cg1XGRc8.js"),__vite__mapDeps([47,7,2,16,17,9,8,10,11,12,13,27,28,19,20,21,22,48,45,49,50,14])),XR=wn("/home/employee")({component:an(lU,"component",()=>XR.ssr),beforeLoad:async()=>{const n=await X4();if(n.role!=="owner"&&n.role!=="admin")throw go({to:"/home/welcome"})}}),uU=()=>ln(()=>import("./editMenu-DjKlxGrk.js"),__vite__mapDeps([51,32,33,34,16,44,9,7,2,21,27,28,11,20,10,13,15,14,19,38,42,12,45,49,39])),WR=wn("/home/editMenu")({validateSearch:n=>({category:n.category||""}),component:an(uU,"component",()=>WR.ssr)}),cU=()=>ut.jsx("div",{className:"flex justify-center items-center bg-white dark:bg-white rounded-2xl w-4/5 h-4/5",children:ut.jsxs("div",{className:"top-0 left-0 z-10 fixed flex flex-col justify-center items-center w-full h-full overflow-hidden",children:[ut.jsxs("svg",{version:"1.1",className:"w-24 h-24",viewBox:"0 0 108 108",children:[ut.jsxs("g",{id:"donut-back",children:[ut.jsx("ellipse",{id:"donut-back-outer",fill:"#FFFFFF",stroke:"#2D0202",strokeWidth:"2",strokeMiterlimit:"10",cx:"54.5",cy:"54",rx:"45.5",ry:"42"}),ut.jsxs("g",{id:"donut-back-inner",children:[ut.jsx("circle",{fill:"#FFFFFF",cx:"57.5",cy:"53.5",r:"19.5"}),ut.jsx("path",{fill:"#2D0202",d:`M57.5,35C67.701,35,76,43.299,76,53.5S67.701,72,57.5,72S39,63.701,39,53.5S47.299,35,57.5,35 M57.5,33
                    C46.178,33,37,42.178,37,53.5S46.178,74,57.5,74S78,64.822,78,53.5S68.822,33,57.5,33L57.5,33z`})]})]}),ut.jsxs("g",{id:"donut-front",children:[ut.jsx("path",{fill:"#FFFFFF",d:`M51,96C27.841,96,9,77.159,9,54c0-23.159,18.841-42,42-42c23.159,0,42,18.841,42,42
                C93,77.159,74.159,96,51,96z M51,35c-10.477,0-19,8.523-19,19s8.523,19,19,19s19-8.523,19-19S61.477,35,51,35z`}),ut.jsx("path",{fill:"#2D0202",d:`M51,13c22.607,0,41,18.393,41,41S73.607,95,51,95S10,76.607,10,54S28.393,13,51,13 M51,74
                c11.028,0,20-8.972,20-20s-8.972-20-20-20s-20,8.972-20,20S39.972,74,51,74 M51,11C27.25,11,8,30.25,8,54s19.25,43,43,43
                s43-19.25,43-43S74.75,11,51,11L51,11z M51,72c-9.94,0-18-8.06-18-18s8.06-18,18-18s18,8.06,18,18S60.94,72,51,72L51,72z`}),ut.jsxs("g",{id:"sprinkles",className:"sprinkle-animation",children:[ut.jsx("line",{fill:"#FFFFFF",stroke:"#ffb8d0",strokeWidth:"2",strokeMiterlimit:"10",x1:"53.5",y1:"26.5",x2:"58.5",y2:"19.5"}),ut.jsx("line",{fill:"#FFFFFF",stroke:"#e11d48",strokeWidth:"2",strokeMiterlimit:"10",x1:"67.991",y1:"32.77",x2:"76.009",y2:"39.23"}),ut.jsx("line",{fill:"#FFFFFF",stroke:"#2563EB",strokeWidth:"2",strokeMiterlimit:"10",x1:"74.852",y1:"65.301",x2:"83.148",y2:"60.699"}),ut.jsx("line",{fill:"#FFFFFF",stroke:"#F97316",strokeWidth:"2",strokeMiterlimit:"10",x1:"61.964",y1:"77.107",x2:"71.036",y2:"82.393"}),ut.jsx("line",{fill:"#FFFFFF",stroke:"#16A34A",strokeWidth:"2",strokeMiterlimit:"10",x1:"42.612",y1:"79.393",x2:"37.612",y2:"86.393"}),ut.jsx("line",{fill:"#FFFFFF",stroke:"#FACC15",strokeWidth:"2",strokeMiterlimit:"10",x1:"30.121",y1:"73.123",x2:"22.103",y2:"66.664"}),ut.jsx("line",{fill:"#FFFFFF",stroke:"#7C3AED",strokeWidth:"2",strokeMiterlimit:"10",x1:"26.26",y1:"46.593",x2:"17.964",y2:"51.194"}),ut.jsx("line",{fill:"#FFFFFF",stroke:"#e11d48",strokeWidth:"2",strokeMiterlimit:"10",x1:"37.148",y1:"31.787",x2:"28.076",y2:"26.5"})]})]})]}),ut.jsx("p",{className:"pl-3 text-2d0202 text-center",children:"Preparing your Cake..."})]})}),y9=6048e5,_9=864e5,v9=6e4,E9=36e5,Bw=Symbol.for("constructDateFrom");function JR(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&Bw in n?n[Bw](t):n instanceof Date?new n.constructor(t):new Date(t)}function hU(n,t){return JR(t||n,n)}function dU(n,t,e){const r=hU(n,e==null?void 0:e.in);return isNaN(t)?JR((e==null?void 0:e.in)||n,NaN):(t&&r.setDate(r.getDate()+t),r)}function fU(n,t,e){return dU(n,-t,e)}const mU=()=>ln(()=>import("./dashboard-Dgtz41rn.js"),__vite__mapDeps([52,25,7,2])),pU=()=>ln(()=>import("./dashboard-CScUeap0.js"),__vite__mapDeps([53,7,2,54,50,9,11,4,41,42,12,10,18,14,34,17,30,15,48,8,13,45,19,49])),ZR=wn("/home/dashboard")({validateSearch:n=>{var m;const e=["overview","analytics","reports","notifications"].includes((m=n.tab)==null?void 0:m.toLowerCase())?n.tab.toLowerCase():"overview",r=/^\d{4}-\d{2}-\d{2}$/,a=fU(new Date,7),l=new Date,u=typeof n.from=="string"&&r.test(n.from)?n.from:a.toISOString().split("T")[0],d=typeof n.to=="string"&&r.test(n.to)?n.to:l.toISOString().split("T")[0];return{tab:e,from:u,to:d}},component:an(pU,"component",()=>ZR.ssr),loaderDeps:({search:{from:n,to:t}})=>({from:n,to:t}),loader:async({deps:{from:n,to:t},context:{queryClient:e}})=>e.ensureQueryData(gU({from:n,to:t})),pendingComponent:cU,errorComponent:an(mU,"errorComponent")}),gU=({from:n,to:t})=>({queryKey:["orderHistory"],queryFn:()=>W4(n,t),placeholderData:[],staleTime:Number.POSITIVE_INFINITY,gcTime:Number.POSITIVE_INFINITY}),yU=()=>ln(()=>import("./calendar-lMR_0Xhf.js"),__vite__mapDeps([55,7,2,54,50,9,11,20,21,10,13,4,27,28,19,14,15,3,39,37,46])),t1=wn("/home/calendar")({component:an(yU,"component",()=>t1.ssr)}),_U=()=>ln(()=>import("./billing-D6GgmL1v.js"),[]),e1=wn("/home/billing")({component:an(_U,"component",()=>e1.ssr)}),vU=()=>ln(()=>import("./account-PhBbSHG7.js"),[]),n1=wn("/home/account")({component:an(vU,"component",()=>n1.ssr)}),EU=pA.update({id:"/testingRoute",path:"/testingRoute",getParentRoute:()=>Co}),TU=gA.update({id:"/splashscreen",path:"/splashscreen",getParentRoute:()=>Co}),bU=zR.update({id:"/profileComplete",path:"/profileComplete",getParentRoute:()=>Co}),Nr=jR.update({id:"/home",path:"/home",getParentRoute:()=>Co}),wU=qR.update({id:"/about",path:"/about",getParentRoute:()=>Co}),SU=HR.update({id:"/",path:"/",getParentRoute:()=>Co}),AU=GR.update({id:"/welcome",path:"/welcome",getParentRoute:()=>Nr}),IU=KR.update({id:"/stock",path:"/stock",getParentRoute:()=>Nr}),RU=QR.update({id:"/settings",path:"/settings",getParentRoute:()=>Nr}),CU=$R.update({id:"/orders",path:"/orders",getParentRoute:()=>Nr}),DU=YR.update({id:"/help",path:"/help",getParentRoute:()=>Nr}),xU=XR.update({id:"/employee",path:"/employee",getParentRoute:()=>Nr}),PU=WR.update({id:"/editMenu",path:"/editMenu",getParentRoute:()=>Nr}),OU=ZR.update({id:"/dashboard",path:"/dashboard",getParentRoute:()=>Nr}),NU=t1.update({id:"/calendar",path:"/calendar",getParentRoute:()=>Nr}),MU=e1.update({id:"/billing",path:"/billing",getParentRoute:()=>Nr}),VU=n1.update({id:"/account",path:"/account",getParentRoute:()=>Nr}),kU={HomeAccountRoute:VU,HomeBillingRoute:MU,HomeCalendarRoute:NU,HomeDashboardRoute:OU,HomeEditMenuRoute:PU,HomeEmployeeRoute:xU,HomeHelpRoute:DU,HomeOrdersRoute:CU,HomeSettingsRoute:RU,HomeStockRoute:IU,HomeWelcomeRoute:AU},LU=Nr._addFileChildren(kU),UU={IndexRoute:SU,AboutRoute:wU,HomeRoute:LU,ProfileCompleteRoute:bU,SplashscreenRoute:TU,TestingRouteRoute:EU},BU=Co._addFileChildren(UU)._addFileTypes(),r1=new oD,FU=_x({routeTree:BU,context:{queryClient:r1},defaultPreload:"intent",defaultPreloadStaleTime:0}),Fw=document.getElementById("root");Fw.innerHTML||UC.createRoot(Fw).render(ut.jsx(Et.StrictMode,{children:ut.jsx(lD,{client:r1,children:ut.jsx(Tx,{router:FU})})}));export{_9 as $,a9 as A,i9 as B,m9 as C,p9 as D,WR as E,f9 as F,Gs as G,Fy as H,JR as I,hU as J,E9 as K,gx as L,v9 as M,fU as N,Ky as O,jU as P,es as Q,ft as R,cU as S,pS as T,gU as U,ZR as V,zD as W,dU as X,vS as Y,h9 as Z,c9 as _,r9 as a,y9 as a0,Qf as a1,HU as a2,Uc as a3,iD as a4,Fn as a5,lx as a6,eb as a7,Yy as a8,YU as a9,YC as aa,jC as ab,RT as ac,jr as ad,$f as ae,FC as af,zC as ag,Jw as ah,tD as ai,HC as aj,qU as ak,o9 as b,ch as c,QU as d,X4 as e,JO as f,iv as g,WU as h,yr as i,ut as j,Gn as k,ya as l,s9 as m,sv as n,JU as o,Ti as p,u9 as q,Et as r,XU as s,ZU as t,gS as u,YN as v,l9 as w,$R as x,g9 as y,d9 as z};
