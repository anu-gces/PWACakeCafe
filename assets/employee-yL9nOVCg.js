import{c as N,j as e,R as j,A as b}from"./index-Cqcx5OyV.js";import{B as m}from"./button-BfsSAjqZ.js";import{F as v,c as y,d as w,b as l}from"./index.esm-BwwcurUE.js";import{A as D,a as C,b as I}from"./avatar-DXzjvYGm.js";import{D as F,a as S,b as q,d as R,c as h,e as P}from"./dropdown-menu-Clx9PG_f.js";import{D as U,b as f,c as B,d as E,e as K,f as L}from"./drawer-Bn3GaOwa.js";import{L as t,I as o}from"./label-DwsEhAWp.js";import{S as u,a as p,b as M,c as x,d as n}from"./select-CnzSI0-8.js";import{U as T}from"./user-round-CBSr1cZ2.js";import{D as A}from"./dataTable-BJp4-O6e.js";import{u as O}from"./utils-JbW6ZCj6.js";import{u as V}from"./useQuery-CorNVHUU.js";import"./index-BS-jFnvq.js";import"./index-DYvwT-Pj.js";import"./Combination-Bn4msgXm.js";import"./index-DTTjr2dW.js";import"./check-DE69Ub3H.js";import"./index-B21LAI3U.js";import"./index-D6_3ZbbE.js";import"./table-C1LXsWX-.js";import"./search-hCUYqa2R.js";import"./chevron-right-S9KqgxZ3.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],$=N("arrow-up-down",_);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Y=N("ellipsis",z),G=y().shape({uid:l().required("UID is required"),email:l().email("Invalid email").required("Email is required"),firstName:l().required("First name is required"),lastName:l().required("Last name is required"),phoneNumber:l().matches(/^[0-9]*$/,"Phone number must be a number").required("Phone number is required"),department:l().oneOf(["kitchen","guest_relations","operations","management"],"Invalid department").required("Department is required"),role:l().oneOf(["employee","admin","owner"],"Role must be either 'employee', 'admin', or 'owner'").required("Role is required")}),H=[{id:"photo",accessorKey:"photo",header:"Photo",cell:({row:r})=>e.jsxs(D,{className:"w-10 h-10 cursor-pointer",children:[e.jsx(C,{alt:"Profile Picture",src:r.original.photoURL||""}),e.jsx(I,{children:e.jsx(T,{})})]})},{id:"uid",accessorKey:"uid",header:"UID",enableResizing:!0},{id:"firstName",accessorKey:"firstName",header:({column:r})=>e.jsxs(m,{variant:"ghost",onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),children:["First Name",e.jsx($,{className:"ml-2 w-4 h-4"})]}),cell:({row:r})=>e.jsx("div",{className:"pl-4",children:r.original.firstName}),meta:{label:"First Name"},enableResizing:!0},{id:"lastName",accessorKey:"lastName",header:"Last Name",enableResizing:!0},{id:"phoneNumber",accessorKey:"phoneNumber",header:"Phone Number",enableResizing:!0},{id:"email",accessorKey:"email",header:"Email",enableResizing:!0},{id:"department",accessorKey:"department",header:"Department"},{id:"role",accessorKey:"role",header:"Role"},{id:"isProfileComplete",accessorKey:"isProfileComplete",header:"Profile Complete",cell:({row:r})=>r.original.isProfileComplete?"Yes":"No"},{id:"actions",accessorKey:"actions",header:"Actions",cell:({row:r})=>{const s=r.original,[d,c]=j.useState(!1),g={uid:s.uid,email:s.email,firstName:s.firstName,lastName:s.lastName,phoneNumber:s.phoneNumber,department:s.department,role:s.role};return e.jsxs(e.Fragment,{children:[e.jsxs(F,{children:[e.jsx(S,{asChild:!0,children:e.jsxs(m,{variant:"ghost",className:"p-0 w-8 h-8",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(Y,{className:"w-4 h-4"})]})}),e.jsxs(q,{align:"end",children:[e.jsx(R,{children:"Actions"}),e.jsx(h,{onClick:()=>navigator.clipboard.writeText(s.uid),children:"Copy user ID"}),e.jsx(P,{}),e.jsx(h,{onClick:()=>c(!0),children:"Edit User Details"}),e.jsx(h,{className:"text-primary",onClick:()=>{},children:"Delete User"})]})]}),e.jsx(U,{open:d,onOpenChange:c,children:e.jsxs(f,{children:[e.jsxs(B,{children:[e.jsx(E,{children:"Edit User Details"}),e.jsx(K,{children:"Make changes to Profile here."})]}),e.jsx(v,{initialValues:g,validationSchema:G,onSubmit:(a,i)=>{console.log("nerd"),console.log(a),i.setSubmitting(!1),c(!1)},children:a=>e.jsxs(w,{children:[e.jsxs("div",{className:"gap-4 grid py-4",children:[e.jsxs("div",{className:"items-center gap-4 grid grid-cols-4",children:[e.jsx(t,{htmlFor:"uid",className:"text-right",children:"UID"}),e.jsx(o,{id:"uid",type:"text",name:"uid",placeholder:"UID",className:"col-span-3",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.uid,disabled:!0})]}),e.jsxs("div",{className:"items-center gap-4 grid grid-cols-4",children:[e.jsx(t,{className:"text-right",htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"space-y-1 col-span-3",children:[e.jsx(o,{id:"email",type:"text",name:"email",placeholder:"Email",className:`appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${a.touched.email&&a.errors.email?"border-red-500 mb-1":""}`,onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.email}),a.touched.email&&a.errors.email?e.jsx("p",{className:"text-red-500 text-xs italic",children:a.errors.email}):null]})]}),e.jsxs("div",{className:"items-center gap-4 grid grid-cols-4",children:[e.jsx(t,{className:"text-right",htmlFor:"firstName",children:"First Name"}),e.jsxs("div",{className:"space-y-1 col-span-3",children:[e.jsx(o,{id:"firstName",type:"text",name:"firstName",placeholder:"First Name",className:`appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${a.touched.firstName&&a.errors.firstName?"border-red-500 mb-1":""}`,onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.firstName}),a.touched.firstName&&a.errors.firstName?e.jsx("p",{className:"text-red-500 text-xs italic",children:a.errors.firstName}):null]})]}),e.jsxs("div",{className:"items-center gap-4 grid grid-cols-4",children:[e.jsx(t,{className:"text-right",htmlFor:"lastName",children:"Last Name"}),e.jsxs("div",{className:"space-y-1 col-span-3",children:[e.jsx(o,{id:"lastName",type:"text",name:"lastName",placeholder:"Last Name",className:`appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${a.touched.lastName&&a.errors.lastName?"border-red-500 mb-1":""}`,onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.lastName}),a.touched.lastName&&a.errors.lastName?e.jsx("p",{className:"text-red-500 text-xs italic",children:a.errors.lastName}):null]})]}),e.jsxs("div",{className:"items-center gap-4 grid grid-cols-4",children:[e.jsx(t,{className:"text-right text-nowrap",htmlFor:"phoneNumber",children:"Phone Number"}),e.jsxs("div",{className:"space-y-1 col-span-3",children:[e.jsx(o,{id:"phoneNumber",type:"text",name:"phoneNumber",placeholder:"Phone Number",className:`appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${a.touched.phoneNumber&&a.errors.phoneNumber?"border-red-500 mb-1":""}`,onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.phoneNumber}),a.touched.phoneNumber&&a.errors.phoneNumber?e.jsx("p",{className:"text-red-500 text-xs italic",children:a.errors.phoneNumber}):null]})]}),e.jsxs("div",{className:"items-center gap-4 grid grid-cols-4",children:[e.jsx(t,{className:"text-right",htmlFor:"department",children:"Department"}),e.jsxs("div",{className:"space-y-1 col-span-3",children:[e.jsxs(u,{name:"department",value:a.values.department,onValueChange:i=>a.setFieldValue("department",i),children:[e.jsx(p,{children:e.jsx(M,{placeholder:"Select Department"})}),e.jsxs(x,{children:[e.jsx(n,{value:"kitchen",children:"Kitchen"}),e.jsx(n,{value:"guest_relations",children:"Guest Relations"}),e.jsx(n,{value:"operations",children:"Operations"}),e.jsx(n,{value:"management",children:"Management"})]})]}),a.touched.department&&a.errors.department?e.jsx("div",{className:"text-red-500",children:a.errors.department}):null]})]}),e.jsxs("div",{className:"items-center gap-4 grid grid-cols-4",children:[e.jsx(t,{className:"text-right",htmlFor:"role",children:"Role"}),e.jsxs("div",{className:"space-y-1 col-span-3",children:[e.jsxs(u,{name:"role",value:a.values.role,onValueChange:i=>{a.setFieldValue("role",i),a.validateField("role")},children:[e.jsx(p,{children:a.values.role||"Select Role"}),e.jsxs(x,{children:[e.jsx(n,{value:"admin",children:"Admin"}),e.jsx(n,{value:"employee",children:"Employee"}),e.jsx(n,{value:"owner",children:"Owner"})]})]}),a.touched.role&&a.errors.role?e.jsx("p",{className:"text-red-500 text-xs italic",children:a.errors.role}):null]})]})]}),e.jsx(L,{children:e.jsx(m,{type:"submit",children:"Submit"})})]})})]})})]})}}],Ne=()=>{const{data:r,isLoading:s,error:d}=V({queryKey:["usersManagement"],queryFn:b,staleTime:Number.POSITIVE_INFINITY,gcTime:Number.POSITIVE_INFINITY});return O(s),d?e.jsx("div",{children:"Error occurred"}):e.jsx(e.Fragment,{children:e.jsx(A,{columns:H,data:r||[],filterColumnId:"firstName",visibleColumns:["actions","firstName","phoneNumber"]})})};export{Ne as component};
